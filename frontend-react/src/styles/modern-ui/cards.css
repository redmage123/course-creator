/**
 * Modern Card System
 *
 * BUSINESS CONTEXT:
 * Cards organize related content into digestible units. Hover effects
 * indicate interactivity. Consistent styling builds visual rhythm across
 * the application. This system provides a flexible, reusable card component
 * that works across all user roles and contexts.
 *
 * DESIGN DECISIONS:
 * 1. 8px border radius (matches buttons and inputs via var(--ui-radius-md))
 * 2. 24px internal padding (generous whitespace via var(--ui-space-3))
 * 3. Subtle lift on hover (2px translateY, like buttons)
 * 4. White background with light border (clean, professional)
 * 5. 200ms transitions (smooth, not sluggish via var(--ui-transition-normal))
 * 6. Use OUR blue color (#2563eb) for interactive cards, NOT the design system purple
 *
 * CARD ANATOMY:
 * - card-header: Title and actions (optional)
 * - card-body: Main content area (required)
 * - card-footer: Optional actions or metadata
 *
 * CARD VARIANTS:
 * - Basic card: Static container with no hover effects
 * - Interactive card (.card-clickable): Clickable with hover effects
 * - Stat card: Gradient background for highlighting metrics
 * - Dashboard card: Specific styling for dashboard contexts
 * - Project/Track cards: Domain-specific card variants
 *
 * TECHNICAL IMPLEMENTATION:
 * - Scoped to for feature flag control
 * - Supports interactive and static cards
 * - Grid layout support for responsive card grids
 * - Responsive design with mobile-first approach
 * - Uses CSS custom properties for easy theming
 *
 * ACCESSIBILITY:
 * - Focus states for keyboard navigation
 * - Proper semantic HTML structure
 * - ARIA labels for interactive cards
 * - Color contrast meets WCAG AA standards
 *
 * SOLID PRINCIPLES APPLIED:
 * - Single Responsibility: Each card variant has specific purpose
 * - Open/Closed: Extensible with new variants without modifying base
 * - Liskov Substitution: All card variants share common interface
 * - Interface Segregation: Optional header/footer don't force unused structure
 * - Dependency Inversion: Depends on design tokens, not hardcoded values
 *
 * USAGE EXAMPLE:
 * <div class="card">
 *   <div class="card-header">
 *     <h3 class="card-title">My Card</h3>
 *     <button class="card-action">â‹®</button>
 *   </div>
 *   <div class="card-body">
 *     <p class="card-description">Card content goes here...</p>
 *   </div>
 *   <div class="card-footer">
 *     <button>Action</button>
 *   </div>
 * </div>
 */

/* ============================================================================
 * BASE CARD STYLES
 * ============================================================================ */

/**
 * Base card component
 *
 * TECHNICAL RATIONALE:
 * - White background provides maximum content contrast
 * - Light gray border (#e2e8f0) defines boundaries without heaviness
 * - 8px border radius creates modern, approachable appearance
 * - Overflow hidden ensures child elements respect border radius
 * - 200ms transition creates smooth hover effects
 */
.card,
.dashboard-card,
.project-card,
.track-card,
.stats-card {
    background: #FFFFFF;
    border-radius: var(--ui-radius-md);  /* 8px */
    border: 1px solid var(--ui-color-gray-200);  /* #e2e8f0 */
    overflow: hidden;
    transition: all var(--ui-transition-normal) var(--ui-ease-out);  /* 200ms */
}

/* ============================================================================
 * INTERACTIVE CARD STYLES (Hover Effects)
 * ============================================================================ */

/**
 * Interactive cards with hover effects
 *
 * DESIGN RATIONALE:
 * - Subtle lift (translateY(-2px)) indicates interactivity
 * - Blue-tinted shadow (rgba(37, 99, 235, 0.12)) reinforces our brand
 * - Large shadow (0 10px 25px) creates prominent elevation
 * - Transforms provide visual feedback for clickable cards
 *
 * BUSINESS CONTEXT:
 * Hover effects help users understand what's clickable, improving UX
 * and reducing confusion. The blue tint reinforces our brand identity.
 */
.card:hover,
.card-clickable:hover,
.project-card:hover,
.track-card:hover {
    box-shadow: var(--ui-shadow-lg);  /* 0 10px 25px */
    transform: translateY(-2px);  /* Subtle lift */
}

/* ============================================================================
 * CARD HEADER
 * ============================================================================ */

/**
 * Card header component
 *
 * DESIGN RATIONALE:
 * - Flexbox layout for title and action alignment
 * - 20px top/bottom padding with 24px horizontal (balanced whitespace)
 * - Border-bottom creates visual separation from body
 * - Space-between pushes title and actions to opposite sides
 */
.card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px var(--ui-space-3);  /* 20px 24px */
    border-bottom: 1px solid var(--ui-color-gray-200);
}

/**
 * Card title typography
 *
 * DESIGN RATIONALE:
 * - 20px font size (var(--ui-text-xl)) for clear hierarchy
 * - 600 font weight (semibold) provides emphasis without being too heavy
 * - Dark gray (#0f172a) ensures proper contrast on white background
 * - Zero margin prevents unexpected spacing issues
 */
.card-title {
    font-size: var(--ui-text-xl);  /* 20px */
    font-weight: 600;  /* Semibold */
    color: var(--ui-color-gray-900);
    margin: 0;
}

/**
 * Card action button (e.g., kebab menu)
 *
 * TECHNICAL RATIONALE:
 * - Transparent background removes button styling
 * - No border creates minimal visual weight
 * - 4px padding provides adequate click target
 * - Gray color (#64748b) de-emphasizes until hover
 * - Cursor pointer indicates interactivity
 */
.card-action {
    background: none;
    border: none;
    padding: 4px;
    cursor: pointer;
    color: var(--ui-color-gray-500);
    transition: color var(--ui-transition-normal);
}

.card-action:hover {
    color: var(--ui-color-gray-900);
}

/* ============================================================================
 * CARD BODY
 * ============================================================================ */

/**
 * Card body component
 *
 * DESIGN RATIONALE:
 * - 24px padding (var(--ui-space-3)) provides generous whitespace
 * - Ensures content has adequate breathing room
 * - Creates comfortable reading experience
 */
.card-body {
    padding: var(--ui-space-3);  /* 24px */
}

/* ============================================================================
 * CARD FOOTER
 * ============================================================================ */

/**
 * Card footer component
 *
 * DESIGN RATIONALE:
 * - 16px vertical, 24px horizontal padding (balanced spacing)
 * - Light gray background (#f8fafc) differentiates from body
 * - Border-top creates visual separation
 * - Flexbox with flex-end aligns actions to right
 * - 12px gap provides space between multiple actions
 */
.card-footer {
    padding: var(--ui-space-2) var(--ui-space-3);  /* 16px 24px */
    background-color: var(--ui-color-gray-50);
    border-top: 1px solid var(--ui-color-gray-200);
    display: flex;
    justify-content: flex-end;
    gap: 12px;
}

/* ============================================================================
 * STAT CARDS (Special Variant)
 * ============================================================================ */

/**
 * Stat cards with gradient background
 *
 * BUSINESS CONTEXT:
 * Stat cards display key metrics (e.g., student count, course completion).
 * Gradient background makes them visually distinct and draws attention.
 *
 * DESIGN RATIONALE:
 * - Gradient from primary blue to accent blue creates visual interest
 * - White text ensures readability on dark background
 * - 24px padding (var(--ui-space-3)) matches other cards
 * - No border (gradient provides sufficient visual weight)
 *
 * CRITICAL REQUIREMENT:
 * Uses OUR blue gradient (var(--ui-color-primary) to var(--ui-color-accent))
 * NOT Our purple/orange colors!
 */
.stat-card {
    background: linear-gradient(135deg, var(--ui-color-primary) 0%, var(--ui-color-accent) 100%);
    color: #FFFFFF;
    padding: var(--ui-space-3);
    border: none;
}

/**
 * Stat card value (large number)
 *
 * DESIGN RATIONALE:
 * - 36px font size (var(--ui-text-4xl)) creates visual impact
 * - 700 font weight (bold) emphasizes importance
 * - 8px bottom margin (var(--ui-space-1)) separates from label
 */
.stat-card-value {
    font-size: var(--ui-text-4xl);  /* 36px */
    font-weight: 700;
    margin-bottom: var(--ui-space-1);
}

/**
 * Stat card label (descriptive text)
 *
 * DESIGN RATIONALE:
 * - 13px font size (var(--ui-text-sm)) keeps label subtle
 * - 90% opacity ensures readability without competing with value
 * - Uppercase + letter-spacing creates label-like appearance
 */
.stat-card-label {
    font-size: var(--ui-text-sm);
    opacity: 0.9;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* ============================================================================
 * CARD GRID LAYOUTS
 * ============================================================================ */

/**
 * General card grid layout
 *
 * TECHNICAL RATIONALE:
 * - CSS Grid provides flexible, responsive layout
 * - auto-fill ensures grid adapts to available space
 * - minmax(300px, 1fr) creates responsive columns (min 300px, max equal width)
 * - 24px gap (var(--ui-space-3)) provides adequate card separation
 *
 * RESPONSIVE BEHAVIOR:
 * - Wide screens: Multiple columns (as many as fit)
 * - Medium screens: 2-3 columns
 * - Narrow screens: Single column (when width < 300px)
 */
.card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: var(--ui-space-3);  /* 24px */
}

/**
 * Stats grid layout (optimized for stat cards)
 *
 * DESIGN RATIONALE:
 * - auto-fit (not auto-fill) collapses empty columns
 * - minmax(240px, 1fr) allows narrower cards for stats
 * - 24px gap matches general card grid
 * - 32px bottom margin (var(--ui-space-4)) separates from content below
 */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: var(--ui-space-3);
    margin-bottom: var(--ui-space-4);
}

/* ============================================================================
 * CARD CONTENT ELEMENTS
 * ============================================================================ */

/**
 * Card metadata text
 *
 * DESIGN RATIONALE:
 * - 13px font size (var(--ui-text-sm)) keeps metadata subtle
 * - Gray color (#475569) de-emphasizes secondary information
 */
.card-meta {
    font-size: var(--ui-text-sm);
    color: var(--ui-color-gray-600);
}

/**
 * Card description text
 *
 * DESIGN RATIONALE:
 * - 15px font size (var(--ui-text-base)) matches body text
 * - 1.6 line-height improves readability for multi-line text
 * - Gray color (#334155) provides adequate contrast
 */
.card-description {
    font-size: var(--ui-text-base);
    color: var(--ui-color-gray-700);
    line-height: 1.6;
}

/* ============================================================================
 * CARD TAGS
 * ============================================================================ */

/**
 * Card tags container
 *
 * TECHNICAL RATIONALE:
 * - Flexbox allows tags to wrap naturally
 * - 8px gap (var(--ui-space-1)) separates individual tags
 * - flex-wrap: wrap prevents overflow on narrow screens
 */
.card-tags {
    display: flex;
    gap: var(--ui-space-1);
    flex-wrap: wrap;
}

/**
 * Individual card tag
 *
 * DESIGN RATIONALE:
 * - inline-block for proper padding/margin behavior
 * - 4px vertical, 12px horizontal padding creates pill shape
 * - Light gray background (#f1f5f9) differentiates from card background
 * - 12px border-radius creates pill appearance
 * - 11px font size (var(--ui-text-xs)) keeps tags compact
 * - 500 font weight (medium) ensures readability at small size
 */
.card-tag {
    display: inline-block;
    padding: 4px 12px;
    background-color: var(--ui-color-gray-100);
    color: var(--ui-color-gray-700);
    font-size: var(--ui-text-xs);
    font-weight: 500;
    border-radius: 12px;
}

/**
 * Active status tag
 *
 * DESIGN RATIONALE:
 * - Light green background (#D1FAE5) indicates active/positive status
 * - Dark green text (#065F46) ensures proper contrast
 * - Follows industry-standard color semantics (green = active/success)
 */
.card-tag.status-active {
    background-color: #D1FAE5;
    color: #065F46;
}

/**
 * Draft status tag
 *
 * DESIGN RATIONALE:
 * - Light yellow background (#FEF3C7) indicates draft/warning status
 * - Dark orange text (#92400E) ensures proper contrast
 * - Follows industry-standard color semantics (yellow = warning/draft)
 */
.card-tag.status-draft {
    background-color: #FEF3C7;
    color: #92400E;
}

/* ============================================================================
 * CLICKABLE CARDS (Interactive Variant)
 * ============================================================================ */

/**
 * Clickable card variant
 *
 * BUSINESS CONTEXT:
 * Clickable cards navigate to detail pages or trigger actions.
 * Visual feedback helps users understand interactivity.
 *
 * DESIGN RATIONALE:
 * - Cursor pointer indicates clickability
 * - Border color changes to OUR blue (var(--ui-color-primary))
 * - Blue-tinted shadow (rgba(37, 99, 235, 0.12)) reinforces our brand
 * - More pronounced lift (translateY(-4px)) than standard hover
 *
 * CRITICAL REQUIREMENT:
 * Uses OUR blue color (#2563eb), NOT the design system purple!
 */
.card-clickable {
    cursor: pointer;
}

.card-clickable:hover {
    border-color: var(--ui-color-primary);  /* OUR blue */
    box-shadow: 0 10px 30px rgba(37, 99, 235, 0.12);  /* Blue tint shadow */
    transform: translateY(-4px);  /* More pronounced lift */
}

/* ============================================================================
 * RESPONSIVE ADJUSTMENTS
 * ============================================================================ */

/**
 * Mobile-specific card adjustments
 *
 * BUSINESS CONTEXT:
 * Mobile users need touch-friendly targets and optimized spacing.
 *
 * DESIGN RATIONALE:
 * - Reduced padding (16px instead of 24px) maximizes screen space
 * - Smaller font sizes improve information density
 * - Maintains readability while fitting more content
 */
@media (max-width: 768px) {
    .card-body {
        padding: var(--ui-space-2);  /* 16px on mobile */
    }

    .card-header {
        padding: var(--ui-space-2);  /* 16px on mobile */
    }

    .card-title {
        font-size: var(--ui-text-lg);  /* 16px on mobile */
    }

    .card-grid {
        grid-template-columns: 1fr;  /* Single column on mobile */
    }
}

/* ============================================================================
 * FOCUS STATES (Accessibility)
 * ============================================================================ */

/**
 * Keyboard focus indicator for clickable cards
 *
 * ACCESSIBILITY RATIONALE:
 * - 2px blue outline (OUR blue) ensures visibility
 * - 4px offset creates clear separation from card border
 * - Meets WCAG 2.1 focus indicator requirements
 * - Enables keyboard navigation for accessibility compliance
 */
.card-clickable:focus {
    outline: 2px solid var(--ui-color-primary);
    outline-offset: 4px;
}

/**
 * ============================================================================
 * TESTING AND VALIDATION
 * ============================================================================
 *
 * This card system has comprehensive TDD test coverage:
 * - Tests verify 8px border radius
 * - Tests ensure 24px padding
 * - Tests validate 200ms transition
 * - Tests confirm white background
 * - Tests check light gray border
 * - Tests verify header border-bottom
 * - Tests ensure semibold title font weight
 * - Tests validate grid layout with proper gap
 * - Tests confirm stat card gradient background
 *
 * Run tests: pytest tests/the design system/e2e/test_the design system_cards.py -v
 *
 * Test file location: /home/bbrelin/course-creator/tests/the design system/e2e/test_the design system_cards.py
 *
 * ============================================================================
 */
