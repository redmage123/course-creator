<!-- Analytics Dashboard Component -->
<!-- Single Responsibility: Display analytics data and performance metrics -->
<section id="analytics-section" class="content-section">
    <div class="section-header">
        <h2>Analytics Dashboard</h2>
        <div class="section-actions">
            <button onclick="refreshAnalytics()" class="btn btn-secondary">
                <i class="fas fa-sync-alt"></i>
                Refresh Data
            </button>
            <button onclick="generateReport()" class="btn btn-primary">
                <i class="fas fa-file-pdf"></i>
                Generate Report
            </button>
        </div>
    </div>

    <!-- Analytics Controls -->
    <div class="analytics-controls">
        <div class="control-group">
            <label for="analytics-course">Course:</label>
            <select id="analytics-course" onchange="loadAnalytics()">
                <option value="">All Courses</option>
            </select>
        </div>
        
        <div class="control-group">
            <label for="analytics-timeframe">Time Period:</label>
            <select id="analytics-timeframe" onchange="loadAnalytics()">
                <option value="7">Last 7 days</option>
                <option value="30" selected>Last 30 days</option>
                <option value="90">Last 3 months</option>
                <option value="365">Last year</option>
            </select>
        </div>
    </div>

    <!-- Loading/Error States -->
    <div id="analyticsLoading" class="loading-indicator" style="display: none;">
        <i class="fas fa-spinner fa-spin"></i>
        <span>Loading analytics data...</span>
    </div>
    
    <div id="analyticsError" class="alert alert-danger" style="display: none;"></div>
    <div id="analyticsSuccess" class="alert alert-success" style="display: none;"></div>

    <!-- Analytics Content -->
    <div id="analyticsContent" class="analytics-content">
        <!-- Overview Metrics -->
        <div class="analytics-overview">
            <div class="metric-card">
                <div class="metric-icon">
                    <i class="fas fa-eye"></i>
                </div>
                <div class="metric-content">
                    <h3 id="total-views">0</h3>
                    <p>Total Views</p>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-icon">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="metric-content">
                    <h3 id="avg-session">0m</h3>
                    <p>Avg. Session</p>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-icon">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <div class="metric-content">
                    <h3 id="completion-rate">0%</h3>
                    <p>Completion Rate</p>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-icon">
                    <i class="fas fa-star"></i>
                </div>
                <div class="metric-content">
                    <h3 id="avg-rating">0.0</h3>
                    <p>Avg. Rating</p>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="analytics-charts">
            <div class="chart-container">
                <h3>Engagement Over Time</h3>
                <canvas id="engagementChart"></canvas>
            </div>
            
            <div class="chart-container">
                <h3>Course Performance</h3>
                <canvas id="performanceChart"></canvas>
            </div>
        </div>

        <!-- Student Analytics -->
        <div class="student-analytics-section">
            <div class="section-header">
                <h3>Student Performance</h3>
                <div class="section-actions">
                    <button onclick="exportStudentData()" class="btn btn-outline">
                        <i class="fas fa-download"></i>
                        Export Data
                    </button>
                </div>
            </div>
            
            <div id="studentsAnalyticsList" class="students-analytics-container">
                <div class="loading-state">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Loading student analytics...</p>
                </div>
            </div>
        </div>
    </div>
</section>