import{j as e}from"./query-vendor-D-Supqfh.js";import{a as d,L as z}from"./react-vendor-DF6vRnOe.js";import{D as U}from"./DashboardLayout-C8UYUr8f.js";import{u as N,H as S,B as p,C as o}from"./index-D9t4YSLm.js";import{I as F}from"./Input-BNgj3fzd.js";import"./state-vendor-CcNjB5Go.js";const M="https://176.9.99.103:8005/api/v1/labs";class $ extends Error{constructor(i,c,x){super(i),this.statusCode=c,this.detail=x,this.name="LabServiceError"}}async function _(n){if(!n.ok){const i=await n.json().catch(()=>({detail:"An error occurred"}));throw new $(i.detail||`Request failed with status ${n.status}`,n.status,i.detail)}return n.json()}const H={async getStudentLabs(n){const i=await fetch(`${M}/student/${n}`,{credentials:"include",headers:{"Content-Type":"application/json"}});return _(i)}},v=[{id:"1",title:"Python Basics - Variables and Data Types",courseName:"Introduction to Python Programming",courseId:"course-1",description:"Learn Python fundamentals by working with variables, strings, numbers, and basic operations in an interactive environment.",difficulty:"beginner",estimatedTime:30,technology:"Python 3.11",ideType:"jupyter",status:"completed",progressPercentage:100,lastAccessedAt:"2025-10-28",completedAt:"2025-10-28",objectives:["Create and use variables","Work with different data types","Perform basic arithmetic operations","Use string formatting"]},{id:"2",title:"Python Functions and Modules",courseName:"Introduction to Python Programming",courseId:"course-1",description:"Master function definitions, parameters, return values, and importing modules in this hands-on lab.",difficulty:"beginner",estimatedTime:45,technology:"Python 3.11",ideType:"jupyter",status:"in-progress",progressPercentage:60,lastAccessedAt:"2025-11-02",containerUrl:"https://lab.example.com/containers/student123-lab2",objectives:["Define and call functions","Use function parameters and return values","Import and use standard library modules","Create custom modules"]},{id:"3",title:"Data Structures - Lists and Dictionaries",courseName:"Introduction to Python Programming",courseId:"course-1",description:"Explore Python's powerful built-in data structures through practical exercises.",difficulty:"intermediate",estimatedTime:60,technology:"Python 3.11",ideType:"vscode",status:"available",progressPercentage:0,objectives:["Create and manipulate lists","Use list comprehensions","Work with dictionaries","Combine data structures"]},{id:"4",title:"JavaScript ES6+ Features",courseName:"Modern JavaScript Development",courseId:"course-2",description:"Learn modern JavaScript syntax including arrow functions, destructuring, spread operators, and more.",difficulty:"intermediate",estimatedTime:50,technology:"Node.js 18",ideType:"vscode",status:"available",progressPercentage:0,objectives:["Use arrow functions","Apply destructuring syntax","Work with spread and rest operators","Understand template literals"]},{id:"5",title:"React Components and State",courseName:"Modern JavaScript Development",courseId:"course-2",description:"Build interactive React components and manage state in this practical lab environment.",difficulty:"advanced",estimatedTime:90,technology:"React 18 + TypeScript",ideType:"vscode",status:"available",progressPercentage:0,objectives:["Create functional components","Use React hooks (useState, useEffect)","Handle events","Manage component state"]},{id:"6",title:"Data Analysis with R",courseName:"Statistical Computing",courseId:"course-3",description:"Analyze datasets using R programming language and create visualizations.",difficulty:"intermediate",estimatedTime:75,technology:"R 4.3",ideType:"rstudio",status:"available",progressPercentage:0,objectives:["Import and clean data","Perform statistical analysis","Create visualizations with ggplot2","Generate reports with R Markdown"]},{id:"7",title:"Linux Command Line Basics",courseName:"DevOps Fundamentals",courseId:"course-4",description:"Master essential Linux commands and shell scripting in a real terminal environment.",difficulty:"beginner",estimatedTime:40,technology:"Ubuntu 22.04",ideType:"terminal",status:"completed",progressPercentage:100,lastAccessedAt:"2025-10-25",completedAt:"2025-10-25",objectives:["Navigate the file system","Manage files and directories","Use pipes and redirection","Write basic shell scripts"]},{id:"8",title:"Docker Containers and Images",courseName:"DevOps Fundamentals",courseId:"course-4",description:"Learn Docker fundamentals by building, running, and managing containers.",difficulty:"advanced",estimatedTime:120,technology:"Docker 24",ideType:"terminal",status:"available",progressPercentage:0,objectives:["Build Docker images","Run and manage containers","Work with Docker Compose","Understand container networking"]}],Y=()=>{const{user:n}=N(),[i,c]=d.useState(v),[x,b]=d.useState(!0),[w,C]=d.useState(null),[m,I]=d.useState(""),[g,T]=d.useState("all"),[h,D]=d.useState("all"),[f,B]=d.useState("all");d.useEffect(()=>{(async()=>{if(!n?.id){c(v.map(r=>({...r,status:"available",progressPercentage:0,lastAccessedAt:void 0,completedAt:void 0,containerUrl:void 0}))),b(!1);return}try{b(!0),C(null);const r=await H.getStudentLabs(n.id),l=new Map;r.labs.forEach(s=>{let a="available";s.status==="completed"||s.status==="stopped"?a="completed":(s.status==="running"||s.status==="paused")&&(a="in-progress"),l.set(s.lab_id,{status:a,lastAccessedAt:s.last_accessed,containerUrl:s.ide_urls?.vscode||s.ide_urls?.jupyter||void 0})});const u=v.map(s=>{const a=l.get(s.id);return a?{...s,status:a.status,progressPercentage:a.status==="completed"?100:a.status==="in-progress"?50:0,lastAccessedAt:a.lastAccessedAt||void 0,completedAt:a.status==="completed"&&a.lastAccessedAt||void 0,containerUrl:a.containerUrl}:{...s,status:"available",progressPercentage:0,lastAccessedAt:void 0,completedAt:void 0,containerUrl:void 0}});c(u)}catch(r){console.error("Failed to fetch student labs:",r),C("Failed to load lab status. Showing available labs."),c(v.map(l=>({...l,status:"available",progressPercentage:0,lastAccessedAt:void 0,completedAt:void 0,containerUrl:void 0})))}finally{b(!1)}})()},[n?.id]);const R=Array.from(new Set(i.map(t=>t.courseName))),A=i.filter(t=>{const r=t.title.toLowerCase().includes(m.toLowerCase())||t.description.toLowerCase().includes(m.toLowerCase())||t.courseName.toLowerCase().includes(m.toLowerCase()),l=g==="all"||t.status===g,u=h==="all"||t.courseName===h,s=f==="all"||t.difficulty===f;return r&&l&&u&&s}),L=t=>{console.log("Launching lab:",t),alert("Lab environment is being prepared. This will open in a new window once ready.")},W=(t,r)=>{console.log("Resuming lab:",t,"at",r),window.open(r,"_blank")},k=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),j=t=>{switch(t){case"available":return"#3b82f6";case"in-progress":return"#f59e0b";case"completed":return"#10b981";default:return"#6b7280"}},P=t=>{switch(t){case"beginner":return"#10b981";case"intermediate":return"#f59e0b";case"advanced":return"#ef4444";default:return"#6b7280"}},E=t=>{switch(t){case"vscode":return{color:"#007acc",icon:"ðŸ’»",label:"VS Code"};case"jupyter":return{color:"#f37726",icon:"ðŸ“Š",label:"Jupyter"};case"rstudio":return{color:"#75aadb",icon:"ðŸ“ˆ",label:"RStudio"};case"terminal":return{color:"#2d2d2d",icon:"âŒ¨ï¸",label:"Terminal"};default:return{color:"#6b7280",icon:"ðŸ’»",label:"IDE"}}},y={total:i.length,available:i.filter(t=>t.status==="available").length,inProgress:i.filter(t=>t.status==="in-progress").length,completed:i.filter(t=>t.status==="completed").length};return e.jsx(U,{children:e.jsxs("main",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:[e.jsxs("div",{style:{marginBottom:"2rem",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx(S,{level:"h1",gutterBottom:!0,children:"Lab Environments"}),e.jsx("p",{style:{color:"#666",fontSize:"0.95rem"},children:"Interactive coding environments for hands-on practice"})]}),e.jsx(z,{to:"/dashboard/student",children:e.jsx(p,{variant:"secondary",children:"Back to Dashboard"})})]}),x&&e.jsx(o,{variant:"outlined",padding:"large",style:{marginBottom:"1.5rem",textAlign:"center"},children:e.jsx("p",{style:{margin:0,color:"#666"},children:"Loading lab environments..."})}),w&&e.jsx(o,{variant:"outlined",padding:"medium",style:{marginBottom:"1.5rem",backgroundColor:"#fef3c7",borderColor:"#f59e0b"},children:e.jsxs("p",{style:{margin:0,color:"#92400e"},children:["âš ï¸ ",w]})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsxs(o,{variant:"elevated",padding:"medium",children:[e.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#666"},children:"Total Labs"}),e.jsx("p",{style:{margin:"0.5rem 0 0",fontSize:"2rem",fontWeight:"bold",color:"#1f2937"},children:y.total})]}),e.jsxs(o,{variant:"elevated",padding:"medium",children:[e.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#666"},children:"Available"}),e.jsx("p",{style:{margin:"0.5rem 0 0",fontSize:"2rem",fontWeight:"bold",color:"#3b82f6"},children:y.available})]}),e.jsxs(o,{variant:"elevated",padding:"medium",children:[e.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#666"},children:"In Progress"}),e.jsx("p",{style:{margin:"0.5rem 0 0",fontSize:"2rem",fontWeight:"bold",color:"#f59e0b"},children:y.inProgress})]}),e.jsxs(o,{variant:"elevated",padding:"medium",children:[e.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#666"},children:"Completed"}),e.jsx("p",{style:{margin:"0.5rem 0 0",fontSize:"2rem",fontWeight:"bold",color:"#10b981"},children:y.completed})]})]}),e.jsx(o,{variant:"outlined",padding:"large",style:{marginBottom:"1.5rem"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[e.jsx("div",{children:e.jsx(F,{id:"search",name:"search",type:"text",placeholder:"Search labs...",value:m,onChange:t=>I(t.target.value)})}),e.jsx("div",{children:e.jsxs("select",{value:g,onChange:t=>T(t.target.value),style:{width:"100%",padding:"0.75rem",fontSize:"0.875rem",border:"1px solid #d1d5db",borderRadius:"0.375rem",backgroundColor:"white"},children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"available",children:"Available"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"})]})}),e.jsx("div",{children:e.jsxs("select",{value:h,onChange:t=>D(t.target.value),style:{width:"100%",padding:"0.75rem",fontSize:"0.875rem",border:"1px solid #d1d5db",borderRadius:"0.375rem",backgroundColor:"white"},children:[e.jsx("option",{value:"all",children:"All Courses"}),R.map(t=>e.jsx("option",{value:t,children:t},t))]})}),e.jsx("div",{children:e.jsxs("select",{value:f,onChange:t=>B(t.target.value),style:{width:"100%",padding:"0.75rem",fontSize:"0.875rem",border:"1px solid #d1d5db",borderRadius:"0.375rem",backgroundColor:"white"},children:[e.jsx("option",{value:"all",children:"All Difficulties"}),e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"})]})})]})}),A.length===0?e.jsx(o,{variant:"outlined",padding:"large",children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("p",{style:{fontSize:"1.1rem",color:"#666",marginBottom:"1rem"},children:m||g!=="all"||h!=="all"||f!=="all"?"No labs match your filters":"No lab environments available yet"}),e.jsx(z,{to:"/dashboard/student",children:e.jsx(p,{variant:"primary",children:"Go to Dashboard"})})]})}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},children:A.map(t=>{const r=E(t.ideType);return e.jsxs(o,{variant:"elevated",padding:"large",children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[e.jsx(S,{level:"h3",style:{fontSize:"1.1rem",margin:0},children:t.title}),e.jsx("span",{style:{display:"inline-block",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:600,textTransform:"capitalize",backgroundColor:`${j(t.status)}20`,color:j(t.status),whiteSpace:"nowrap"},children:t.status==="in-progress"?"In Progress":t.status})]}),e.jsx("p",{style:{margin:"0.25rem 0",fontSize:"0.875rem",color:"#6b7280"},children:t.courseName})]}),e.jsx("p",{style:{fontSize:"0.875rem",color:"#374151",lineHeight:"1.5",marginBottom:"1rem"},children:t.description}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:600,backgroundColor:`${r.color}20`,color:r.color},children:[r.icon," ",r.label]}),e.jsx("span",{style:{display:"inline-block",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:600,textTransform:"capitalize",backgroundColor:`${P(t.difficulty)}20`,color:P(t.difficulty)},children:t.difficulty}),e.jsxs("span",{style:{display:"inline-block",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:600,backgroundColor:"#e5e7eb",color:"#374151"},children:["â±ï¸ ",t.estimatedTime," min"]}),e.jsx("span",{style:{display:"inline-block",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:600,backgroundColor:"#e5e7eb",color:"#374151"},children:t.technology})]}),t.status!=="available"&&e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[e.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Progress"}),e.jsxs("span",{style:{fontSize:"0.875rem",fontWeight:600,color:"#1f2937"},children:[t.progressPercentage,"%"]})]}),e.jsx("div",{style:{width:"100%",height:"8px",backgroundColor:"#e5e7eb",borderRadius:"9999px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${t.progressPercentage}%`,height:"100%",backgroundColor:j(t.status),borderRadius:"9999px",transition:"width 0.3s ease"}})})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("p",{style:{fontSize:"0.875rem",fontWeight:600,color:"#374151",marginBottom:"0.5rem"},children:"Learning Objectives:"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"1.5rem",fontSize:"0.875rem",color:"#6b7280",lineHeight:"1.6"},children:[t.objectives.slice(0,3).map((l,u)=>e.jsx("li",{children:l},u)),t.objectives.length>3&&e.jsxs("li",{style:{color:"#3b82f6"},children:["+",t.objectives.length-3," more..."]})]})]}),(t.lastAccessedAt||t.completedAt)&&e.jsxs("p",{style:{fontSize:"0.75rem",color:"#9ca3af",marginBottom:"1rem"},children:[t.completedAt&&`âœ… Completed on ${k(t.completedAt)}`,!t.completedAt&&t.lastAccessedAt&&`Last accessed on ${k(t.lastAccessedAt)}`]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[t.status==="available"&&e.jsx(p,{variant:"primary",fullWidth:!0,onClick:()=>L(t.id),children:"ðŸš€ Start Lab"}),t.status==="in-progress"&&t.containerUrl&&e.jsx(e.Fragment,{children:e.jsx(p,{variant:"primary",fullWidth:!0,onClick:()=>W(t.id,t.containerUrl),children:"â–¶ï¸ Resume Lab"})}),t.status==="completed"&&e.jsx(p,{variant:"secondary",fullWidth:!0,onClick:()=>L(t.id),children:"ðŸ”„ Retry Lab"})]})]},t.id)})}),e.jsxs(o,{variant:"outlined",padding:"large",style:{marginTop:"2rem",backgroundColor:"#f0f9ff",border:"1px solid #bae6fd"},children:[e.jsx(S,{level:"h3",style:{fontSize:"1.1rem",marginBottom:"0.75rem",color:"#0c4a6e"},children:"ðŸ’¡ Lab Environment Tips"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"1.5rem",fontSize:"0.875rem",color:"#0c4a6e",lineHeight:"1.6"},children:[e.jsx("li",{children:"Each lab runs in an isolated Docker container for security"}),e.jsx("li",{children:"Your progress is automatically saved as you work"}),e.jsx("li",{children:"Labs remain active for 2 hours of inactivity before auto-suspension"}),e.jsx("li",{children:"You can resume suspended labs to continue from where you left off"}),e.jsx("li",{children:"Completed labs can be retried to practice and improve your skills"})]})]})]})})};export{Y as LabEnvironmentsList};
//# sourceMappingURL=LabEnvironmentsList-C5mY__IE.js.map
