{"version":3,"file":"trainingProgramService-D2iOpMtG.js","sources":["../../src/services/trainingProgramService.ts"],"sourcesContent":["/**\n * Training Program Service\n *\n * BUSINESS CONTEXT:\n * Handles all API interactions for corporate IT training programs.\n * In the B2B model, these are courses created and managed by trainers,\n * then assigned to students (not browsed/selected by students).\n *\n * TECHNICAL IMPLEMENTATION:\n * - Uses centralized apiClient with authentication\n * - Provides TypeScript interfaces for type safety\n * - Handles pagination, filtering, and error responses\n * - Integrates with course-management service (port 8001)\n */\n\nimport { apiClient } from './apiClient';\n\n/**\n * Training Program Interface\n * Represents a corporate IT training course\n */\nexport interface TrainingProgram {\n  id: string;\n  title: string;\n  description: string;\n  category?: string;\n  difficulty_level: 'beginner' | 'intermediate' | 'advanced';\n  estimated_duration?: number;\n  duration_unit: 'hours' | 'days' | 'weeks' | 'months';\n  price: number;\n  tags: string[];\n  instructor_id: string;\n  instructor_name?: string;\n  organization_id?: string;\n  project_id?: string;\n  track_id?: string;\n  location_id?: string;\n  published: boolean;\n  created_at: string;\n  updated_at: string;\n  enrolled_students?: number;\n  completion_rate?: number;\n}\n\n/**\n * Training Program List Response\n */\nexport interface TrainingProgramListResponse {\n  data: TrainingProgram[];\n  total: number;\n  page: number;\n  limit: number;\n  pages: number;\n}\n\n/**\n * Training Program Creation Request\n */\nexport interface CreateTrainingProgramRequest {\n  title: string;\n  description: string;\n  category?: string;\n  difficulty_level: 'beginner' | 'intermediate' | 'advanced';\n  estimated_duration?: number;\n  duration_unit: 'hours' | 'days' | 'weeks' | 'months';\n  price?: number;\n  tags?: string[];\n  organization_id?: string;\n  project_id?: string;\n  track_id?: string;\n  location_id?: string;\n}\n\n/**\n * Training Program Update Request\n */\nexport interface UpdateTrainingProgramRequest extends Partial<CreateTrainingProgramRequest> {}\n\n/**\n * Training Program Filters\n */\nexport interface TrainingProgramFilters {\n  organization_id?: string;\n  project_id?: string;\n  track_id?: string;\n  instructor_id?: string;\n  difficulty_level?: 'beginner' | 'intermediate' | 'advanced';\n  published?: boolean;\n  page?: number;\n  limit?: number;\n}\n\n/**\n * Training Program Service Class\n *\n * WHY THIS APPROACH:\n * - Centralized training program API logic\n * - Type-safe interfaces for all operations\n * - Consistent error handling via apiClient\n * - Supports B2B workflows (bulk operations, filtering)\n */\nclass TrainingProgramService {\n  private baseUrl = '/courses'; // Using /courses as backend endpoint name\n\n  /**\n   * Get all training programs (with optional filters)\n   */\n  async getTrainingPrograms(\n    filters?: TrainingProgramFilters\n  ): Promise<TrainingProgramListResponse> {\n    const params = new URLSearchParams();\n\n    if (filters) {\n      if (filters.organization_id) params.append('organization_id', filters.organization_id);\n      if (filters.project_id) params.append('project_id', filters.project_id);\n      if (filters.track_id) params.append('track_id', filters.track_id);\n      if (filters.instructor_id) params.append('instructor_id', filters.instructor_id);\n      if (filters.difficulty_level) params.append('difficulty_level', filters.difficulty_level);\n      if (filters.published !== undefined) params.append('published', String(filters.published));\n      if (filters.page) params.append('page', String(filters.page));\n      if (filters.limit) params.append('limit', String(filters.limit));\n    }\n\n    const queryString = params.toString();\n    const url = queryString ? `${this.baseUrl}?${queryString}` : this.baseUrl;\n\n    return await apiClient.get<TrainingProgramListResponse>(url);\n  }\n\n  /**\n   * Get training program by ID\n   */\n  async getTrainingProgramById(id: string): Promise<TrainingProgram> {\n    return await apiClient.get<TrainingProgram>(`${this.baseUrl}/${id}`);\n  }\n\n  /**\n   * Create new training program\n   */\n  async createTrainingProgram(\n    data: CreateTrainingProgramRequest\n  ): Promise<TrainingProgram> {\n    return await apiClient.post<TrainingProgram>(this.baseUrl, data);\n  }\n\n  /**\n   * Update existing training program\n   */\n  async updateTrainingProgram(\n    id: string,\n    data: UpdateTrainingProgramRequest\n  ): Promise<TrainingProgram> {\n    return await apiClient.put<TrainingProgram>(`${this.baseUrl}/${id}`, data);\n  }\n\n  /**\n   * Publish training program (make available to students)\n   */\n  async publishTrainingProgram(id: string): Promise<TrainingProgram> {\n    return await apiClient.post<TrainingProgram>(`${this.baseUrl}/${id}/publish`);\n  }\n\n  /**\n   * Unpublish training program (remove from student access)\n   */\n  async unpublishTrainingProgram(id: string): Promise<TrainingProgram> {\n    return await apiClient.post<TrainingProgram>(`${this.baseUrl}/${id}/unpublish`);\n  }\n\n  /**\n   * Delete training program\n   */\n  async deleteTrainingProgram(id: string): Promise<void> {\n    await apiClient.delete(`${this.baseUrl}/${id}`);\n  }\n\n  /**\n   * Get student's assigned training programs\n   * (B2B Model: Students only see courses assigned to them)\n   */\n  async getMyAssignedPrograms(): Promise<TrainingProgramListResponse> {\n    // This will be filtered by backend based on student's enrollments\n    return await apiClient.get<TrainingProgramListResponse>(`${this.baseUrl}/my-courses`);\n  }\n\n  /**\n   * Get training programs by instructor\n   */\n  async getInstructorPrograms(instructorId: string): Promise<TrainingProgramListResponse> {\n    return this.getTrainingPrograms({ instructor_id: instructorId });\n  }\n\n  /**\n   * Get training programs by organization\n   */\n  async getOrganizationPrograms(organizationId: string): Promise<TrainingProgramListResponse> {\n    return this.getTrainingPrograms({ organization_id: organizationId });\n  }\n}\n\n// Export singleton instance\nexport const trainingProgramService = new TrainingProgramService();\n"],"names":["TrainingProgramService","filters","params","queryString","url","apiClient","id","data","instructorId","organizationId","trainingProgramService"],"mappings":"wCAqGA,MAAMA,CAAuB,CACnB,QAAU,WAKlB,MAAM,oBACJC,EACsC,CACtC,MAAMC,EAAS,IAAI,gBAEfD,IACEA,EAAQ,iBAAiBC,EAAO,OAAO,kBAAmBD,EAAQ,eAAe,EACjFA,EAAQ,YAAYC,EAAO,OAAO,aAAcD,EAAQ,UAAU,EAClEA,EAAQ,UAAUC,EAAO,OAAO,WAAYD,EAAQ,QAAQ,EAC5DA,EAAQ,eAAeC,EAAO,OAAO,gBAAiBD,EAAQ,aAAa,EAC3EA,EAAQ,kBAAkBC,EAAO,OAAO,mBAAoBD,EAAQ,gBAAgB,EACpFA,EAAQ,YAAc,QAAWC,EAAO,OAAO,YAAa,OAAOD,EAAQ,SAAS,CAAC,EACrFA,EAAQ,MAAMC,EAAO,OAAO,OAAQ,OAAOD,EAAQ,IAAI,CAAC,EACxDA,EAAQ,OAAOC,EAAO,OAAO,QAAS,OAAOD,EAAQ,KAAK,CAAC,GAGjE,MAAME,EAAcD,EAAO,SAAA,EACrBE,EAAMD,EAAc,GAAG,KAAK,OAAO,IAAIA,CAAW,GAAK,KAAK,QAElE,OAAO,MAAME,EAAU,IAAiCD,CAAG,CAC7D,CAKA,MAAM,uBAAuBE,EAAsC,CACjE,OAAO,MAAMD,EAAU,IAAqB,GAAG,KAAK,OAAO,IAAIC,CAAE,EAAE,CACrE,CAKA,MAAM,sBACJC,EAC0B,CAC1B,OAAO,MAAMF,EAAU,KAAsB,KAAK,QAASE,CAAI,CACjE,CAKA,MAAM,sBACJD,EACAC,EAC0B,CAC1B,OAAO,MAAMF,EAAU,IAAqB,GAAG,KAAK,OAAO,IAAIC,CAAE,GAAIC,CAAI,CAC3E,CAKA,MAAM,uBAAuBD,EAAsC,CACjE,OAAO,MAAMD,EAAU,KAAsB,GAAG,KAAK,OAAO,IAAIC,CAAE,UAAU,CAC9E,CAKA,MAAM,yBAAyBA,EAAsC,CACnE,OAAO,MAAMD,EAAU,KAAsB,GAAG,KAAK,OAAO,IAAIC,CAAE,YAAY,CAChF,CAKA,MAAM,sBAAsBA,EAA2B,CACrD,MAAMD,EAAU,OAAO,GAAG,KAAK,OAAO,IAAIC,CAAE,EAAE,CAChD,CAMA,MAAM,uBAA8D,CAElE,OAAO,MAAMD,EAAU,IAAiC,GAAG,KAAK,OAAO,aAAa,CACtF,CAKA,MAAM,sBAAsBG,EAA4D,CACtF,OAAO,KAAK,oBAAoB,CAAE,cAAeA,EAAc,CACjE,CAKA,MAAM,wBAAwBC,EAA8D,CAC1F,OAAO,KAAK,oBAAoB,CAAE,gBAAiBA,EAAgB,CACrE,CACF,CAGO,MAAMC,EAAyB,IAAIV"}