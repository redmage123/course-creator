import{j as s}from"./query-vendor-D-Supqfh.js";import{a as n,L as m}from"./react-vendor-DF6vRnOe.js";import{I as _}from"./Input-BNgj3fzd.js";import{H as u,C as y,B as g,b as j}from"./index-CGkn3TFZ.js";import"./state-vendor-CcNjB5Go.js";const e={"forgot-password-page":"_forgot-password-page_1wqxy_20","forgot-password-container":"_forgot-password-container_1wqxy_34","forgot-password-header":"_forgot-password-header_1wqxy_46","forgot-password-subtitle":"_forgot-password-subtitle_1wqxy_51","forgot-password-form":"_forgot-password-form_1wqxy_65","forgot-password-error-banner":"_forgot-password-error-banner_1wqxy_75","forgot-password-success":"_forgot-password-success_1wqxy_108","success-icon":"_success-icon_1wqxy_118","success-message":"_success-message_1wqxy_134","success-note":"_success-note_1wqxy_143","retry-link":"_retry-link_1wqxy_152","back-to-login":"_back-to-login_1wqxy_179","forgot-password-link":"_forgot-password-link_1wqxy_190","forgot-password-footer":"_forgot-password-footer_1wqxy_216"},L=()=>{const[a,f]=n.useState({email:""}),[t,i]=n.useState({}),[l,d]=n.useState(!1),[p,c]=n.useState(!1),w=()=>{const r={};return a.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(r.email="Please enter a valid email address"):r.email="Email is required",i(r),Object.keys(r).length===0},h=async r=>{if(r.preventDefault(),i(o=>({...o,submit:void 0})),!!w()){d(!0);try{await j.requestPasswordReset({email:a.email}),c(!0)}catch(o){i({submit:o instanceof Error?o.message:"Failed to send reset email. Please try again."})}finally{d(!1)}}},x=r=>{f({email:r.target.value}),t.email&&i(o=>({...o,email:void 0}))};return s.jsx("div",{className:e["forgot-password-page"],children:s.jsxs("div",{className:e["forgot-password-container"],children:[s.jsxs("div",{className:e["forgot-password-header"],children:[s.jsx(u,{level:"h1",align:"center",gutterBottom:!1,children:"Forgot Password?"}),s.jsx("p",{className:e["forgot-password-subtitle"],children:"Enter your email address and we'll send you a link to reset your password"})]}),s.jsx(y,{variant:"elevated",padding:"large",children:p?s.jsxs("div",{className:e["forgot-password-success"],children:[s.jsx("div",{className:e["success-icon"],"aria-hidden":"true",children:s.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",children:[s.jsx("circle",{cx:"32",cy:"32",r:"32",fill:"#dcfce7"}),s.jsx("path",{d:"M20 32L28 40L44 24",stroke:"#16a34a",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]})}),s.jsx(u,{level:"h2",align:"center",gutterBottom:!0,children:"Check Your Email"}),s.jsxs("p",{className:e["success-message"],children:["We've sent a password reset link to ",s.jsx("strong",{children:a.email}),". Please check your inbox and follow the instructions to reset your password."]}),s.jsxs("p",{className:e["success-note"],children:["Didn't receive the email? Check your spam folder or"," ",s.jsx("button",{type:"button",onClick:()=>c(!1),className:e["retry-link"],children:"try again"}),"."]}),s.jsx(m,{to:"/login",className:e["back-to-login"],children:s.jsx(g,{variant:"secondary",size:"large",fullWidth:!0,children:"Back to Login"})})]}):s.jsxs("form",{onSubmit:h,className:e["forgot-password-form"],noValidate:!0,children:[t.submit&&s.jsx("div",{className:e["forgot-password-error-banner"],role:"alert",children:t.submit}),s.jsx(_,{type:"email",label:"Email Address",placeholder:"you@example.com",value:a.email,onChange:x,error:t.email,required:!0,autoComplete:"email",autoFocus:!0,disabled:l}),s.jsx(g,{type:"submit",variant:"primary",size:"large",fullWidth:!0,loading:l,disabled:l,children:l?"Sending...":"Send Reset Link"}),s.jsx("div",{className:e["forgot-password-footer"],children:s.jsx(m,{to:"/login",className:e["forgot-password-link"],children:"‚Üê Back to Login"})})]})})]})})};export{L as ForgotPasswordPage};
//# sourceMappingURL=ForgotPassword-BamIWOAk.js.map
