import{j as e}from"./query-vendor-D-Supqfh.js";import{u as M,a as d,L as v,i as H}from"./react-vendor-DF6vRnOe.js";import{I as L}from"./Input-BNgj3fzd.js";import{B as x,S as R}from"./index-DnGiMSGH.js";import{T as $}from"./Textarea-DKvyxVRA.js";import{S as I}from"./Select-DYtXz80p.js";import"./state-vendor-CcNjB5Go.js";class T{baseUrl="/api/v1/bugs";getServiceUrl(){return"/api/bug-tracking/v1"}async submitBug(s){const o=`${this.getServiceUrl()}/bugs`,a=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",...this.getAuthHeaders()},body:JSON.stringify(s)});if(!a.ok){const m=await a.json().catch(()=>({detail:"Failed to submit bug"}));throw new Error(m.detail||"Failed to submit bug")}return a.json()}async getBug(s){const o=`${this.getServiceUrl()}/bugs/${s}`,a=await fetch(o,{method:"GET",headers:this.getAuthHeaders()});if(!a.ok)throw a.status===404?new Error("Bug report not found"):new Error("Failed to fetch bug details");return a.json()}async getBugAnalysis(s){const o=`${this.getServiceUrl()}/bugs/${s}/analysis`,a=await fetch(o,{method:"GET",headers:this.getAuthHeaders()});if(!a.ok)throw a.status===404?new Error("Analysis not found"):new Error("Failed to fetch analysis");return a.json()}async getBugFix(s){const o=`${this.getServiceUrl()}/bugs/${s}/fix`,a=await fetch(o,{method:"GET",headers:this.getAuthHeaders()});if(!a.ok)throw a.status===404?new Error("Fix attempt not found"):new Error("Failed to fetch fix details");return a.json()}async listBugs(s){const o=new URLSearchParams;s?.status&&o.append("status",s.status),s?.severity&&o.append("severity",s.severity),s?.page&&o.append("page",s.page.toString()),s?.limit&&o.append("limit",s.limit.toString());const a=`${this.getServiceUrl()}/bugs?${o.toString()}`,m=await fetch(a,{method:"GET",headers:this.getAuthHeaders()});if(!m.ok)throw new Error("Failed to fetch bugs");return m.json()}async listMyBugs(s){const o=new URLSearchParams;s?.status&&o.append("status",s.status),s?.severity&&o.append("severity",s.severity),s?.page&&o.append("page",s.page.toString()),s?.limit&&o.append("limit",s.limit.toString());const a=`${this.getServiceUrl()}/bugs/my/reports?${o.toString()}`,m=await fetch(a,{method:"GET",headers:this.getAuthHeaders()});if(!m.ok)throw new Error("Failed to fetch your bugs");return m.json()}async requestReanalysis(s){const o=`${this.getServiceUrl()}/bugs/${s}/reanalyze`,a=await fetch(o,{method:"POST",headers:this.getAuthHeaders()});if(!a.ok)throw new Error("Failed to request re-analysis");return a.json()}getAuthHeaders(){const s=localStorage.getItem("access_token");return s?{Authorization:`Bearer ${s}`}:{}}}const F=new T,P="_form_itixx_9",D="_formGroup_itixx_15",z="_formRow_itixx_19",G="_label_itixx_31",q="_required_itixx_38",O="_error_itixx_42",U="_hint_itixx_49",Y="_errorBanner_itixx_56",V="_formActions_itixx_65",W="_submitButton_itixx_71",J="_infoBox_itixx_78",Q="_successContainer_itixx_107",K="_successIcon_itixx_114",X="_successTitle_itixx_127",Z="_successMessage_itixx_133",ee="_trackingInfo_itixx_140",se="_trackingLabel_itixx_147",te="_trackingId_itixx_154",ae="_successActions_itixx_162",r={form:P,formGroup:D,formRow:z,label:G,required:q,error:O,hint:U,errorBanner:Y,formActions:V,submitButton:W,infoBox:J,successContainer:Q,successIcon:K,successTitle:X,successMessage:Z,trackingInfo:ee,trackingLabel:se,trackingId:te,successActions:ae},ie=()=>{const c=M(),[s,o]=d.useState({title:"",description:"",steps_to_reproduce:"",expected_behavior:"",actual_behavior:"",severity:"medium",affected_component:"",submitter_email:""}),[a,m]=d.useState({}),[j,f]=d.useState(!1),[S,b]=d.useState(!1),[p,w]=d.useState(null),u=[{value:"low",label:"Low - Minor issue, workaround exists"},{value:"medium",label:"Medium - Moderate impact on functionality"},{value:"high",label:"High - Significant impact, no workaround"},{value:"critical",label:"Critical - System unusable, data loss risk"}],h=[{value:"",label:"Select affected component..."},{value:"authentication",label:"Authentication / Login"},{value:"dashboard",label:"Dashboard"},{value:"courses",label:"Courses / Training Programs"},{value:"labs",label:"Lab Environment"},{value:"quizzes",label:"Quizzes / Assessments"},{value:"analytics",label:"Analytics / Reports"},{value:"content-generation",label:"AI Content Generation"},{value:"ai-assistant",label:"AI Assistant"},{value:"organization",label:"Organization Management"},{value:"user-management",label:"User Management"},{value:"notifications",label:"Notifications / Email"},{value:"api",label:"API / Backend"},{value:"frontend",label:"Frontend / UI"},{value:"other",label:"Other"}],l=d.useCallback(i=>{const{name:g,value:N}=i.target;o(B=>({...B,[g]:N})),a[g]&&m(B=>({...B,[g]:void 0}))},[a]),_=d.useCallback(()=>{const i={};return s.title.trim()?s.title.length<10?i.title="Title must be at least 10 characters":s.title.length>255&&(i.title="Title must be less than 255 characters"):i.title="Title is required",s.description.trim()?s.description.length<20&&(i.description="Description must be at least 20 characters"):i.description="Description is required",s.submitter_email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.submitter_email)||(i.submitter_email="Please enter a valid email address"):i.submitter_email="Email is required",m(i),Object.keys(i).length===0},[s]),C=d.useCallback(async i=>{if(i.preventDefault(),!!_()){f(!0),m({});try{const g={title:s.title.trim(),description:s.description.trim(),severity:s.severity,submitter_email:s.submitter_email.trim(),browser_info:navigator.userAgent};s.steps_to_reproduce.trim()&&(g.steps_to_reproduce=s.steps_to_reproduce.trim()),s.expected_behavior.trim()&&(g.expected_behavior=s.expected_behavior.trim()),s.actual_behavior.trim()&&(g.actual_behavior=s.actual_behavior.trim()),s.affected_component&&(g.affected_component=s.affected_component);const N=await F.submitBug(g);b(!0),w(N.id)}catch(g){const N=g instanceof Error?g.message:"Failed to submit bug report";m({general:N})}finally{f(!1)}}},[s,_]),k=d.useCallback(()=>{p&&c(`/bugs/${p}`)},[c,p]),A=d.useCallback(()=>{o({title:"",description:"",steps_to_reproduce:"",expected_behavior:"",actual_behavior:"",severity:"medium",affected_component:"",submitter_email:s.submitter_email}),b(!1),w(null)},[s.submitter_email]);return S&&p?e.jsxs("div",{className:r.successContainer,children:[e.jsx("div",{className:r.successIcon,children:"âœ”"}),e.jsx("h2",{className:r.successTitle,children:"Bug Report Submitted"}),e.jsx("p",{className:r.successMessage,children:"Your bug report has been received and is being analyzed by our AI system. You will receive an email with the analysis results and any automated fixes."}),e.jsxs("div",{className:r.trackingInfo,children:[e.jsx("span",{className:r.trackingLabel,children:"Tracking ID:"}),e.jsx("code",{className:r.trackingId,children:p})]}),e.jsxs("div",{className:r.successActions,children:[e.jsx(x,{onClick:k,variant:"primary",children:"View Bug Status"}),e.jsx(x,{onClick:A,variant:"secondary",children:"Submit Another Bug"})]})]}):e.jsxs("form",{onSubmit:C,className:r.form,noValidate:!0,children:[a.general&&e.jsx("div",{className:r.errorBanner,role:"alert",children:a.general}),e.jsxs("div",{className:r.formGroup,children:[e.jsxs("label",{htmlFor:"title",className:r.label,children:["Bug Title ",e.jsx("span",{className:r.required,children:"*"})]}),e.jsx(L,{id:"title",name:"title",type:"text",value:s.title,onChange:l,placeholder:"Brief summary of the issue","aria-invalid":!!a.title,"aria-describedby":a.title?"title-error":void 0}),a.title&&e.jsx("span",{id:"title-error",className:r.error,role:"alert",children:a.title})]}),e.jsxs("div",{className:r.formGroup,children:[e.jsxs("label",{htmlFor:"description",className:r.label,children:["Description ",e.jsx("span",{className:r.required,children:"*"})]}),e.jsx($,{id:"description",name:"description",value:s.description,onChange:l,placeholder:"Detailed description of the bug. Include any error messages you see.",rows:5,"aria-invalid":!!a.description,"aria-describedby":a.description?"description-error":void 0}),a.description&&e.jsx("span",{id:"description-error",className:r.error,role:"alert",children:a.description})]}),e.jsxs("div",{className:r.formGroup,children:[e.jsx("label",{htmlFor:"steps_to_reproduce",className:r.label,children:"Steps to Reproduce"}),e.jsx($,{id:"steps_to_reproduce",name:"steps_to_reproduce",value:s.steps_to_reproduce,onChange:l,placeholder:`1. Go to ...
2. Click on ...
3. Observe ...`,rows:4}),e.jsx("span",{className:r.hint,children:"List the exact steps to reproduce this bug"})]}),e.jsxs("div",{className:r.formRow,children:[e.jsxs("div",{className:r.formGroup,children:[e.jsx("label",{htmlFor:"expected_behavior",className:r.label,children:"Expected Behavior"}),e.jsx($,{id:"expected_behavior",name:"expected_behavior",value:s.expected_behavior,onChange:l,placeholder:"What should happen?",rows:3})]}),e.jsxs("div",{className:r.formGroup,children:[e.jsx("label",{htmlFor:"actual_behavior",className:r.label,children:"Actual Behavior"}),e.jsx($,{id:"actual_behavior",name:"actual_behavior",value:s.actual_behavior,onChange:l,placeholder:"What actually happens?",rows:3})]})]}),e.jsxs("div",{className:r.formRow,children:[e.jsxs("div",{className:r.formGroup,children:[e.jsx("label",{htmlFor:"severity",className:r.label,children:"Severity"}),e.jsx(I,{id:"severity",name:"severity",value:s.severity,onChange:l,options:u})]}),e.jsxs("div",{className:r.formGroup,children:[e.jsx("label",{htmlFor:"affected_component",className:r.label,children:"Affected Component"}),e.jsx(I,{id:"affected_component",name:"affected_component",value:s.affected_component,onChange:l,options:h})]})]}),e.jsxs("div",{className:r.formGroup,children:[e.jsxs("label",{htmlFor:"submitter_email",className:r.label,children:["Your Email ",e.jsx("span",{className:r.required,children:"*"})]}),e.jsx(L,{id:"submitter_email",name:"submitter_email",type:"email",value:s.submitter_email,onChange:l,placeholder:"you@example.com","aria-invalid":!!a.submitter_email,"aria-describedby":a.submitter_email?"email-error":void 0}),a.submitter_email&&e.jsx("span",{id:"email-error",className:r.error,role:"alert",children:a.submitter_email}),e.jsx("span",{className:r.hint,children:"Analysis results will be sent to this email"})]}),e.jsx("div",{className:r.formActions,children:e.jsx(x,{type:"submit",variant:"primary",disabled:j,className:r.submitButton,children:j?"Submitting...":"Submit Bug Report"})}),e.jsxs("div",{className:r.infoBox,children:[e.jsx("h4",{children:"What happens next?"}),e.jsxs("ol",{children:[e.jsx("li",{children:"Your bug report will be analyzed by our AI system"}),e.jsx("li",{children:"The AI will identify the root cause and affected files"}),e.jsx("li",{children:"If possible, an automated fix will be generated"}),e.jsx("li",{children:"A pull request will be created for review"}),e.jsx("li",{children:"You'll receive an email with the full analysis and fix details"})]})]})]})},re="_page_pyum1_5",ne="_header_pyum1_11",ce="_breadcrumb_pyum1_16",oe="_separator_pyum1_31",le="_titleRow_pyum1_36",de="_title_pyum1_36",ue="_viewBugsLink_pyum1_57",me="_subtitle_pyum1_67",_e="_content_pyum1_74",y={page:re,header:ne,breadcrumb:ce,separator:oe,titleRow:le,title:de,viewBugsLink:ue,subtitle:me,content:_e},rt=()=>e.jsxs("div",{className:y.page,children:[e.jsxs("div",{className:y.header,children:[e.jsxs("div",{className:y.breadcrumb,children:[e.jsx(v,{to:"/dashboard",children:"Dashboard"}),e.jsx("span",{className:y.separator,children:"/"}),e.jsx("span",{children:"Report Bug"})]}),e.jsxs("div",{className:y.titleRow,children:[e.jsx("h1",{className:y.title,children:"Report a Bug"}),e.jsx(v,{to:"/bugs/my",className:y.viewBugsLink,children:"View My Bug Reports"})]}),e.jsx("p",{className:y.subtitle,children:"Help us improve the platform by reporting bugs. Our AI system will analyze your report and attempt to automatically generate a fix."})]}),e.jsx("div",{className:y.content,children:e.jsx(ie,{})})]}),he="_page_3coc1_5",pe="_loadingContainer_3coc1_11",ge="_errorContainer_3coc1_12",xe="_breadcrumb_3coc1_21",fe="_separator_3coc1_36",ve="_header_3coc1_42",be="_headerTop_3coc1_48",ye="_statusBadge_3coc1_54",je="_severityBadge_3coc1_55",Ne="_statusSubmitted_3coc1_64",Se="_statusAnalyzing_3coc1_65",we="_statusAnalysisComplete_3coc1_66",Ce="_statusFixing_3coc1_67",ke="_statusPrOpened_3coc1_68",Be="_statusResolved_3coc1_69",Ae="_statusClosed_3coc1_70",$e="_severityCritical_3coc1_72",Ie="_severityHigh_3coc1_73",Fe="_severityMedium_3coc1_74",Re="_severityLow_3coc1_75",Le="_title_3coc1_77",Ee="_meta_3coc1_83",Me="_section_3coc1_99",He="_description_3coc1_115",Te="_preformatted_3coc1_120",Pe="_twoColumn_3coc1_130",De="_analysisSection_3coc1_143",ze="_sectionHeader_3coc1_151",Ge="_confidenceMeter_3coc1_164",qe="_confidenceLabel_3coc1_170",Oe="_confidenceScore_3coc1_175",Ue="_confidenceBar_3coc1_181",Ye="_confidenceFill_3coc1_189",Ve="_analysisBlock_3coc1_195",We="_analysisContent_3coc1_203",Je="_codeBlock_3coc1_211",Qe="_fileList_3coc1_223",Ke="_fileItem_3coc1_231",Xe="_fileIcon_3coc1_243",Ze="_analysisMeta_3coc1_251",es="_fixSection_3coc1_263",ss="_prSuccess_3coc1_273",ts="_prHeader_3coc1_280",as="_prIcon_3coc1_287",is="_prLink_3coc1_296",rs="_prStats_3coc1_311",ns="_testsFailed_3coc1_319",cs="_fixError_3coc1_323",os="_fixErrorHint_3coc1_335",ls="_fixInProgress_3coc1_341",ds="_actions_3coc1_351",t={page:he,loadingContainer:pe,errorContainer:ge,breadcrumb:xe,separator:fe,header:ve,headerTop:be,statusBadge:ye,severityBadge:je,statusSubmitted:Ne,statusAnalyzing:Se,statusAnalysisComplete:we,statusFixing:Ce,statusPrOpened:ke,statusResolved:Be,statusClosed:Ae,severityCritical:$e,severityHigh:Ie,severityMedium:Fe,severityLow:Re,title:Le,meta:Ee,section:Me,description:He,preformatted:Te,twoColumn:Pe,analysisSection:De,sectionHeader:ze,confidenceMeter:Ge,confidenceLabel:qe,confidenceScore:Oe,confidenceBar:Ue,confidenceFill:Ye,analysisBlock:Ve,analysisContent:We,codeBlock:Je,fileList:Qe,fileItem:Ke,fileIcon:Xe,analysisMeta:Ze,fixSection:es,prSuccess:ss,prHeader:ts,prIcon:as,prLink:is,prStats:rs,testsFailed:ns,fixError:cs,fixErrorHint:os,fixInProgress:ls,actions:ds},us=c=>{switch(c){case"submitted":return t.statusSubmitted;case"analyzing":return t.statusAnalyzing;case"analysis_complete":return t.statusAnalysisComplete;case"fixing":return t.statusFixing;case"fix_ready":case"pr_opened":return t.statusPrOpened;case"resolved":return t.statusResolved;case"closed":case"wont_fix":return t.statusClosed;default:return""}},ms=c=>{switch(c){case"critical":return t.severityCritical;case"high":return t.severityHigh;case"medium":return t.severityMedium;case"low":return t.severityLow;default:return""}},_s=c=>c.replace(/_/g," ").replace(/\b\w/g,s=>s.toUpperCase()),E=c=>new Date(c).toLocaleString(),nt=()=>{const{bugId:c}=H(),[s,o]=d.useState(null),[a,m]=d.useState(!0),[j,f]=d.useState(null),[S,b]=d.useState(!1),p=d.useCallback(async()=>{if(c)try{const _=await F.getBug(c);o(_),f(null)}catch(_){f(_ instanceof Error?_.message:"Failed to load bug details")}finally{m(!1)}},[c]);d.useEffect(()=>{p();const _=setInterval(()=>{(s?.bug.status==="analyzing"||s?.bug.status==="fixing")&&p()},5e3);return()=>clearInterval(_)},[p,s?.bug.status]);const w=async()=>{if(c){b(!0);try{await F.requestReanalysis(c),p()}catch(_){f(_ instanceof Error?_.message:"Failed to request re-analysis")}finally{b(!1)}}};if(a)return e.jsxs("div",{className:t.loadingContainer,children:[e.jsx(R,{size:"large"}),e.jsx("p",{children:"Loading bug details..."})]});if(j||!s)return e.jsxs("div",{className:t.errorContainer,children:[e.jsx("h2",{children:"Error"}),e.jsx("p",{children:j||"Bug not found"}),e.jsx(v,{to:"/bugs/submit",children:e.jsx(x,{variant:"primary",children:"Submit New Bug"})})]});const{bug:u,analysis:h,fix_attempt:l}=s;return e.jsxs("div",{className:t.page,children:[e.jsxs("div",{className:t.breadcrumb,children:[e.jsx(v,{to:"/dashboard",children:"Dashboard"}),e.jsx("span",{className:t.separator,children:"/"}),e.jsx(v,{to:"/bugs/my",children:"My Bugs"}),e.jsx("span",{className:t.separator,children:"/"}),e.jsxs("span",{children:[u.id.slice(0,8),"..."]})]}),e.jsxs("div",{className:t.header,children:[e.jsxs("div",{className:t.headerTop,children:[e.jsx("span",{className:`${t.statusBadge} ${us(u.status)}`,children:_s(u.status)}),e.jsx("span",{className:`${t.severityBadge} ${ms(u.severity)}`,children:u.severity.toUpperCase()})]}),e.jsx("h1",{className:t.title,children:u.title}),e.jsxs("div",{className:t.meta,children:[e.jsxs("span",{children:["ID: ",e.jsx("code",{children:u.id})]}),e.jsxs("span",{children:["Submitted: ",E(u.created_at)]}),u.affected_component&&e.jsxs("span",{children:["Component: ",u.affected_component]})]})]}),e.jsxs("section",{className:t.section,children:[e.jsx("h2",{children:"Description"}),e.jsx("p",{className:t.description,children:u.description})]}),u.steps_to_reproduce&&e.jsxs("section",{className:t.section,children:[e.jsx("h2",{children:"Steps to Reproduce"}),e.jsx("pre",{className:t.preformatted,children:u.steps_to_reproduce})]}),(u.expected_behavior||u.actual_behavior)&&e.jsx("section",{className:t.section,children:e.jsxs("div",{className:t.twoColumn,children:[u.expected_behavior&&e.jsxs("div",{children:[e.jsx("h3",{children:"Expected Behavior"}),e.jsx("p",{children:u.expected_behavior})]}),u.actual_behavior&&e.jsxs("div",{children:[e.jsx("h3",{children:"Actual Behavior"}),e.jsx("p",{children:u.actual_behavior})]})]})}),h&&e.jsxs("section",{className:t.analysisSection,children:[e.jsxs("div",{className:t.sectionHeader,children:[e.jsx("h2",{children:"AI Analysis"}),e.jsxs("div",{className:t.confidenceMeter,children:[e.jsx("span",{className:t.confidenceLabel,children:"Confidence:"}),e.jsxs("span",{className:t.confidenceScore,children:[Math.round(h.confidence_score),"%"]}),e.jsx("div",{className:t.confidenceBar,children:e.jsx("div",{className:t.confidenceFill,style:{width:`${h.confidence_score}%`}})})]})]}),e.jsxs("div",{className:t.analysisBlock,children:[e.jsx("h3",{children:"Root Cause Analysis"}),e.jsx("div",{className:t.analysisContent,children:h.root_cause_analysis})]}),e.jsxs("div",{className:t.analysisBlock,children:[e.jsx("h3",{children:"Suggested Fix"}),e.jsx("div",{className:t.codeBlock,children:h.suggested_fix})]}),e.jsxs("div",{className:t.analysisBlock,children:[e.jsx("h3",{children:"Affected Files"}),e.jsx("ul",{className:t.fileList,children:h.affected_files.map((_,C)=>e.jsxs("li",{className:t.fileItem,children:[e.jsx("span",{className:t.fileIcon,children:"ðŸ“„"}),e.jsx("code",{children:_})]},C))})]}),e.jsxs("div",{className:t.analysisMeta,children:[e.jsxs("span",{children:["Complexity: ",h.complexity_estimate]}),e.jsxs("span",{children:["Model: ",h.claude_model_used]}),e.jsxs("span",{children:["Tokens: ",h.tokens_used.toLocaleString()]}),h.analysis_completed_at&&e.jsxs("span",{children:["Completed: ",E(h.analysis_completed_at)]})]})]}),l&&e.jsxs("section",{className:t.fixSection,children:[e.jsx("h2",{children:"Fix Attempt"}),l.pr_url?e.jsxs("div",{className:t.prSuccess,children:[e.jsxs("div",{className:t.prHeader,children:[e.jsx("span",{className:t.prIcon,children:"âœ…"}),e.jsx("h3",{children:"Pull Request Created"})]}),e.jsx("p",{children:"An automated fix has been generated and submitted for review."}),e.jsxs("a",{href:l.pr_url,target:"_blank",rel:"noopener noreferrer",className:t.prLink,children:["View PR #",l.pr_number," on GitHub"]}),e.jsxs("div",{className:t.prStats,children:[e.jsxs("span",{children:["ðŸ“ ",l.files_changed.length," files"]}),e.jsxs("span",{children:["âž• ",l.lines_added," added"]}),e.jsxs("span",{children:["âž– ",l.lines_removed," removed"]}),e.jsxs("span",{children:["âœ… ",l.tests_passed," tests passed"]}),l.tests_failed>0&&e.jsxs("span",{className:t.testsFailed,children:["âŒ ",l.tests_failed," tests failed"]})]})]}):l.error_message?e.jsxs("div",{className:t.fixError,children:[e.jsx("h3",{children:"âš ï¸ Fix Generation Failed"}),e.jsx("p",{children:l.error_message}),e.jsx("p",{className:t.fixErrorHint,children:"A manual fix may be required. The analysis above provides guidance for resolving this issue."})]}):l.status==="in_progress"?e.jsxs("div",{className:t.fixInProgress,children:[e.jsx(R,{size:"small"}),e.jsx("span",{children:"Generating fix..."})]}):null]}),e.jsxs("section",{className:t.actions,children:[u.status==="analysis_complete"&&!l&&e.jsx(x,{variant:"primary",onClick:w,disabled:S,children:S?"Requesting...":"Request Re-Analysis"}),e.jsx(v,{to:"/bugs/submit",children:e.jsx(x,{variant:"secondary",children:"Submit Another Bug"})}),e.jsx(v,{to:"/bugs/my",children:e.jsx(x,{variant:"outline",children:"View All My Bugs"})})]})]})},hs="_page_vdtfk_5",ps="_header_vdtfk_11",gs="_breadcrumb_vdtfk_15",xs="_separator_vdtfk_30",fs="_titleRow_vdtfk_34",vs="_title_vdtfk_34",bs="_subtitle_vdtfk_55",ys="_filters_vdtfk_61",js="_filterGroup_vdtfk_79",Ns="_filterInfo_vdtfk_91",Ss="_loadingContainer_vdtfk_104",ws="_errorContainer_vdtfk_110",Cs="_emptyState_vdtfk_115",ks="_bugList_vdtfk_134",Bs="_bugCard_vdtfk_140",As="_bugCardHeader_vdtfk_156",$s="_statusBadge_vdtfk_162",Is="_severityBadge_vdtfk_163",Fs="_statusSubmitted_vdtfk_172",Rs="_statusAnalyzing_vdtfk_173",Ls="_statusAnalysisComplete_vdtfk_174",Es="_statusFixing_vdtfk_175",Ms="_statusPrOpened_vdtfk_176",Hs="_statusResolved_vdtfk_177",Ts="_statusClosed_vdtfk_178",Ps="_severityCritical_vdtfk_180",Ds="_severityHigh_vdtfk_181",zs="_severityMedium_vdtfk_182",Gs="_severityLow_vdtfk_183",qs="_bugTitle_vdtfk_185",Os="_bugDescription_vdtfk_191",Us="_bugMeta_vdtfk_198",Ys="_pagination_vdtfk_207",Vs="_pageInfo_vdtfk_215",n={page:hs,header:ps,breadcrumb:gs,separator:xs,titleRow:fs,title:vs,subtitle:bs,filters:ys,filterGroup:js,filterInfo:Ns,loadingContainer:Ss,errorContainer:ws,emptyState:Cs,bugList:ks,bugCard:Bs,bugCardHeader:As,statusBadge:$s,severityBadge:Is,statusSubmitted:Fs,statusAnalyzing:Rs,statusAnalysisComplete:Ls,statusFixing:Es,statusPrOpened:Ms,statusResolved:Hs,statusClosed:Ts,severityCritical:Ps,severityHigh:Ds,severityMedium:zs,severityLow:Gs,bugTitle:qs,bugDescription:Os,bugMeta:Us,pagination:Ys,pageInfo:Vs},Ws=c=>{switch(c){case"submitted":return n.statusSubmitted;case"analyzing":return n.statusAnalyzing;case"analysis_complete":return n.statusAnalysisComplete;case"fixing":return n.statusFixing;case"fix_ready":case"pr_opened":return n.statusPrOpened;case"resolved":return n.statusResolved;case"closed":case"wont_fix":return n.statusClosed;default:return""}},Js=c=>{switch(c){case"critical":return n.severityCritical;case"high":return n.severityHigh;case"medium":return n.severityMedium;case"low":return n.severityLow;default:return""}},Qs=c=>c.replace(/_/g," ").replace(/\b\w/g,s=>s.toUpperCase()),Ks=c=>new Date(c).toLocaleDateString(),ct=()=>{const[c,s]=d.useState([]),[o,a]=d.useState(!0),[m,j]=d.useState(null),[f,S]=d.useState({}),[b,p]=d.useState(1),[w,u]=d.useState(!1),[h,l]=d.useState(0),_=[{value:"",label:"All Statuses"},{value:"submitted",label:"Submitted"},{value:"analyzing",label:"Analyzing"},{value:"analysis_complete",label:"Analysis Complete"},{value:"fixing",label:"Fixing"},{value:"pr_opened",label:"PR Opened"},{value:"resolved",label:"Resolved"},{value:"closed",label:"Closed"}],C=[{value:"",label:"All Severities"},{value:"critical",label:"Critical"},{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}],k=d.useCallback(async()=>{a(!0);try{const i=await F.listMyBugs({...f,page:b,limit:10});s(i.bugs),u(i.has_more),l(i.total),j(null)}catch(i){j(i instanceof Error?i.message:"Failed to load bugs")}finally{a(!1)}},[f,b]);d.useEffect(()=>{k()},[k]);const A=i=>{const{name:g,value:N}=i.target;S(B=>({...B,[g]:N||void 0})),p(1)};return e.jsxs("div",{className:n.page,children:[e.jsxs("div",{className:n.header,children:[e.jsxs("div",{className:n.breadcrumb,children:[e.jsx(v,{to:"/dashboard",children:"Dashboard"}),e.jsx("span",{className:n.separator,children:"/"}),e.jsx("span",{children:"My Bug Reports"})]}),e.jsxs("div",{className:n.titleRow,children:[e.jsx("h1",{className:n.title,children:"My Bug Reports"}),e.jsx(v,{to:"/bugs/submit",children:e.jsx(x,{variant:"primary",children:"Report New Bug"})})]}),e.jsx("p",{className:n.subtitle,children:"Track the status of your submitted bug reports"})]}),e.jsxs("div",{className:n.filters,children:[e.jsxs("div",{className:n.filterGroup,children:[e.jsx("label",{htmlFor:"status-filter",children:"Status"}),e.jsx(I,{id:"status-filter",name:"status",value:f.status||"",onChange:A,options:_})]}),e.jsxs("div",{className:n.filterGroup,children:[e.jsx("label",{htmlFor:"severity-filter",children:"Severity"}),e.jsx(I,{id:"severity-filter",name:"severity",value:f.severity||"",onChange:A,options:C})]}),e.jsxs("div",{className:n.filterInfo,children:["Showing ",c.length," of ",h," bugs"]})]}),o?e.jsx("div",{className:n.loadingContainer,children:e.jsx(R,{size:"large"})}):m?e.jsxs("div",{className:n.errorContainer,children:[e.jsx("p",{children:m}),e.jsx(x,{onClick:k,children:"Retry"})]}):c.length===0?e.jsxs("div",{className:n.emptyState,children:[e.jsx("h3",{children:"No Bug Reports"}),e.jsx("p",{children:"You haven't submitted any bug reports yet."}),e.jsx(v,{to:"/bugs/submit",children:e.jsx(x,{variant:"primary",children:"Submit Your First Bug"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:n.bugList,children:c.map(i=>e.jsxs(v,{to:`/bugs/${i.id}`,className:n.bugCard,children:[e.jsxs("div",{className:n.bugCardHeader,children:[e.jsx("span",{className:`${n.statusBadge} ${Ws(i.status)}`,children:Qs(i.status)}),e.jsx("span",{className:`${n.severityBadge} ${Js(i.severity)}`,children:i.severity.toUpperCase()})]}),e.jsx("h3",{className:n.bugTitle,children:i.title}),e.jsx("p",{className:n.bugDescription,children:i.description.length>150?`${i.description.slice(0,150)}...`:i.description}),e.jsxs("div",{className:n.bugMeta,children:[e.jsxs("span",{children:["ID: ",i.id.slice(0,8),"..."]}),e.jsx("span",{children:Ks(i.created_at)}),i.affected_component&&e.jsx("span",{children:i.affected_component})]})]},i.id))}),e.jsxs("div",{className:n.pagination,children:[e.jsx(x,{variant:"outline",disabled:b===1,onClick:()=>p(i=>i-1),children:"Previous"}),e.jsxs("span",{className:n.pageInfo,children:["Page ",b]}),e.jsx(x,{variant:"outline",disabled:!w,onClick:()=>p(i=>i+1),children:"Next"})]})]})]})};export{ct as BugListPage,nt as BugStatusPage,ie as BugSubmissionForm,rt as BugSubmissionPage};
//# sourceMappingURL=index-BNk5h0Ah.js.map
