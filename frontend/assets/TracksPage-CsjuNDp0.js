import{j as e,c as A,d as L,u as B}from"./query-vendor-DXemzGoE.js";import{a as x,R as V}from"./react-vendor-DLPaXABT.js";import{c as f,C as F,B as y,S as O,u as H,D as E,H as I}from"./index-DkecjcRV.js";import{I as q}from"./Input-I95rkvnn.js";import{S as P}from"./Select-5dtzX9qU.js";import{M as U}from"./Modal-Cko1EhzL.js";import{T as C}from"./Textarea-B4yEwRZH.js";import"./state-vendor-DnXO85Wm.js";class J{baseUrl="/tracks/";async getOrganizationTracks(t,n){const u={organization_id:t};return n?.project_id&&(u.project_id=n.project_id),n?.status&&(u.track_status=n.status),n?.difficulty_level&&(u.difficulty_level=n.difficulty_level),await f.get(this.baseUrl,{params:u})}async getProjectTracks(t,n){const u={project_id:t};return n&&(u.track_status=n),await f.get(this.baseUrl,{params:u})}async getTrackById(t){return await f.get(`${this.baseUrl}/${t}`)}async createTrack(t){return await f.post(this.baseUrl,t)}async updateTrack(t,n){return await f.put(`${this.baseUrl}/${t}`,n)}async deleteTrack(t){await f.delete(`${this.baseUrl}/${t}`)}async publishTrack(t){return await f.post(`${this.baseUrl}/${t}/publish`)}async unpublishTrack(t){return await f.post(`${this.baseUrl}/${t}/unpublish`)}async bulkEnrollStudents(t,n){return await f.post(`${this.baseUrl}/${t}/enroll`,n)}async getTrackEnrollments(t,n){const u={};return n&&(u.enrollment_status=n),await f.get(`${this.baseUrl}/${t}/enrollments`,{params:u})}async getTrackAnalytics(t){return(await f.get(`${this.baseUrl}/${t}/analytics`)).analytics}async duplicateTrack(t,n){const u=n?{new_name:n}:{};return await f.post(`${this.baseUrl}/${t}/duplicate`,u)}async getTrackLocations(t){return await f.get(`${this.baseUrl}/${t}/locations`)}async searchTracks(t,n){const u=await this.getOrganizationTracks(t),j=n.toLowerCase();return u.filter(s=>s.name.toLowerCase().includes(j)||s.description?.toLowerCase().includes(j))}}const M=new J,a={"track-card":"_track-card_w97ll_6","card-header":"_card-header_w97ll_20","title-section":"_title-section_w97ll_29","track-title":"_track-title_w97ll_33","status-badges":"_status-badges_w97ll_41","status-badge":"_status-badge_w97ll_41","difficulty-badge":"_difficulty-badge_w97ll_48","status-active":"_status-active_w97ll_59","status-draft":"_status-draft_w97ll_64","status-archived":"_status-archived_w97ll_69","difficulty-beginner":"_difficulty-beginner_w97ll_75","difficulty-intermediate":"_difficulty-intermediate_w97ll_80","difficulty-advanced":"_difficulty-advanced_w97ll_85","card-body":"_card-body_w97ll_91","track-description":"_track-description_w97ll_98","metadata-grid":"_metadata-grid_w97ll_110","metadata-item":"_metadata-item_w97ll_116","metadata-icon":"_metadata-icon_w97ll_122","metadata-content":"_metadata-content_w97ll_127","metadata-label":"_metadata-label_w97ll_134","metadata-value":"_metadata-value_w97ll_140","capacity-section":"_capacity-section_w97ll_147","capacity-label":"_capacity-label_w97ll_151","capacity-percentage":"_capacity-percentage_w97ll_161","capacity-bar":"_capacity-bar_w97ll_166","capacity-fill":"_capacity-fill_w97ll_173","capacity-healthy":"_capacity-healthy_w97ll_179","capacity-warning":"_capacity-warning_w97ll_183","capacity-critical":"_capacity-critical_w97ll_187","objectives-section":"_objectives-section_w97ll_192","objectives-title":"_objectives-title_w97ll_199","objectives-list":"_objectives-list_w97ll_206","objective-item":"_objective-item_w97ll_215","objective-item-more":"_objective-item-more_w97ll_231","card-footer":"_card-footer_w97ll_239","action-buttons":"_action-buttons_w97ll_248","delete-button":"_delete-button_w97ll_254","metadata-footer":"_metadata-footer_w97ll_263","metadata-footer-item":"_metadata-footer-item_w97ll_269"},X=({track:l,onEdit:t,onDelete:n,onViewCourses:u})=>{const j=()=>{if(!l.duration_weeks)return"Duration not specified";const c=l.duration_weeks;return c===1?"1 week":`${c} weeks`},s=c=>c.charAt(0).toUpperCase()+c.slice(1),_=()=>{switch(l.status){case"active":return a["status-active"];case"draft":return a["status-draft"];case"archived":return a["status-archived"];default:return a["status-draft"]}},i=()=>{switch(l.difficulty_level){case"beginner":return a["difficulty-beginner"];case"intermediate":return a["difficulty-intermediate"];case"advanced":return a["difficulty-advanced"];default:return a["difficulty-beginner"]}},h=()=>l.max_students?Math.round(l.enrollment_count/l.max_students*100):0,d=()=>{const c=h();return c>=90?"critical":c>=75?"warning":"healthy"};return e.jsxs(F,{variant:"outlined",padding:"medium",className:a["track-card"],children:[e.jsx("div",{className:a["card-header"],children:e.jsxs("div",{className:a["title-section"],children:[e.jsx("h3",{className:a["track-title"],children:l.name}),e.jsxs("div",{className:a["status-badges"],children:[e.jsx("span",{className:`${a["status-badge"]} ${_()}`,children:l.status.charAt(0).toUpperCase()+l.status.slice(1)}),e.jsx("span",{className:`${a["difficulty-badge"]} ${i()}`,children:s(l.difficulty_level)})]})]})}),e.jsxs("div",{className:a["card-body"],children:[e.jsx("p",{className:a["track-description"],children:l.description||"No description available"}),e.jsxs("div",{className:a["metadata-grid"],children:[e.jsxs("div",{className:a["metadata-item"],children:[e.jsx("span",{className:a["metadata-icon"],children:"ðŸ“…"}),e.jsxs("div",{className:a["metadata-content"],children:[e.jsx("span",{className:a["metadata-label"],children:"Duration"}),e.jsx("span",{className:a["metadata-value"],children:j()})]})]}),e.jsxs("div",{className:a["metadata-item"],children:[e.jsx("span",{className:a["metadata-icon"],children:"ðŸ‘¥"}),e.jsxs("div",{className:a["metadata-content"],children:[e.jsx("span",{className:a["metadata-label"],children:"Enrolled"}),e.jsxs("span",{className:a["metadata-value"],children:[l.enrollment_count,l.max_students&&` / ${l.max_students}`]})]})]}),e.jsxs("div",{className:a["metadata-item"],children:[e.jsx("span",{className:a["metadata-icon"],children:"ðŸ‘¨â€ðŸ«"}),e.jsxs("div",{className:a["metadata-content"],children:[e.jsx("span",{className:a["metadata-label"],children:"Instructors"}),e.jsx("span",{className:a["metadata-value"],children:l.instructor_count||0})]})]}),e.jsxs("div",{className:a["metadata-item"],children:[e.jsx("span",{className:a["metadata-icon"],children:"ðŸŽ¯"}),e.jsxs("div",{className:a["metadata-content"],children:[e.jsx("span",{className:a["metadata-label"],children:"Objectives"}),e.jsx("span",{className:a["metadata-value"],children:l.learning_objectives.length||0})]})]})]}),l.max_students&&e.jsxs("div",{className:a["capacity-section"],children:[e.jsxs("div",{className:a["capacity-label"],children:[e.jsx("span",{children:"Enrollment Capacity"}),e.jsxs("span",{className:a["capacity-percentage"],children:[h(),"%"]})]}),e.jsx("div",{className:a["capacity-bar"],children:e.jsx("div",{className:`${a["capacity-fill"]} ${a[`capacity-${d()}`]}`,style:{width:`${h()}%`}})})]}),l.learning_objectives.length>0&&e.jsxs("div",{className:a["objectives-section"],children:[e.jsx("h4",{className:a["objectives-title"],children:"Learning Objectives:"}),e.jsxs("ul",{className:a["objectives-list"],children:[l.learning_objectives.slice(0,3).map((c,w)=>e.jsx("li",{className:a["objective-item"],children:c},w)),l.learning_objectives.length>3&&e.jsxs("li",{className:a["objective-item-more"],children:["+",l.learning_objectives.length-3," more..."]})]})]})]}),e.jsxs("div",{className:a["card-footer"],children:[e.jsxs("div",{className:a["action-buttons"],children:[u&&e.jsx(y,{variant:"ghost",size:"small",onClick:()=>u(l.id),children:"View Courses"}),t&&e.jsx(y,{variant:"ghost",size:"small",onClick:()=>t(l.id),children:"Edit"}),n&&e.jsx(y,{variant:"ghost",size:"small",onClick:()=>n(l.id),className:a["delete-button"],children:"Delete"})]}),e.jsx("div",{className:a["metadata-footer"],children:e.jsxs("span",{className:a["metadata-footer-item"],children:["Created ",new Date(l.created_at).toLocaleDateString()]})})]})]})},Y="_form_zdj8r_3",Z="_formGroup_zdj8r_9",ee="_label_zdj8r_15",ae="_required_zdj8r_21",te="_errorText_zdj8r_25",se="_helpText_zdj8r_31",re="_gridTwo_zdj8r_37",ie="_errorBox_zdj8r_43",le="_actions_zdj8r_52",m={form:Y,formGroup:Z,label:ee,required:ae,errorText:te,helpText:se,gridTwo:re,errorBox:ie,actions:le},z={name:"",description:"",duration_weeks:"",difficulty_level:"beginner",max_students:"",target_audience:"",prerequisites:"",learning_objectives:""},ne=({isOpen:l,onClose:t,projectId:n,onSuccess:u})=>{const j=A(),[s,_]=x.useState(z),[i,h]=x.useState({}),d=L({mutationFn:r=>(console.log("[CreateTrackModal] mutationFn called with data:",r),M.createTrack(r)),onSuccess:r=>{console.log("[CreateTrackModal] Track created successfully:",r),j.invalidateQueries({queryKey:["tracks"]}),u&&u(r.id),_(z),h({}),t()},onError:r=>{console.error("[CreateTrackModal] Failed to create track:",r),console.error("[CreateTrackModal] Error details:",{message:r.message,response:r.response,stack:r.stack}),h({submit:r.message||"Failed to create track. Please try again."})}}),c=r=>{const{name:g,value:S}=r.target;_(N=>({...N,[g]:S})),i[g]&&h(N=>{const T={...N};return delete T[g],T})},w=()=>{const r={};return s.name.trim()?s.name.length<3?r.name="Track name must be at least 3 characters":s.name.length>200&&(r.name="Track name must be less than 200 characters"):r.name="Track name is required",s.duration_weeks&&isNaN(Number(s.duration_weeks))?r.duration_weeks="Duration must be a number":s.duration_weeks&&Number(s.duration_weeks)<1?r.duration_weeks="Duration must be at least 1 week":s.duration_weeks&&Number(s.duration_weeks)>52&&(r.duration_weeks="Duration must be less than 52 weeks"),s.max_students&&isNaN(Number(s.max_students))?r.max_students="Max students must be a number":s.max_students&&Number(s.max_students)<1?r.max_students="Max students must be at least 1":s.max_students&&Number(s.max_students)>1e3&&(r.max_students="Max students must be less than 1000"),h(r),Object.keys(r).length===0},p=async r=>{console.log("[CreateTrackModal] handleSubmit called"),console.log("[CreateTrackModal] Project ID:",n),console.log("[CreateTrackModal] Form data:",s),r.preventDefault();const g=w();if(console.log("[CreateTrackModal] Validation result:",g),console.log("[CreateTrackModal] Validation errors:",i),!g){console.error("[CreateTrackModal] Validation failed, not submitting");return}const S=T=>T.split(`
`).map($=>$.trim()).filter($=>$.length>0),N={name:s.name.trim(),description:s.description.trim()||void 0,project_id:n,duration_weeks:s.duration_weeks?Number(s.duration_weeks):void 0,difficulty_level:s.difficulty_level,max_students:s.max_students?Number(s.max_students):void 0,target_audience:S(s.target_audience),prerequisites:S(s.prerequisites),learning_objectives:S(s.learning_objectives)};console.log("[CreateTrackModal] Submitting request data:",N),d.mutate(N),console.log("[CreateTrackModal] Mutation called")},k=()=>{d.isPending||(_(z),h({}),t())};return e.jsx(U,{isOpen:l,onClose:k,title:"Create New Track",size:"large",preventClose:d.isPending,children:e.jsxs("form",{className:m.form,onSubmit:p,children:[e.jsxs("div",{className:m.formGroup,children:[e.jsxs("label",{htmlFor:"name",className:m.label,children:["Track Name ",e.jsx("span",{className:m.required,children:"*"})]}),e.jsx(q,{id:"name",name:"name",type:"text",value:s.name,onChange:c,placeholder:"e.g., Web Development Bootcamp",disabled:d.isPending,error:i.name}),i.name&&e.jsx("span",{className:m.errorText,children:i.name})]}),e.jsxs("div",{className:m.formGroup,children:[e.jsx("label",{htmlFor:"description",className:m.label,children:"Description"}),e.jsx(C,{id:"description",name:"description",value:s.description,onChange:c,placeholder:"Describe what students will learn in this track...",rows:3,disabled:d.isPending})]}),e.jsxs("div",{className:m.gridTwo,children:[e.jsxs("div",{className:m.formGroup,children:[e.jsx("label",{htmlFor:"difficulty_level",className:m.label,children:"Difficulty Level"}),e.jsx(P,{id:"difficulty_level",name:"difficulty_level",value:s.difficulty_level,onChange:r=>{c({target:{name:"difficulty_level",value:r}})},disabled:d.isPending,options:[{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"}]})]}),e.jsxs("div",{className:m.formGroup,children:[e.jsx("label",{htmlFor:"duration_weeks",className:m.label,children:"Duration (weeks)"}),e.jsx(q,{id:"duration_weeks",name:"duration_weeks",type:"number",value:s.duration_weeks,onChange:c,placeholder:"e.g., 12",min:"1",max:"52",disabled:d.isPending,error:i.duration_weeks}),i.duration_weeks&&e.jsx("span",{className:m.errorText,children:i.duration_weeks})]})]}),e.jsxs("div",{className:m.formGroup,children:[e.jsx("label",{htmlFor:"max_students",className:m.label,children:"Maximum Students (Optional)"}),e.jsx(q,{id:"max_students",name:"max_students",type:"number",value:s.max_students,onChange:c,placeholder:"Leave empty for unlimited",min:"1",max:"1000",disabled:d.isPending,error:i.max_students}),i.max_students&&e.jsx("span",{className:m.errorText,children:i.max_students})]}),e.jsxs("div",{className:m.formGroup,children:[e.jsx("label",{htmlFor:"target_audience",className:m.label,children:"Target Audience"}),e.jsx(C,{id:"target_audience",name:"target_audience",value:s.target_audience,onChange:c,placeholder:`Enter each audience on a new line
e.g., Junior developers
Career changers`,rows:3,disabled:d.isPending}),e.jsx("span",{className:m.helpText,children:"One item per line"})]}),e.jsxs("div",{className:m.formGroup,children:[e.jsx("label",{htmlFor:"prerequisites",className:m.label,children:"Prerequisites"}),e.jsx(C,{id:"prerequisites",name:"prerequisites",value:s.prerequisites,onChange:c,placeholder:`Enter each prerequisite on a new line
e.g., Basic HTML knowledge
Familiarity with command line`,rows:3,disabled:d.isPending}),e.jsx("span",{className:m.helpText,children:"One item per line"})]}),e.jsxs("div",{className:m.formGroup,children:[e.jsx("label",{htmlFor:"learning_objectives",className:m.label,children:"Learning Objectives"}),e.jsx(C,{id:"learning_objectives",name:"learning_objectives",value:s.learning_objectives,onChange:c,placeholder:`Enter each objective on a new line
e.g., Build responsive web applications
Deploy to production`,rows:4,disabled:d.isPending}),e.jsx("span",{className:m.helpText,children:"One objective per line"})]}),i.submit&&e.jsxs("div",{className:m.errorBox,children:[e.jsx("strong",{children:"Error:"})," ",i.submit]}),e.jsxs("div",{className:m.actions,children:[e.jsx(y,{type:"button",variant:"ghost",onClick:k,disabled:d.isPending,children:"Cancel"}),e.jsx(y,{type:"submit",variant:"primary",disabled:d.isPending,children:d.isPending?"Creating...":"Create Track"})]})]})})},ce="_form_ldrcq_3",de="_error_ldrcq_30",b={form:ce,"form-section":"_form-section_ldrcq_9","section-title":"_section-title_ldrcq_15","form-row":"_form-row_ldrcq_24",error:de},oe=({isOpen:l,track:t,onClose:n,onSuccess:u})=>{const j=A(),[s,_]=x.useState(null),[i,h]=x.useState({name:t.name,description:t.description||"",duration_weeks:t.duration_weeks?.toString()||"",difficulty_level:t.difficulty_level,max_students:t.max_students?.toString()||"",status:t.status,target_audience:t.target_audience?.join(", ")||"",prerequisites:t.prerequisites?.join(", ")||"",learning_objectives:t.learning_objectives?.join(", ")||""}),d=p=>{const{name:k,value:r}=p.target;h(g=>({...g,[k]:r}))},c=L({mutationFn:p=>M.updateTrack(t.id,p),onSuccess:()=>{j.invalidateQueries({queryKey:["tracks"]}),u(),_(null)},onError:p=>{_(p.message||"Failed to update track")}}),w=p=>{if(p.preventDefault(),_(null),!i.name.trim()){_("Track name is required");return}const k={name:i.name.trim(),description:i.description.trim()||void 0,duration_weeks:i.duration_weeks?parseInt(i.duration_weeks,10):void 0,difficulty_level:i.difficulty_level,max_students:i.max_students?parseInt(i.max_students,10):void 0,status:i.status,target_audience:i.target_audience?i.target_audience.split(",").map(r=>r.trim()).filter(Boolean):void 0,prerequisites:i.prerequisites?i.prerequisites.split(",").map(r=>r.trim()).filter(Boolean):void 0,learning_objectives:i.learning_objectives?i.learning_objectives.split(",").map(r=>r.trim()).filter(Boolean):void 0};c.mutate(k)};return e.jsx(U,{isOpen:l,onClose:n,title:"Edit Track",size:"large",footer:e.jsxs(e.Fragment,{children:[e.jsx(y,{variant:"ghost",onClick:n,disabled:c.isPending,children:"Cancel"}),e.jsx(y,{variant:"primary",onClick:w,disabled:c.isPending,children:c.isPending?e.jsx(O,{size:"small"}):"Save Changes"})]}),children:e.jsxs("form",{onSubmit:w,className:b.form,children:[e.jsxs("div",{className:b["form-section"],children:[e.jsx("h3",{className:b["section-title"],children:"Basic Information"}),e.jsx(q,{name:"name",label:"Track Name",type:"text",placeholder:"Enter track name",value:i.name,onChange:d,required:!0,fullWidth:!0}),e.jsx(C,{name:"description",label:"Description",placeholder:"Describe this learning track",value:i.description,onChange:d,fullWidth:!0,rows:3})]}),e.jsxs("div",{className:b["form-section"],children:[e.jsx("h3",{className:b["section-title"],children:"Track Settings"}),e.jsxs("div",{className:b["form-row"],children:[e.jsxs(P,{name:"difficulty_level",label:"Difficulty Level",value:i.difficulty_level,onChange:d,fullWidth:!0,required:!0,children:[e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"advanced",children:"Advanced"})]}),e.jsxs(P,{name:"status",label:"Status",value:i.status,onChange:d,fullWidth:!0,required:!0,children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"archived",children:"Archived"})]})]}),e.jsxs("div",{className:b["form-row"],children:[e.jsx(q,{name:"duration_weeks",label:"Duration (weeks)",type:"number",placeholder:"e.g., 12",value:i.duration_weeks,onChange:d,fullWidth:!0,min:"1"}),e.jsx(q,{name:"max_students",label:"Max Students",type:"number",placeholder:"e.g., 30",value:i.max_students,onChange:d,fullWidth:!0,min:"1"})]})]}),e.jsxs("div",{className:b["form-section"],children:[e.jsx("h3",{className:b["section-title"],children:"Additional Details"}),e.jsx(C,{name:"target_audience",label:"Target Audience",placeholder:"e.g., Web developers, Data scientists (comma-separated)",value:i.target_audience,onChange:d,fullWidth:!0,rows:2,helperText:"Comma-separated list"}),e.jsx(C,{name:"prerequisites",label:"Prerequisites",placeholder:"e.g., Basic programming, HTML/CSS (comma-separated)",value:i.prerequisites,onChange:d,fullWidth:!0,rows:2,helperText:"Comma-separated list"}),e.jsx(C,{name:"learning_objectives",label:"Learning Objectives",placeholder:"e.g., Build web apps, Understand React (comma-separated)",value:i.learning_objectives,onChange:d,fullWidth:!0,rows:3,helperText:"Comma-separated list"})]}),s&&e.jsx("div",{className:b.error,role:"alert",children:s})]})})},v={"tracks-page":"_tracks-page_188wm_3","page-header":"_page-header_188wm_12","header-content":"_header-content_188wm_20","header-description":"_header-description_188wm_25","filters-card":"_filters-card_188wm_31","filters-grid":"_filters-grid_188wm_37","filter-group":"_filter-group_188wm_43","results-count":"_results-count_188wm_48","tracks-grid":"_tracks-grid_188wm_56","empty-state":"_empty-state_188wm_62"},je=()=>{const{organizationId:l}=H(),t=A(),[n,u]=x.useState(!1),[j,s]=x.useState(null),[_,i]=x.useState(""),[h,d]=x.useState("all"),[c,w]=x.useState("all"),[p,k]=x.useState(""),{data:r}=B({queryKey:["trainingPrograms","organization",l],queryFn:async()=>{const o=await fetch(`/api/v1/courses?organization_id=${l}&published_only=false`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!o.ok)throw new Error("Failed to fetch programs");return o.json()},enabled:!!l,staleTime:300*1e3});V.useEffect(()=>{if(r&&!p){const o=Array.isArray(r)?r:r.data||[];o.length>0&&(k(o[0].id),console.log("[TracksPage] Auto-selected project:",o[0].id,o[0].title))}},[r,p]);const{data:g,isLoading:S,error:N}=B({queryKey:["tracks",l],queryFn:()=>M.getOrganizationTracks(l),enabled:!!l,staleTime:120*1e3}),T=x.useMemo(()=>g?g.filter(o=>{const D=!_||o.name.toLowerCase().includes(_.toLowerCase())||o.description?.toLowerCase().includes(_.toLowerCase()),K=h==="all"||o.difficulty_level===h,R=c==="all"||o.status===c;return D&&K&&R}):[],[g,_,h,c]),$=()=>{u(!1),t.invalidateQueries({queryKey:["tracks"]})},W=o=>{s(o)},G=()=>{s(null),t.invalidateQueries({queryKey:["tracks"]})},Q=async o=>{if(window.confirm("Are you sure you want to delete this track? This action cannot be undone."))try{await M.deleteTrack(o),t.invalidateQueries({queryKey:["tracks"]})}catch(D){console.error("Failed to delete track:",D),alert("Failed to delete track. Please try again.")}};return S?e.jsx(E,{children:e.jsx("div",{className:v["tracks-page"],children:e.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"4rem"},children:e.jsx(O,{size:"large"})})})}):N?e.jsx(E,{children:e.jsx("div",{className:v["tracks-page"],children:e.jsx(F,{variant:"outlined",padding:"large",children:e.jsx("p",{style:{color:"var(--color-error)",textAlign:"center"},children:"Unable to load tracks. Please try refreshing the page."})})})}):e.jsx(E,{children:e.jsxs("div",{className:v["tracks-page"],children:[e.jsxs("div",{className:v["page-header"],children:[e.jsxs("div",{className:v["header-content"],children:[e.jsx(I,{level:"h1",gutterBottom:!0,children:"Learning Tracks"}),e.jsx("p",{className:v["header-description"],children:"Manage learning tracks and structured educational paths"})]}),e.jsx(y,{variant:"primary",onClick:()=>u(!0),children:"Create Track"})]}),e.jsxs(F,{variant:"outlined",padding:"medium",className:v["filters-card"],children:[e.jsxs("div",{className:v["filters-grid"],children:[e.jsx("div",{className:v["filter-group"],children:e.jsx(q,{type:"text",placeholder:"Search by name or description...",value:_,onChange:o=>i(o.target.value),fullWidth:!0,label:"Search"})}),e.jsx("div",{className:v["filter-group"],children:e.jsx(P,{value:h,onChange:o=>d(o),label:"Difficulty",fullWidth:!0,options:[{value:"all",label:"All Levels"},{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"}]})}),e.jsx("div",{className:v["filter-group"],children:e.jsx(P,{value:c,onChange:o=>w(o),label:"Status",fullWidth:!0,options:[{value:"all",label:"All Status"},{value:"draft",label:"Draft"},{value:"active",label:"Active"},{value:"archived",label:"Archived"}]})})]}),e.jsxs("div",{className:v["results-count"],children:["Showing ",T.length," of ",g?.length||0," tracks"]})]}),T.length===0?e.jsxs(F,{variant:"outlined",padding:"large",className:v["empty-state"],children:[e.jsx(I,{level:"h3",gutterBottom:!0,children:"No Tracks Found"}),e.jsx("p",{children:_||h!=="all"||c!=="all"?"Try adjusting your filters to see more results.":"Get started by creating your first learning track."}),!_&&h==="all"&&c==="all"&&e.jsx(y,{variant:"primary",onClick:()=>u(!0),style:{marginTop:"1rem"},children:"Create First Track"})]}):e.jsx("div",{className:v["tracks-grid"],children:T.map(o=>e.jsx(X,{track:o,onEdit:W,onDelete:Q},o.id))}),n&&(()=>{const o=typeof window<"u"&&window.__TEST_PROJECT_ID__,D=o||p||"default-project-id";return console.log("[TracksPage] Opening CreateTrackModal with projectId:",D),console.log("[TracksPage] - Test injected ID:",o),console.log("[TracksPage] - Selected ID:",p),e.jsx(ne,{isOpen:n,onClose:()=>u(!1),projectId:D,onSuccess:$})})(),j&&e.jsx(oe,{isOpen:!0,onClose:()=>s(null),onSuccess:G,track:j})]})})};export{je as TracksPage};
//# sourceMappingURL=TracksPage-CsjuNDp0.js.map
