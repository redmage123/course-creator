{"version":3,"file":"ManageStudents-DUllnFgW.js","sources":["../../src/pages/ManageStudents.tsx"],"sourcesContent":["/**\n * Manage Students Page\n *\n * BUSINESS CONTEXT:\n * Instructor feature for managing students across all training programs.\n * Instructors can view student enrollments, track progress, and manage assignments.\n *\n * TECHNICAL IMPLEMENTATION:\n * - Uses enrollment service to fetch and manage student data\n * - Displays enrollments with filtering and search capabilities\n * - Provides quick actions for common instructor tasks\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { DashboardLayout } from '../components/templates/DashboardLayout';\nimport { Card } from '../components/atoms/Card';\nimport { Button } from '../components/atoms/Button';\nimport { Heading } from '../components/atoms/Heading';\nimport { Input } from '../components/atoms/Input';\nimport { Select } from '../components/atoms/Select';\nimport { Spinner } from '../components/atoms/Spinner';\nimport { enrollmentService, Enrollment, EnrollmentStatus } from '../services/enrollmentService';\nimport { useAppSelector } from '../store/hooks';\n\n/**\n * Manage Students Page Component\n *\n * WHY THIS APPROACH:\n * - Centralized view of all student enrollments for instructor\n * - Quick filters for status, progress, and search\n * - Direct actions for enrollment management\n * - Responsive table design for various screen sizes\n */\nexport const ManageStudents: React.FC = () => {\n  const user = useAppSelector(state => state.user.profile);\n\n  const [enrollments, setEnrollments] = useState<Enrollment[]>([]);\n  const [filteredEnrollments, setFilteredEnrollments] = useState<Enrollment[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Filter states\n  const [searchQuery, setSearchQuery] = useState('');\n  const [statusFilter, setStatusFilter] = useState<EnrollmentStatus | 'all'>('all');\n  const [sortBy, setSortBy] = useState<'name' | 'progress' | 'date'>('name');\n\n  /**\n   * Load all enrollments for this instructor\n   */\n  useEffect(() => {\n    const loadEnrollments = async () => {\n      if (!user?.id) return;\n\n      try {\n        setIsLoading(true);\n        setError(null);\n\n        // Get enrollment summary for instructor\n        const summary = await enrollmentService.getInstructorEnrollmentSummary(user.id);\n\n        // Transform summary into enrollment list format\n        // Note: In production, you'd have a dedicated API endpoint that returns full enrollment details\n        const enrollmentData: Enrollment[] = [];\n        for (const studentSummary of summary) {\n          const studentEnrollments = await enrollmentService.getStudentEnrollments(studentSummary.student_id);\n          enrollmentData.push(...studentEnrollments);\n        }\n\n        setEnrollments(enrollmentData);\n        setFilteredEnrollments(enrollmentData);\n      } catch (err) {\n        console.error('Failed to load enrollments:', err);\n        setError('Failed to load student enrollments. Please try again.');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadEnrollments();\n  }, [user?.id]);\n\n  /**\n   * Apply filters and search\n   */\n  useEffect(() => {\n    let filtered = [...enrollments];\n\n    // Apply status filter\n    if (statusFilter !== 'all') {\n      filtered = filtered.filter(e => e.status === statusFilter);\n    }\n\n    // Apply search query (student name, email, or course title)\n    if (searchQuery.trim()) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(e =>\n        e.student_name?.toLowerCase().includes(query) ||\n        e.student_email?.toLowerCase().includes(query) ||\n        e.course_title?.toLowerCase().includes(query)\n      );\n    }\n\n    // Apply sorting\n    filtered.sort((a, b) => {\n      switch (sortBy) {\n        case 'name':\n          return (a.student_name || '').localeCompare(b.student_name || '');\n        case 'progress':\n          return b.progress_percentage - a.progress_percentage;\n        case 'date':\n          return new Date(b.enrollment_date).getTime() - new Date(a.enrollment_date).getTime();\n        default:\n          return 0;\n      }\n    });\n\n    setFilteredEnrollments(filtered);\n  }, [enrollments, searchQuery, statusFilter, sortBy]);\n\n  /**\n   * Handle enrollment status update\n   */\n  const handleStatusUpdate = async (enrollmentId: string, newStatus: EnrollmentStatus) => {\n    try {\n      await enrollmentService.updateEnrollmentStatus(enrollmentId, newStatus);\n\n      // Update local state\n      setEnrollments(prev =>\n        prev.map(e => e.id === enrollmentId ? { ...e, status: newStatus } : e)\n      );\n    } catch (err) {\n      console.error('Failed to update enrollment status:', err);\n      alert('Failed to update enrollment status. Please try again.');\n    }\n  };\n\n  /**\n   * Handle unenroll student\n   */\n  const handleUnenroll = async (enrollmentId: string, studentName: string) => {\n    if (!confirm(`Are you sure you want to unenroll ${studentName}?`)) {\n      return;\n    }\n\n    try {\n      await enrollmentService.unenrollStudent(enrollmentId);\n\n      // Remove from local state\n      setEnrollments(prev => prev.filter(e => e.id !== enrollmentId));\n    } catch (err) {\n      console.error('Failed to unenroll student:', err);\n      alert('Failed to unenroll student. Please try again.');\n    }\n  };\n\n  /**\n   * Format date for display\n   */\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  /**\n   * Get status badge color\n   */\n  const getStatusColor = (status: EnrollmentStatus) => {\n    switch (status) {\n      case 'active': return '#10b981';\n      case 'completed': return '#3b82f6';\n      case 'dropped': return '#ef4444';\n      case 'pending': return '#f59e0b';\n      default: return '#6b7280';\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <DashboardLayout>\n        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '400px' }}>\n          <Spinner size=\"large\" />\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  return (\n    <DashboardLayout>\n      <main style={{ padding: '2rem', maxWidth: '1400px', margin: '0 auto' }}>\n        {/* Header */}\n        <div style={{ marginBottom: '2rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', gap: '1rem' }}>\n          <div>\n            <Heading level=\"h1\" gutterBottom={true}>\n              Manage Students\n            </Heading>\n            <p style={{ color: '#666', fontSize: '0.95rem' }}>\n              View and manage student enrollments across all your training programs\n            </p>\n          </div>\n          <div style={{ display: 'flex', gap: '0.75rem' }}>\n            <Link to=\"/instructor/students/enroll\">\n              <Button variant=\"primary\">\n                Enroll Students\n              </Button>\n            </Link>\n            <Link to=\"/dashboard/instructor\">\n              <Button variant=\"secondary\">\n                Back to Dashboard\n              </Button>\n            </Link>\n          </div>\n        </div>\n\n        {/* Error Message */}\n        {error && (\n          <Card variant=\"outlined\" padding=\"medium\" style={{ marginBottom: '1.5rem', borderColor: '#ef4444', backgroundColor: '#fee2e2' }}>\n            <p style={{ color: '#dc2626', margin: 0 }}>{error}</p>\n          </Card>\n        )}\n\n        {/* Filters */}\n        <Card variant=\"outlined\" padding=\"large\" style={{ marginBottom: '1.5rem' }}>\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem' }}>\n            <div>\n              <Input\n                id=\"search\"\n                name=\"search\"\n                type=\"text\"\n                placeholder=\"Search by name, email, or course...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n              />\n            </div>\n            <div>\n              <Select\n                id=\"status\"\n                name=\"status\"\n                value={statusFilter}\n                onChange={(value) => setStatusFilter(value as EnrollmentStatus | 'all')}\n                options={[\n                  { value: 'all', label: 'All Statuses' },\n                  { value: 'active', label: 'Active' },\n                  { value: 'completed', label: 'Completed' },\n                  { value: 'pending', label: 'Pending' },\n                  { value: 'dropped', label: 'Dropped' }\n                ]}\n              />\n            </div>\n            <div>\n              <Select\n                id=\"sort\"\n                name=\"sort\"\n                value={sortBy}\n                onChange={(value) => setSortBy(value as 'name' | 'progress' | 'date')}\n                options={[\n                  { value: 'name', label: 'Sort by Name' },\n                  { value: 'progress', label: 'Sort by Progress' },\n                  { value: 'date', label: 'Sort by Date' }\n                ]}\n              />\n            </div>\n          </div>\n        </Card>\n\n        {/* Summary Stats */}\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem', marginBottom: '1.5rem' }}>\n          <Card variant=\"elevated\" padding=\"medium\">\n            <p style={{ margin: 0, fontSize: '0.85rem', color: '#666' }}>Total Enrollments</p>\n            <p style={{ margin: '0.5rem 0 0', fontSize: '2rem', fontWeight: 'bold', color: '#1f2937' }}>\n              {enrollments.length}\n            </p>\n          </Card>\n          <Card variant=\"elevated\" padding=\"medium\">\n            <p style={{ margin: 0, fontSize: '0.85rem', color: '#666' }}>Active Students</p>\n            <p style={{ margin: '0.5rem 0 0', fontSize: '2rem', fontWeight: 'bold', color: '#10b981' }}>\n              {enrollments.filter(e => e.status === 'active').length}\n            </p>\n          </Card>\n          <Card variant=\"elevated\" padding=\"medium\">\n            <p style={{ margin: 0, fontSize: '0.85rem', color: '#666' }}>Completed</p>\n            <p style={{ margin: '0.5rem 0 0', fontSize: '2rem', fontWeight: 'bold', color: '#3b82f6' }}>\n              {enrollments.filter(e => e.status === 'completed').length}\n            </p>\n          </Card>\n          <Card variant=\"elevated\" padding=\"medium\">\n            <p style={{ margin: 0, fontSize: '0.85rem', color: '#666' }}>Average Progress</p>\n            <p style={{ margin: '0.5rem 0 0', fontSize: '2rem', fontWeight: 'bold', color: '#f59e0b' }}>\n              {enrollments.length > 0\n                ? Math.round(enrollments.reduce((sum, e) => sum + e.progress_percentage, 0) / enrollments.length)\n                : 0}%\n            </p>\n          </Card>\n        </div>\n\n        {/* Enrollments Table */}\n        <Card variant=\"outlined\" padding=\"none\">\n          {filteredEnrollments.length === 0 ? (\n            <div style={{ padding: '3rem', textAlign: 'center' }}>\n              <p style={{ fontSize: '1.1rem', color: '#666', marginBottom: '1rem' }}>\n                {searchQuery || statusFilter !== 'all'\n                  ? 'No enrollments match your filters'\n                  : 'No student enrollments yet'}\n              </p>\n              <Link to=\"/instructor/students/enroll\">\n                <Button variant=\"primary\">\n                  Enroll Your First Students\n                </Button>\n              </Link>\n            </div>\n          ) : (\n            <div style={{ overflowX: 'auto' }}>\n              <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n                <thead>\n                  <tr style={{ backgroundColor: '#f9fafb', borderBottom: '2px solid #e5e7eb' }}>\n                    <th style={{ padding: '1rem', textAlign: 'left', fontWeight: 600, fontSize: '0.875rem' }}>Student</th>\n                    <th style={{ padding: '1rem', textAlign: 'left', fontWeight: 600, fontSize: '0.875rem' }}>Course</th>\n                    <th style={{ padding: '1rem', textAlign: 'left', fontWeight: 600, fontSize: '0.875rem' }}>Progress</th>\n                    <th style={{ padding: '1rem', textAlign: 'left', fontWeight: 600, fontSize: '0.875rem' }}>Status</th>\n                    <th style={{ padding: '1rem', textAlign: 'left', fontWeight: 600, fontSize: '0.875rem' }}>Enrolled</th>\n                    <th style={{ padding: '1rem', textAlign: 'left', fontWeight: 600, fontSize: '0.875rem' }}>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredEnrollments.map((enrollment) => (\n                    <tr key={enrollment.id} style={{ borderBottom: '1px solid #e5e7eb' }}>\n                      <td style={{ padding: '1rem' }}>\n                        <div>\n                          <div style={{ fontWeight: 500, marginBottom: '0.25rem' }}>\n                            {enrollment.student_name || 'Unknown Student'}\n                          </div>\n                          <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\n                            {enrollment.student_email}\n                          </div>\n                        </div>\n                      </td>\n                      <td style={{ padding: '1rem' }}>\n                        <Link to={`/courses/${enrollment.course_id}`} style={{ color: '#3b82f6', textDecoration: 'none' }}>\n                          {enrollment.course_title || 'Unknown Course'}\n                        </Link>\n                      </td>\n                      <td style={{ padding: '1rem' }}>\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                          <div style={{\n                            flex: 1,\n                            height: '8px',\n                            backgroundColor: '#e5e7eb',\n                            borderRadius: '4px',\n                            overflow: 'hidden'\n                          }}>\n                            <div style={{\n                              height: '100%',\n                              width: `${enrollment.progress_percentage}%`,\n                              backgroundColor: '#3b82f6',\n                              transition: 'width 0.3s ease'\n                            }} />\n                          </div>\n                          <span style={{ fontSize: '0.875rem', fontWeight: 500 }}>\n                            {enrollment.progress_percentage}%\n                          </span>\n                        </div>\n                      </td>\n                      <td style={{ padding: '1rem' }}>\n                        <span style={{\n                          display: 'inline-block',\n                          padding: '0.25rem 0.75rem',\n                          borderRadius: '9999px',\n                          fontSize: '0.75rem',\n                          fontWeight: 600,\n                          textTransform: 'capitalize',\n                          backgroundColor: `${getStatusColor(enrollment.status)}20`,\n                          color: getStatusColor(enrollment.status)\n                        }}>\n                          {enrollment.status}\n                        </span>\n                      </td>\n                      <td style={{ padding: '1rem', fontSize: '0.875rem', color: '#6b7280' }}>\n                        {formatDate(enrollment.enrollment_date)}\n                      </td>\n                      <td style={{ padding: '1rem' }}>\n                        <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>\n                          <Link to={`/instructor/students/${enrollment.student_id}/analytics`}>\n                            <Button variant=\"secondary\" size=\"small\">\n                              View\n                            </Button>\n                          </Link>\n                          <select\n                            value={enrollment.status}\n                            onChange={(e) => handleStatusUpdate(enrollment.id, e.target.value as EnrollmentStatus)}\n                            style={{\n                              padding: '0.375rem 0.5rem',\n                              fontSize: '0.875rem',\n                              borderRadius: '0.375rem',\n                              border: '1px solid #d1d5db',\n                              backgroundColor: 'white',\n                              cursor: 'pointer'\n                            }}\n                          >\n                            <option value=\"active\">Active</option>\n                            <option value=\"completed\">Completed</option>\n                            <option value=\"pending\">Pending</option>\n                            <option value=\"dropped\">Dropped</option>\n                          </select>\n                          <Button\n                            variant=\"danger\"\n                            size=\"small\"\n                            onClick={() => handleUnenroll(enrollment.id, enrollment.student_name || 'this student')}\n                          >\n                            Unenroll\n                          </Button>\n                        </div>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </Card>\n      </main>\n    </DashboardLayout>\n  );\n};\n"],"names":["ManageStudents","user","useAppSelector","state","enrollments","setEnrollments","useState","filteredEnrollments","setFilteredEnrollments","isLoading","setIsLoading","error","setError","searchQuery","setSearchQuery","statusFilter","setStatusFilter","sortBy","setSortBy","useEffect","summary","enrollmentService","enrollmentData","studentSummary","studentEnrollments","err","filtered","e","query","a","b","handleStatusUpdate","enrollmentId","newStatus","prev","handleUnenroll","studentName","formatDate","dateString","getStatusColor","status","jsx","DashboardLayout","Spinner","jsxs","Heading","Link","Button","Card","Input","Select","value","sum","enrollment"],"mappings":"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"}