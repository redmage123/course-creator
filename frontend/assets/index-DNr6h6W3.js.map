{"version":3,"file":"index-DNr6h6W3.js","sources":["../../src/features/dashboard/pages/SiteAdminDashboard/SiteAdminDashboard.tsx"],"sourcesContent":["/**\n * Site Admin Dashboard Page\n *\n * BUSINESS CONTEXT:\n * Main dashboard for site administrators showing platform-wide metrics,\n * organization management, user oversight, and system administration tools.\n *\n * TECHNICAL IMPLEMENTATION:\n * - Uses DashboardLayout for consistent structure\n * - Fetches real platform-wide analytics from backend API\n * - Displays platform-level metrics across all organizations\n * - Quick links to organization and user management\n * - System health monitoring and configuration\n * - Loading states and error handling with React Query\n */\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useQuery } from '@tanstack/react-query';\nimport { SEO } from '../../../../components/common/SEO';\nimport { DashboardLayout } from '../../../../components/templates/DashboardLayout';\nimport { Card } from '../../../../components/atoms/Card';\nimport { Button } from '../../../../components/atoms/Button';\nimport { Heading } from '../../../../components/atoms/Heading';\nimport { Spinner } from '../../../../components/atoms/Spinner';\nimport { useAuth } from '../../../../hooks/useAuth';\nimport { analyticsService } from '../../../../services';\nimport styles from './SiteAdminDashboard.module.css';\n\n/**\n * Site Admin Dashboard Component\n *\n * WHY THIS APPROACH:\n * - Platform-wide overview and management\n * - Multi-organization administration\n * - System configuration and monitoring\n * - Real-time platform analytics from backend API\n */\nexport const SiteAdminDashboard: React.FC = () => {\n  const { user } = useAuth();\n\n  // SEO for Site Admin Dashboard\n  const seoElement = (\n    <SEO\n      title=\"Site Admin Dashboard\"\n      description=\"Platform-wide administration dashboard. Manage all organizations, monitor system health, view platform analytics, and configure global settings.\"\n      keywords=\"site admin dashboard, platform administration, system management, platform analytics, global settings\"\n    />\n  );\n\n  /**\n   * Fetch platform-wide dashboard statistics\n   * Returns site admin-specific metrics (organizations, users, revenue, uptime)\n   */\n  const { data: stats, isLoading, error } = useQuery({\n    queryKey: ['dashboardStats', 'platform'],\n    queryFn: () => analyticsService.getDashboardStats(),\n    staleTime: 5 * 60 * 1000, // Cache for 5 minutes\n    retry: 2,\n  });\n\n  const displayName = user?.firstName\n    ? `${user.firstName} ${user.lastName || ''}`\n    : user?.username || 'Admin';\n\n  /**\n   * Loading State\n   * Show spinner while fetching platform analytics\n   */\n  if (isLoading) {\n    return (\n      <>\n        {seoElement}\n      <DashboardLayout>\n        <div className={styles['site-admin-dashboard']}>\n          <div className={styles['welcome-section']}>\n            <Heading level=\"h1\" gutterBottom>\n              Platform Administration\n            </Heading>\n          </div>\n          <div style={{ display: 'flex', justifyContent: 'center', padding: '4rem' }}>\n            <Spinner size=\"large\" />\n          </div>\n        </div>\n      </DashboardLayout>\n      </>\n    );\n  }\n\n  /**\n   * Error State\n   * Show error message if API call fails\n   */\n  if (error) {\n    return (\n      <>\n        {seoElement}\n        <DashboardLayout>\n          <div className={styles['site-admin-dashboard']}>\n          <div className={styles['welcome-section']}>\n            <Heading level=\"h1\" gutterBottom>\n              Platform Administration\n            </Heading>\n            <Card variant=\"outlined\" padding=\"large\">\n              <p style={{ color: 'var(--color-error)', textAlign: 'center' }}>\n                Unable to load dashboard data. Please try refreshing the page.\n              </p>\n            </Card>\n          </div>\n        </div>\n        </DashboardLayout>\n      </>\n    );\n  }\n\n  /**\n   * Format currency for display\n   */\n  const formatCurrency = (value?: number): string => {\n    if (!value) return '$0';\n    if (value >= 1000000) return `$${(value / 1000000).toFixed(1)}M`;\n    if (value >= 1000) return `$${(value / 1000).toFixed(0)}k`;\n    return `$${value}`;\n  };\n\n  /**\n   * Success State\n   * Display real platform analytics from API\n   */\n  return (\n    <>\n      {seoElement}\n      <DashboardLayout>\n        <div className={styles['site-admin-dashboard']}>\n          {/* Welcome Section */}\n          <div className={styles['welcome-section']}>\n          <Heading level=\"h1\" gutterBottom>\n            Platform Administration\n          </Heading>\n          <p className={styles['welcome-text']}>\n            Welcome, {displayName}! Manage the entire platform, organizations, users, and system configuration.\n          </p>\n        </div>\n\n        {/* Quick Stats - Real Data from API */}\n        <div className={styles['stats-grid']}>\n          <Card variant=\"elevated\" padding=\"medium\">\n            <div className={styles['stat-card']}>\n              <div className={styles['stat-value']}>{stats?.total_organizations || 0}</div>\n              <div className={styles['stat-label']}>Organizations</div>\n            </div>\n          </Card>\n\n          <Card variant=\"elevated\" padding=\"medium\">\n            <div className={styles['stat-card']}>\n              <div className={styles['stat-value']}>\n                {stats?.total_users?.toLocaleString() || '0'}\n              </div>\n              <div className={styles['stat-label']}>Total Users</div>\n            </div>\n          </Card>\n\n          <Card variant=\"elevated\" padding=\"medium\">\n            <div className={styles['stat-card']}>\n              <div className={styles['stat-value']}>\n                {formatCurrency(stats?.monthly_revenue)}\n              </div>\n              <div className={styles['stat-label']}>Monthly Revenue</div>\n            </div>\n          </Card>\n\n          <Card variant=\"elevated\" padding=\"medium\">\n            <div className={styles['stat-card']}>\n              <div className={styles['stat-value']}>\n                {stats?.system_uptime ? Math.round(stats.system_uptime) : 0}%\n              </div>\n              <div className={styles['stat-label']}>System Uptime</div>\n            </div>\n          </Card>\n        </div>\n\n        {/* Main Content */}\n        <div className={styles['content-grid']}>\n          {/* Organization Management */}\n          <Card variant=\"elevated\" padding=\"large\">\n            <Heading level=\"h2\" gutterBottom>\n              Organization Management\n            </Heading>\n            <p className={styles['section-description']}>\n              View, create, and manage all organizations on the platform\n            </p>\n            <div className={styles['action-buttons']}>\n              <Link to=\"/admin/organizations\">\n                <Button variant=\"primary\" size=\"medium\">\n                  Manage Organizations\n                </Button>\n              </Link>\n              <Link to=\"/admin/organizations/create\">\n                <Button variant=\"secondary\" size=\"medium\">\n                  Create Organization\n                </Button>\n              </Link>\n            </div>\n          </Card>\n\n          {/* User Management */}\n          <Card variant=\"elevated\" padding=\"large\">\n            <Heading level=\"h2\" gutterBottom>\n              User Management\n            </Heading>\n            <p className={styles['section-description']}>\n              Manage all users across the platform and their permissions\n            </p>\n            <div className={styles['action-buttons']}>\n              <Link to=\"/admin/users\">\n                <Button variant=\"primary\" size=\"medium\">\n                  Manage Users\n                </Button>\n              </Link>\n            </div>\n          </Card>\n\n          {/* Platform Analytics */}\n          <Card variant=\"elevated\" padding=\"large\">\n            <Heading level=\"h2\" gutterBottom>\n              Platform Analytics\n            </Heading>\n            <p className={styles['section-description']}>\n              View platform-wide metrics, usage statistics, and performance data\n            </p>\n            <div className={styles['action-buttons']}>\n              <Link to=\"/admin/analytics\">\n                <Button variant=\"primary\" size=\"medium\">\n                  View Analytics\n                </Button>\n              </Link>\n            </div>\n          </Card>\n\n          {/* System Settings */}\n          <Card variant=\"elevated\" padding=\"large\">\n            <Heading level=\"h2\" gutterBottom>\n              System Configuration\n            </Heading>\n            <p className={styles['section-description']}>\n              Configure platform settings, features, and system-wide preferences\n            </p>\n            <div className={styles['action-buttons']}>\n              <Link to=\"/admin/settings\">\n                <Button variant=\"secondary\" size=\"medium\">\n                  System Settings\n                </Button>\n              </Link>\n            </div>\n          </Card>\n        </div>\n      </div>\n      </DashboardLayout>\n    </>\n  );\n};\n"],"names":["SiteAdminDashboard","user","useAuth","seoElement","jsx","SEO","stats","isLoading","error","useQuery","analyticsService","displayName","jsxs","Fragment","DashboardLayout","styles","Heading","Spinner","Card","formatCurrency","value","Link","Button"],"mappings":"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"}