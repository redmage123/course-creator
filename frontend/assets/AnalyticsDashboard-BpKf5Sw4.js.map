{"version":3,"file":"AnalyticsDashboard-BpKf5Sw4.js","sources":["../../src/features/analytics/services/analyticsService.ts","../../src/features/analytics/hooks/useAnalytics.ts","../../src/features/analytics/components/EngagementChart.tsx","../../src/features/analytics/components/ProgressChart.tsx","../../src/features/analytics/components/QuizPerformanceChart.tsx","../../src/features/analytics/components/LabProficiencyChart.tsx","../../src/features/analytics/components/RiskAssessmentCard.tsx","../../src/features/analytics/components/StatCard.tsx","../../src/features/analytics/AnalyticsDashboard.tsx"],"sourcesContent":["/**\n * Analytics Service API Client\n *\n * Centralized API client for analytics operations.\n * Communicates with analytics service (port 8000).\n *\n * BUSINESS CONTEXT:\n * Provides type-safe interface to analytics backend, handling\n * data fetching for engagement, progress, quiz performance, and lab proficiency.\n *\n * @module features/analytics/services/analyticsService\n */\n\nimport type { EngagementData, ProgressData, QuizPerformanceData, LabProficiencyData, CourseAnalyticsData } from '../hooks/useAnalytics';\nimport type { RiskAssessment } from '../components/RiskAssessmentCard';\n\nconst ANALYTICS_API_BASE = 'https://176.9.99.103:8000/api/v1';\n\n/**\n * Custom error class for analytics service errors\n */\nexport class AnalyticsServiceError extends Error {\n  constructor(\n    message: string,\n    public statusCode?: number,\n    public detail?: string\n  ) {\n    super(message);\n    this.name = 'AnalyticsServiceError';\n  }\n}\n\n/**\n * Handle API response and errors\n */\nasync function handleResponse<T>(response: Response): Promise<T> {\n  if (!response.ok) {\n    const errorData = await response.json().catch(() => ({\n      detail: 'An error occurred'\n    }));\n\n    throw new AnalyticsServiceError(\n      errorData.detail || `Request failed with status ${response.status}`,\n      response.status,\n      errorData.detail\n    );\n  }\n\n  return response.json();\n}\n\n/**\n * Analytics Service\n */\nexport const analyticsService = {\n  /**\n   * Get student engagement data\n   */\n  async getEngagement(\n    studentId: string,\n    courseId: string,\n    timeRange: 'week' | 'month' | 'quarter' | 'year'\n  ): Promise<EngagementData> {\n    const response = await fetch(\n      `${ANALYTICS_API_BASE}/students/${studentId}/courses/${courseId}/engagement?time_range=${timeRange}`,\n      {\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' }\n      }\n    );\n    return handleResponse(response);\n  },\n\n  /**\n   * Get student progress data\n   */\n  async getProgress(\n    studentId: string,\n    courseId: string\n  ): Promise<ProgressData> {\n    const response = await fetch(\n      `${ANALYTICS_API_BASE}/students/${studentId}/courses/${courseId}/progress-summary`,\n      {\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' }\n      }\n    );\n    return handleResponse(response);\n  },\n\n  /**\n   * Get quiz performance data\n   */\n  async getQuizPerformance(\n    studentId: string,\n    courseId: string\n  ): Promise<QuizPerformanceData> {\n    const response = await fetch(\n      `${ANALYTICS_API_BASE}/students/${studentId}/courses/${courseId}/quiz-performance`,\n      {\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' }\n      }\n    );\n    return handleResponse(response);\n  },\n\n  /**\n   * Get lab proficiency data\n   */\n  async getLabProficiency(\n    studentId: string,\n    courseId: string\n  ): Promise<LabProficiencyData> {\n    const response = await fetch(\n      `${ANALYTICS_API_BASE}/students/${studentId}/courses/${courseId}/lab-proficiency`,\n      {\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' }\n      }\n    );\n    return handleResponse(response);\n  },\n\n  /**\n   * Get risk assessment for student (instructor view)\n   */\n  async getRiskAssessment(\n    studentId: string,\n    courseId: string\n  ): Promise<RiskAssessment> {\n    const response = await fetch(\n      `${ANALYTICS_API_BASE}/students/${studentId}/courses/${courseId}/risk-assessment`,\n      {\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' }\n      }\n    );\n    return handleResponse(response);\n  },\n\n  /**\n   * Get course-level analytics\n   */\n  async getCourseAnalytics(\n    courseId: string,\n    timeRange: 'week' | 'month' | 'quarter' | 'year'\n  ): Promise<CourseAnalyticsData> {\n    const response = await fetch(\n      `${ANALYTICS_API_BASE}/courses/${courseId}/analytics?time_range=${timeRange}`,\n      {\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' }\n      }\n    );\n    return handleResponse(response);\n  },\n\n  /**\n   * Record student activity\n   */\n  async recordActivity(\n    studentId: string,\n    courseId: string,\n    activityType: string,\n    metadata?: Record<string, any>\n  ): Promise<void> {\n    const response = await fetch(\n      `${ANALYTICS_API_BASE}/activities`,\n      {\n        method: 'POST',\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          student_id: studentId,\n          course_id: courseId,\n          activity_type: activityType,\n          timestamp: new Date().toISOString(),\n          metadata\n        })\n      }\n    );\n    return handleResponse(response);\n  },\n\n  /**\n   * Record quiz performance\n   */\n  async recordQuizPerformance(\n    studentId: string,\n    courseId: string,\n    quizId: string,\n    score: number,\n    passed: boolean\n  ): Promise<void> {\n    const response = await fetch(\n      `${ANALYTICS_API_BASE}/quiz-performance`,\n      {\n        method: 'POST',\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          student_id: studentId,\n          course_id: courseId,\n          quiz_id: quizId,\n          score,\n          passed,\n          timestamp: new Date().toISOString()\n        })\n      }\n    );\n    return handleResponse(response);\n  },\n\n  /**\n   * Record lab usage\n   */\n  async recordLabUsage(\n    studentId: string,\n    courseId: string,\n    labId: string,\n    duration: number,\n    completed: boolean\n  ): Promise<void> {\n    const response = await fetch(\n      `${ANALYTICS_API_BASE}/lab-usage`,\n      {\n        method: 'POST',\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          student_id: studentId,\n          course_id: courseId,\n          lab_id: labId,\n          duration_seconds: duration,\n          completed,\n          timestamp: new Date().toISOString()\n        })\n      }\n    );\n    return handleResponse(response);\n  },\n\n  /**\n   * Update progress\n   */\n  async updateProgress(\n    studentId: string,\n    courseId: string,\n    completedItems: number,\n    totalItems: number\n  ): Promise<void> {\n    const response = await fetch(\n      `${ANALYTICS_API_BASE}/progress`,\n      {\n        method: 'POST',\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          student_id: studentId,\n          course_id: courseId,\n          completed_items: completedItems,\n          total_items: totalItems,\n          completion_percentage: (completedItems / totalItems) * 100,\n          timestamp: new Date().toISOString()\n        })\n      }\n    );\n    return handleResponse(response);\n  }\n};\n\nexport default analyticsService;\n","/**\n * useAnalytics Hook\n *\n * Custom hook for fetching and managing analytics data.\n * Handles different view types (student, course, instructor) and time ranges.\n *\n * BUSINESS CONTEXT:\n * Centralizes analytics data fetching logic and provides reactive state\n * management for dashboard components.\n *\n * @module features/analytics/hooks/useAnalytics\n */\n\nimport { useState, useEffect } from 'react';\nimport { analyticsService } from '../services/analyticsService';\nimport type { AnalyticsViewType } from '../AnalyticsDashboard';\nimport type { EngagementDataPoint } from '../components/EngagementChart';\nimport type { ProgressDataPoint } from '../components/ProgressChart';\nimport type { QuizPerformanceDataPoint } from '../components/QuizPerformanceChart';\nimport type { SkillProficiency } from '../components/LabProficiencyChart';\nimport type { RiskAssessment } from '../components/RiskAssessmentCard';\n\nexport interface EngagementData {\n  score: number;\n  trend?: {\n    value: number;\n    direction: 'up' | 'down';\n  };\n  history: EngagementDataPoint[];\n}\n\nexport interface ProgressData {\n  completion_percentage: number;\n  completed_items: number;\n  total_items: number;\n  timeline: ProgressDataPoint[];\n}\n\nexport interface QuizPerformanceData {\n  average_score: number;\n  quizzes_taken: number;\n  quizzes_passed: number;\n  history: QuizPerformanceDataPoint[];\n}\n\nexport interface LabProficiencyData {\n  proficiency_score: number;\n  labs_completed: number;\n  skills: SkillProficiency[];\n}\n\nexport interface CourseAnalyticsData {\n  total_students: number;\n  active_students: number;\n  completion_rate: number;\n  average_grade: number;\n}\n\nexport interface UseAnalyticsResult {\n  engagement: EngagementData | null;\n  progress: ProgressData | null;\n  quizPerformance: QuizPerformanceData | null;\n  labProficiency: LabProficiencyData | null;\n  riskAssessment: RiskAssessment | null;\n  courseAnalytics: CourseAnalyticsData | null;\n  isLoading: boolean;\n  error: string | null;\n  refetch: () => Promise<void>;\n}\n\n/**\n * useAnalytics Hook\n *\n * WHY THIS APPROACH:\n * - Encapsulates analytics data fetching logic\n * - Manages loading and error states\n * - Provides refetch capability for manual updates\n * - Automatically refetches when parameters change\n * - Type-safe return values for dashboard components\n */\nexport const useAnalytics = (\n  viewType: AnalyticsViewType,\n  studentId: string | undefined,\n  courseId: string | undefined,\n  timeRange: 'week' | 'month' | 'quarter' | 'year'\n): UseAnalyticsResult => {\n  const [engagement, setEngagement] = useState<EngagementData | null>(null);\n  const [progress, setProgress] = useState<ProgressData | null>(null);\n  const [quizPerformance, setQuizPerformance] = useState<QuizPerformanceData | null>(null);\n  const [labProficiency, setLabProficiency] = useState<LabProficiencyData | null>(null);\n  const [riskAssessment, setRiskAssessment] = useState<RiskAssessment | null>(null);\n  const [courseAnalytics, setCourseAnalytics] = useState<CourseAnalyticsData | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchAnalytics = async () => {\n    try {\n      setIsLoading(true);\n      setError(null);\n\n      // Fetch based on view type\n      switch (viewType) {\n        case 'student':\n          if (!studentId || !courseId) {\n            throw new Error('Student ID and Course ID required for student view');\n          }\n\n          // Fetch student-specific analytics\n          const [\n            engagementData,\n            progressData,\n            quizData,\n            labData,\n          ] = await Promise.all([\n            analyticsService.getEngagement(studentId, courseId, timeRange),\n            analyticsService.getProgress(studentId, courseId),\n            analyticsService.getQuizPerformance(studentId, courseId),\n            analyticsService.getLabProficiency(studentId, courseId)\n          ]);\n\n          setEngagement(engagementData);\n          setProgress(progressData);\n          setQuizPerformance(quizData);\n          setLabProficiency(labData);\n          break;\n\n        case 'instructor':\n          if (!studentId || !courseId) {\n            throw new Error('Student ID and Course ID required for instructor view');\n          }\n\n          // Fetch instructor view (same as student but with risk assessment)\n          const [\n            instrEngagement,\n            instrProgress,\n            instrQuiz,\n            instrLab,\n            riskData\n          ] = await Promise.all([\n            analyticsService.getEngagement(studentId, courseId, timeRange),\n            analyticsService.getProgress(studentId, courseId),\n            analyticsService.getQuizPerformance(studentId, courseId),\n            analyticsService.getLabProficiency(studentId, courseId),\n            analyticsService.getRiskAssessment(studentId, courseId)\n          ]);\n\n          setEngagement(instrEngagement);\n          setProgress(instrProgress);\n          setQuizPerformance(instrQuiz);\n          setLabProficiency(instrLab);\n          setRiskAssessment(riskData);\n          break;\n\n        case 'course':\n          if (!courseId) {\n            throw new Error('Course ID required for course view');\n          }\n\n          // Fetch course-level analytics\n          const courseData = await analyticsService.getCourseAnalytics(courseId, timeRange);\n          setCourseAnalytics(courseData);\n          break;\n      }\n    } catch (err) {\n      const message = err instanceof Error ? err.message : 'Failed to load analytics';\n      setError(message);\n      console.error('Analytics fetch error:', err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Fetch on mount and when parameters change\n  useEffect(() => {\n    fetchAnalytics();\n  }, [viewType, studentId, courseId, timeRange]);\n\n  return {\n    engagement,\n    progress,\n    quizPerformance,\n    labProficiency,\n    riskAssessment,\n    courseAnalytics,\n    isLoading,\n    error,\n    refetch: fetchAnalytics\n  };\n};\n\nexport default useAnalytics;\n","/**\n * EngagementChart Component\n *\n * Displays student engagement metrics over time using Chart.js.\n * Shows trends in activity, participation, and learning commitment.\n *\n * BUSINESS CONTEXT:\n * Tracks student engagement patterns to identify declining participation\n * and enable early intervention.\n *\n * @module features/analytics/components/EngagementChart\n */\n\nimport React from 'react';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  Filler\n} from 'chart.js';\nimport { Line } from 'react-chartjs-2';\nimport styles from './EngagementChart.module.css';\n\n// Register Chart.js components\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  Filler\n);\n\nexport interface EngagementDataPoint {\n  date: string;\n  score: number;\n  label?: string;\n}\n\nexport interface EngagementChartProps {\n  data: EngagementDataPoint[];\n}\n\n/**\n * EngagementChart Component\n *\n * WHY THIS APPROACH:\n * - Chart.js provides professional, interactive charts\n * - Responsive and accessible\n * - Color-coded thresholds (green > 70, yellow 50-70, red < 50)\n * - Built-in tooltips and animations\n */\nexport const EngagementChart: React.FC<EngagementChartProps> = ({ data }) => {\n  if (!data || data.length === 0) {\n    return (\n      <div className={styles.emptyState}>\n        <p>No engagement data available</p>\n      </div>\n    );\n  }\n\n  // Format dates for labels\n  const labels = data.map((point) => {\n    const date = new Date(point.date);\n    return `${date.getMonth() + 1}/${date.getDate()}`;\n  });\n\n  // Prepare chart data\n  const chartData = {\n    labels,\n    datasets: [\n      {\n        label: 'Engagement Score',\n        data: data.map((point) => point.score),\n        borderColor: '#2196f3',\n        backgroundColor: 'rgba(33, 150, 243, 0.1)',\n        pointBackgroundColor: data.map((point) => {\n          if (point.score >= 70) return '#4caf50';\n          if (point.score >= 50) return '#ff9800';\n          return '#f44336';\n        }),\n        pointBorderColor: '#fff',\n        pointBorderWidth: 2,\n        pointRadius: 6,\n        pointHoverRadius: 8,\n        tension: 0.3,\n        fill: true\n      }\n    ]\n  };\n\n  // Chart options\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        display: false\n      },\n      tooltip: {\n        callbacks: {\n          label: (context: any) => {\n            return `Engagement: ${context.parsed.y}%`;\n          }\n        }\n      }\n    },\n    scales: {\n      y: {\n        min: 0,\n        max: 100,\n        ticks: {\n          callback: (value: any) => `${value}%`\n        },\n        grid: {\n          color: 'rgba(0, 0, 0, 0.05)'\n        }\n      },\n      x: {\n        grid: {\n          display: false\n        }\n      }\n    }\n  };\n\n  return (\n    <div className={styles.chartContainer}>\n      <div className={styles.chartWrapper}>\n        <Line data={chartData} options={options} />\n      </div>\n\n      {/* Legend */}\n      <div className={styles.legend}>\n        <div className={styles.legendItem}>\n          <span className={styles.legendDot} style={{ backgroundColor: '#4caf50' }}></span>\n          <span>High (70+)</span>\n        </div>\n        <div className={styles.legendItem}>\n          <span className={styles.legendDot} style={{ backgroundColor: '#ff9800' }}></span>\n          <span>Medium (50-69)</span>\n        </div>\n        <div className={styles.legendItem}>\n          <span className={styles.legendDot} style={{ backgroundColor: '#f44336' }}></span>\n          <span>Low (&lt;50)</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EngagementChart;\n","/**\n * ProgressChart Component\n *\n * Displays course progress over time using Chart.js bar chart.\n * Shows completion milestones and learning trajectory.\n *\n * BUSINESS CONTEXT:\n * Visualizes student progress through course content to track\n * completion rates and identify pacing issues.\n *\n * @module features/analytics/components/ProgressChart\n */\n\nimport React from 'react';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend\n} from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\nimport styles from './ProgressChart.module.css';\n\n// Register Chart.js components\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nexport interface ProgressDataPoint {\n  date: string;\n  completion_percentage: number;\n  items_completed: number;\n  label?: string;\n}\n\nexport interface ProgressChartProps {\n  data: ProgressDataPoint[];\n}\n\n/**\n * ProgressChart Component\n *\n * WHY THIS APPROACH:\n * - Bar chart clearly shows progress milestones\n * - Gradient fill indicates steady progression\n * - Tooltips show both percentage and item counts\n * - Responsive and accessible with Chart.js\n */\nexport const ProgressChart: React.FC<ProgressChartProps> = ({ data }) => {\n  if (!data || data.length === 0) {\n    return (\n      <div className={styles.emptyState}>\n        <p>No progress data available</p>\n      </div>\n    );\n  }\n\n  // Format dates for labels\n  const labels = data.map((point) => {\n    const date = new Date(point.date);\n    return `${date.getMonth() + 1}/${date.getDate()}`;\n  });\n\n  // Prepare chart data\n  const chartData = {\n    labels,\n    datasets: [\n      {\n        label: 'Course Progress',\n        data: data.map((point) => point.completion_percentage),\n        backgroundColor: data.map((point) => {\n          const percentage = point.completion_percentage;\n          if (percentage === 100) return '#4caf50';\n          if (percentage >= 75) return '#8bc34a';\n          if (percentage >= 50) return '#ff9800';\n          if (percentage >= 25) return '#ff5722';\n          return '#f44336';\n        }),\n        borderColor: '#2196f3',\n        borderWidth: 0,\n        borderRadius: 4,\n        barThickness: 40\n      }\n    ]\n  };\n\n  // Chart options\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        display: false\n      },\n      tooltip: {\n        callbacks: {\n          label: (context: any) => {\n            const dataPoint = data[context.dataIndex];\n            return [\n              `Progress: ${context.parsed.y}%`,\n              `Items Completed: ${dataPoint.items_completed}`\n            ];\n          }\n        }\n      }\n    },\n    scales: {\n      y: {\n        min: 0,\n        max: 100,\n        ticks: {\n          callback: (value: any) => `${value}%`\n        },\n        grid: {\n          color: 'rgba(0, 0, 0, 0.05)'\n        }\n      },\n      x: {\n        grid: {\n          display: false\n        }\n      }\n    }\n  };\n\n  return (\n    <div className={styles.chartContainer}>\n      <div className={styles.chartWrapper}>\n        <Bar data={chartData} options={options} />\n      </div>\n\n      {/* Legend */}\n      <div className={styles.legend}>\n        <div className={styles.legendItem}>\n          <span className={styles.legendDot} style={{ backgroundColor: '#4caf50' }}></span>\n          <span>Complete (100%)</span>\n        </div>\n        <div className={styles.legendItem}>\n          <span className={styles.legendDot} style={{ backgroundColor: '#8bc34a' }}></span>\n          <span>High (75-99%)</span>\n        </div>\n        <div className={styles.legendItem}>\n          <span className={styles.legendDot} style={{ backgroundColor: '#ff9800' }}></span>\n          <span>Medium (50-74%)</span>\n        </div>\n        <div className={styles.legendItem}>\n          <span className={styles.legendDot} style={{ backgroundColor: '#f44336' }}></span>\n          <span>Low (&lt;50%)</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProgressChart;\n","/**\n * QuizPerformanceChart Component\n *\n * Displays quiz performance data using Chart.js doughnut chart.\n * Shows pass/fail ratio and average score trends.\n *\n * BUSINESS CONTEXT:\n * Visualizes assessment performance to identify knowledge gaps\n * and areas requiring additional instruction or practice.\n *\n * @module features/analytics/components/QuizPerformanceChart\n */\n\nimport React from 'react';\nimport {\n  Chart as ChartJS,\n  ArcElement,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend\n} from 'chart.js';\nimport { Doughnut } from 'react-chartjs-2';\nimport styles from './QuizPerformanceChart.module.css';\n\n// Register Chart.js components\nChartJS.register(\n  ArcElement,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nexport interface QuizPerformanceDataPoint {\n  quiz_name: string;\n  score: number;\n  passed: boolean;\n  date: string;\n}\n\nexport interface QuizPerformanceChartProps {\n  data: QuizPerformanceDataPoint[];\n}\n\n/**\n * QuizPerformanceChart Component\n *\n * WHY THIS APPROACH:\n * - Doughnut chart provides clear pass/fail visualization\n * - Shows overall quiz performance at a glance\n * - Color-coded for success (green) and failure (red)\n * - Displays average score in center\n */\nexport const QuizPerformanceChart: React.FC<QuizPerformanceChartProps> = ({ data }) => {\n  if (!data || data.length === 0) {\n    return (\n      <div className={styles.emptyState}>\n        <p>No quiz performance data available</p>\n      </div>\n    );\n  }\n\n  // Calculate pass/fail counts\n  const passedCount = data.filter((point) => point.passed).length;\n  const failedCount = data.length - passedCount;\n  const averageScore = Math.round(\n    data.reduce((sum, point) => sum + point.score, 0) / data.length\n  );\n\n  // Prepare chart data\n  const chartData = {\n    labels: ['Passed', 'Failed'],\n    datasets: [\n      {\n        label: 'Quiz Results',\n        data: [passedCount, failedCount],\n        backgroundColor: ['#4caf50', '#f44336'],\n        borderColor: ['#fff', '#fff'],\n        borderWidth: 3,\n        hoverOffset: 10\n      }\n    ]\n  };\n\n  // Chart options\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    cutout: '70%',\n    plugins: {\n      legend: {\n        display: true,\n        position: 'bottom' as const,\n        labels: {\n          padding: 20,\n          font: {\n            size: 13\n          }\n        }\n      },\n      tooltip: {\n        callbacks: {\n          label: (context: any) => {\n            const label = context.label || '';\n            const value = context.parsed || 0;\n            const percentage = ((value / data.length) * 100).toFixed(1);\n            return `${label}: ${value} (${percentage}%)`;\n          }\n        }\n      }\n    }\n  };\n\n  return (\n    <div className={styles.chartContainer}>\n      <div className={styles.chartWrapper}>\n        <Doughnut data={chartData} options={options} />\n        <div className={styles.centerText}>\n          <div className={styles.centerValue}>{averageScore}%</div>\n          <div className={styles.centerLabel}>Avg Score</div>\n        </div>\n      </div>\n\n      {/* Stats */}\n      <div className={styles.stats}>\n        <div className={styles.statItem}>\n          <span className={styles.statValue}>{passedCount}</span>\n          <span className={styles.statLabel}>Passed</span>\n        </div>\n        <div className={styles.statItem}>\n          <span className={styles.statValue}>{failedCount}</span>\n          <span className={styles.statLabel}>Failed</span>\n        </div>\n        <div className={styles.statItem}>\n          <span className={styles.statValue}>{data.length}</span>\n          <span className={styles.statLabel}>Total</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default QuizPerformanceChart;\n","/**\n * LabProficiencyChart Component\n *\n * Displays lab proficiency skills using Chart.js radar chart.\n * Shows competency across different technical skills and concepts.\n *\n * BUSINESS CONTEXT:\n * Visualizes hands-on technical proficiency to identify strengths\n * and areas needing more practice or support.\n *\n * @module features/analytics/components/LabProficiencyChart\n */\n\nimport React from 'react';\nimport {\n  Chart as ChartJS,\n  RadialLinearScale,\n  PointElement,\n  LineElement,\n  Filler,\n  Tooltip,\n  Legend\n} from 'chart.js';\nimport { Radar } from 'react-chartjs-2';\nimport styles from './LabProficiencyChart.module.css';\n\n// Register Chart.js components\nChartJS.register(\n  RadialLinearScale,\n  PointElement,\n  LineElement,\n  Filler,\n  Tooltip,\n  Legend\n);\n\nexport interface SkillProficiency {\n  skill_name: string;\n  proficiency_level: number;\n  exercises_completed: number;\n}\n\nexport interface LabProficiencyChartProps {\n  data: SkillProficiency[];\n}\n\n/**\n * LabProficiencyChart Component\n *\n * WHY THIS APPROACH:\n * - Radar chart ideal for multi-dimensional skill assessment\n * - Shows relative strengths and weaknesses at a glance\n * - Color-coded proficiency levels\n * - Interactive tooltips show detailed exercise counts\n */\nexport const LabProficiencyChart: React.FC<LabProficiencyChartProps> = ({ data }) => {\n  if (!data || data.length === 0) {\n    return (\n      <div className={styles.emptyState}>\n        <p>No lab proficiency data available</p>\n      </div>\n    );\n  }\n\n  // Prepare chart data\n  const chartData = {\n    labels: data.map((skill) => skill.skill_name),\n    datasets: [\n      {\n        label: 'Proficiency Level',\n        data: data.map((skill) => skill.proficiency_level),\n        backgroundColor: 'rgba(156, 39, 176, 0.2)',\n        borderColor: '#9c27b0',\n        borderWidth: 2,\n        pointBackgroundColor: data.map((skill) => {\n          if (skill.proficiency_level >= 80) return '#4caf50';\n          if (skill.proficiency_level >= 60) return '#ff9800';\n          return '#f44336';\n        }),\n        pointBorderColor: '#fff',\n        pointBorderWidth: 2,\n        pointRadius: 6,\n        pointHoverRadius: 8\n      }\n    ]\n  };\n\n  // Chart options\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    scales: {\n      r: {\n        min: 0,\n        max: 100,\n        ticks: {\n          stepSize: 20,\n          callback: (value: any) => `${value}%`\n        },\n        grid: {\n          color: 'rgba(0, 0, 0, 0.1)'\n        },\n        pointLabels: {\n          font: {\n            size: 12\n          }\n        }\n      }\n    },\n    plugins: {\n      legend: {\n        display: false\n      },\n      tooltip: {\n        callbacks: {\n          label: (context: any) => {\n            const skill = data[context.dataIndex];\n            return [\n              `Proficiency: ${context.parsed.r}%`,\n              `Exercises: ${skill.exercises_completed}`\n            ];\n          }\n        }\n      }\n    }\n  };\n\n  return (\n    <div className={styles.chartContainer}>\n      <div className={styles.chartWrapper}>\n        <Radar data={chartData} options={options} />\n      </div>\n\n      {/* Legend */}\n      <div className={styles.legend}>\n        <div className={styles.legendItem}>\n          <span className={styles.legendDot} style={{ backgroundColor: '#4caf50' }}></span>\n          <span>Advanced (80+)</span>\n        </div>\n        <div className={styles.legendItem}>\n          <span className={styles.legendDot} style={{ backgroundColor: '#ff9800' }}></span>\n          <span>Intermediate (60-79)</span>\n        </div>\n        <div className={styles.legendItem}>\n          <span className={styles.legendDot} style={{ backgroundColor: '#f44336' }}></span>\n          <span>Beginner (&lt;60)</span>\n        </div>\n      </div>\n\n      {/* Skill breakdown */}\n      <div className={styles.skillsList}>\n        {data.map((skill, index) => (\n          <div key={index} className={styles.skillItem}>\n            <div className={styles.skillHeader}>\n              <span className={styles.skillName}>{skill.skill_name}</span>\n              <span className={styles.skillValue}>{skill.proficiency_level}%</span>\n            </div>\n            <div className={styles.progressBar}>\n              <div\n                className={styles.progressFill}\n                style={{\n                  width: `${skill.proficiency_level}%`,\n                  backgroundColor:\n                    skill.proficiency_level >= 80\n                      ? '#4caf50'\n                      : skill.proficiency_level >= 60\n                      ? '#ff9800'\n                      : '#f44336'\n                }}\n              />\n            </div>\n            <div className={styles.skillMeta}>\n              {skill.exercises_completed} exercises completed\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default LabProficiencyChart;\n","/**\n * RiskAssessmentCard Component\n *\n * Displays student risk assessment indicators for instructors.\n * Shows risk level, contributing factors, and recommended interventions.\n *\n * BUSINESS CONTEXT:\n * Helps instructors identify at-risk students early and take proactive measures\n * to improve student success rates.\n *\n * @module features/analytics/components/RiskAssessmentCard\n */\n\nimport React from 'react';\nimport styles from './RiskAssessmentCard.module.css';\n\nexport interface RiskFactor {\n  factor: string;\n  severity: 'low' | 'medium' | 'high';\n  description: string;\n}\n\nexport interface RiskAssessment {\n  risk_level: 'low' | 'medium' | 'high' | 'critical';\n  risk_score: number;\n  factors: RiskFactor[];\n  recommendations: string[];\n  last_updated: string;\n}\n\nexport interface RiskAssessmentCardProps {\n  riskData: RiskAssessment;\n}\n\n/**\n * RiskAssessmentCard Component\n *\n * WHY THIS APPROACH:\n * - Color-coded risk levels for quick visual assessment\n * - Shows specific risk factors to identify root causes\n * - Provides actionable recommendations for intervention\n * - Severity indicators help prioritize which students need attention\n */\nexport const RiskAssessmentCard: React.FC<RiskAssessmentCardProps> = ({ riskData }) => {\n  const getRiskLevelColor = (): string => {\n    switch (riskData.risk_level) {\n      case 'low':\n        return '#4caf50';\n      case 'medium':\n        return '#ff9800';\n      case 'high':\n        return '#f44336';\n      case 'critical':\n        return '#d32f2f';\n      default:\n        return '#999';\n    }\n  };\n\n  const getRiskLevelLabel = (): string => {\n    return riskData.risk_level.charAt(0).toUpperCase() + riskData.risk_level.slice(1);\n  };\n\n  const getSeverityIcon = (severity: string): string => {\n    switch (severity) {\n      case 'low':\n        return '‚óã';\n      case 'medium':\n        return '‚óê';\n      case 'high':\n        return '‚óè';\n      default:\n        return '‚óã';\n    }\n  };\n\n  return (\n    <div className={styles.riskCard}>\n      {/* Header */}\n      <div className={styles.header}>\n        <div className={styles.headerLeft}>\n          <h2 className={styles.title}>Risk Assessment</h2>\n          <p className={styles.lastUpdated}>\n            Last updated: {new Date(riskData.last_updated).toLocaleDateString()}\n          </p>\n        </div>\n        <div\n          className={styles.riskBadge}\n          style={{ backgroundColor: getRiskLevelColor() }}\n        >\n          <span className={styles.riskLevel}>{getRiskLevelLabel()}</span>\n          <span className={styles.riskScore}>{riskData.risk_score}/100</span>\n        </div>\n      </div>\n\n      {/* Risk Factors */}\n      {riskData.factors && riskData.factors.length > 0 && (\n        <div className={styles.section}>\n          <h3 className={styles.sectionTitle}>Contributing Factors</h3>\n          <div className={styles.factorsList}>\n            {riskData.factors.map((factor, index) => (\n              <div key={index} className={styles.factorItem}>\n                <div className={styles.factorHeader}>\n                  <span\n                    className={`${styles.severityIcon} ${styles[factor.severity]}`}\n                  >\n                    {getSeverityIcon(factor.severity)}\n                  </span>\n                  <span className={styles.factorName}>{factor.factor}</span>\n                </div>\n                <p className={styles.factorDescription}>{factor.description}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Recommendations */}\n      {riskData.recommendations && riskData.recommendations.length > 0 && (\n        <div className={styles.section}>\n          <h3 className={styles.sectionTitle}>Recommended Actions</h3>\n          <ul className={styles.recommendationsList}>\n            {riskData.recommendations.map((recommendation, index) => (\n              <li key={index} className={styles.recommendationItem}>\n                {recommendation}\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default RiskAssessmentCard;\n","/**\n * StatCard Component\n *\n * Displays a single metric card with title, value, icon, and optional trend/subtitle.\n * Used in the analytics dashboard to show key performance indicators.\n *\n * @module features/analytics/components/StatCard\n */\n\nimport React from 'react';\nimport styles from './StatCard.module.css';\n\nexport interface StatCardProps {\n  /** Card title */\n  title: string;\n  /** Main metric value to display */\n  value: string | number;\n  /** Optional subtitle with additional context */\n  subtitle?: string;\n  /** Optional trend indicator (positive/negative change) */\n  trend?: {\n    value: number;\n    direction: 'up' | 'down';\n  };\n  /** Icon/emoji to display */\n  icon?: string;\n  /** Card accent color */\n  color?: string;\n}\n\n/**\n * StatCard Component\n *\n * WHY THIS APPROACH:\n * - Reusable metric display component for dashboard consistency\n * - Visual hierarchy: Icon ‚Üí Title ‚Üí Value ‚Üí Subtitle ‚Üí Trend\n * - Color coding for quick visual identification\n * - Trend indicators show change over time (useful for engagement tracking)\n */\nexport const StatCard: React.FC<StatCardProps> = ({\n  title,\n  value,\n  subtitle,\n  trend,\n  icon,\n  color = '#4caf50'\n}) => {\n  return (\n    <div className={styles.statCard} style={{ borderLeftColor: color }}>\n      {/* Icon */}\n      {icon && (\n        <div className={styles.iconContainer} style={{ color }}>\n          <span className={styles.icon}>{icon}</span>\n        </div>\n      )}\n\n      {/* Content */}\n      <div className={styles.content}>\n        <h3 className={styles.title}>{title}</h3>\n        <div className={styles.value}>{value}</div>\n\n        {subtitle && (\n          <p className={styles.subtitle}>{subtitle}</p>\n        )}\n\n        {trend && (\n          <div className={`${styles.trend} ${styles[trend.direction]}`}>\n            <span className={styles.trendIcon}>\n              {trend.direction === 'up' ? '‚Üë' : '‚Üì'}\n            </span>\n            <span className={styles.trendValue}>\n              {Math.abs(trend.value)}%\n            </span>\n            <span className={styles.trendLabel}>vs last period</span>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default StatCard;\n","/**\n * Analytics Dashboard Component\n *\n * Comprehensive analytics interface showing:\n * - Student progress and performance\n * - Course completion rates\n * - Lab proficiency metrics\n * - Quiz performance analytics\n * - Engagement scores\n * - Risk assessment\n *\n * @module features/analytics/AnalyticsDashboard\n */\n\nimport React, { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useAnalytics } from './hooks/useAnalytics';\nimport { EngagementChart } from './components/EngagementChart';\nimport { ProgressChart } from './components/ProgressChart';\nimport { QuizPerformanceChart } from './components/QuizPerformanceChart';\nimport { LabProficiencyChart } from './components/LabProficiencyChart';\nimport { RiskAssessmentCard } from './components/RiskAssessmentCard';\nimport { StatCard } from './components/StatCard';\nimport styles from './AnalyticsDashboard.module.css';\n\nexport type AnalyticsViewType = 'student' | 'course' | 'instructor';\n\nexport interface AnalyticsDashboardProps {\n  viewType: AnalyticsViewType;\n}\n\nexport const AnalyticsDashboard: React.FC<AnalyticsDashboardProps> = ({ viewType }) => {\n  const { studentId, courseId } = useParams<{ studentId?: string; courseId?: string }>();\n  const [timeRange, setTimeRange] = useState<'week' | 'month' | 'quarter' | 'year'>('month');\n\n  const {\n    engagement,\n    progress,\n    quizPerformance,\n    labProficiency,\n    riskAssessment,\n    courseAnalytics,\n    isLoading,\n    error\n  } = useAnalytics(viewType, studentId, courseId, timeRange);\n\n  if (isLoading) {\n    return (\n      <div className={styles.loadingContainer}>\n        <div className={styles.spinner}></div>\n        <p>Loading analytics...</p>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className={styles.errorContainer}>\n        <h2>Error Loading Analytics</h2>\n        <p>{error}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.dashboardContainer}>\n      {/* Header */}\n      <div className={styles.dashboardHeader}>\n        <div>\n          <h1>Analytics Dashboard</h1>\n          <p className={styles.subtitle}>\n            {viewType === 'student' && 'Your Learning Progress'}\n            {viewType === 'course' && 'Course Performance Overview'}\n            {viewType === 'instructor' && 'Student Analytics'}\n          </p>\n        </div>\n\n        <div className={styles.timeRangeSelector}>\n          {(['week', 'month', 'quarter', 'year'] as const).map((range) => (\n            <button\n              key={range}\n              className={`${styles.timeRangeBtn} ${timeRange === range ? styles.active : ''}`}\n              onClick={() => setTimeRange(range)}\n            >\n              {range.charAt(0).toUpperCase() + range.slice(1)}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Key Metrics */}\n      <div className={styles.metricsGrid}>\n        {engagement && (\n          <StatCard\n            title=\"Engagement Score\"\n            value={`${engagement.score}%`}\n            trend={engagement.trend}\n            icon=\"üìä\"\n            color=\"#4caf50\"\n          />\n        )}\n\n        {progress && (\n          <StatCard\n            title=\"Course Progress\"\n            value={`${progress.completion_percentage}%`}\n            subtitle={`${progress.completed_items}/${progress.total_items} completed`}\n            icon=\"‚úÖ\"\n            color=\"#2196f3\"\n          />\n        )}\n\n        {quizPerformance && (\n          <StatCard\n            title=\"Quiz Average\"\n            value={`${quizPerformance.average_score}%`}\n            subtitle={`${quizPerformance.quizzes_passed}/${quizPerformance.quizzes_taken} passed`}\n            icon=\"üéØ\"\n            color=\"#ff9800\"\n          />\n        )}\n\n        {labProficiency && (\n          <StatCard\n            title=\"Lab Proficiency\"\n            value={`${labProficiency.proficiency_score}%`}\n            subtitle={`${labProficiency.labs_completed} labs completed`}\n            icon=\"üíª\"\n            color=\"#9c27b0\"\n          />\n        )}\n      </div>\n\n      {/* Risk Assessment (for instructors) */}\n      {viewType === 'instructor' && riskAssessment && (\n        <RiskAssessmentCard riskData={riskAssessment} />\n      )}\n\n      {/* Charts */}\n      <div className={styles.chartsGrid}>\n        {engagement && (\n          <div className={styles.chartCard}>\n            <h3>Engagement Over Time</h3>\n            <EngagementChart data={engagement.history} />\n          </div>\n        )}\n\n        {progress && (\n          <div className={styles.chartCard}>\n            <h3>Progress Timeline</h3>\n            <ProgressChart data={progress.timeline} />\n          </div>\n        )}\n\n        {quizPerformance && (\n          <div className={styles.chartCard}>\n            <h3>Quiz Performance</h3>\n            <QuizPerformanceChart data={quizPerformance.history} />\n          </div>\n        )}\n\n        {labProficiency && (\n          <div className={styles.chartCard}>\n            <h3>Lab Proficiency</h3>\n            <LabProficiencyChart data={labProficiency.skills} />\n          </div>\n        )}\n      </div>\n\n      {/* Course-level analytics */}\n      {viewType === 'course' && courseAnalytics && (\n        <div className={styles.courseAnalyticsSection}>\n          <h2>Course Analytics Summary</h2>\n          <div className={styles.courseStatsGrid}>\n            <div className={styles.courseStat}>\n              <span className={styles.courseStatLabel}>Total Students</span>\n              <span className={styles.courseStatValue}>{courseAnalytics.total_students}</span>\n            </div>\n            <div className={styles.courseStat}>\n              <span className={styles.courseStatLabel}>Active Students</span>\n              <span className={styles.courseStatValue}>{courseAnalytics.active_students}</span>\n            </div>\n            <div className={styles.courseStat}>\n              <span className={styles.courseStatLabel}>Completion Rate</span>\n              <span className={styles.courseStatValue}>{courseAnalytics.completion_rate}%</span>\n            </div>\n            <div className={styles.courseStat}>\n              <span className={styles.courseStatLabel}>Average Grade</span>\n              <span className={styles.courseStatValue}>{courseAnalytics.average_grade}%</span>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AnalyticsDashboard;\n"],"names":["ANALYTICS_API_BASE","AnalyticsServiceError","message","statusCode","detail","handleResponse","response","errorData","analyticsService","studentId","courseId","timeRange","activityType","metadata","quizId","score","passed","labId","duration","completed","completedItems","totalItems","useAnalytics","viewType","engagement","setEngagement","useState","progress","setProgress","quizPerformance","setQuizPerformance","labProficiency","setLabProficiency","riskAssessment","setRiskAssessment","courseAnalytics","setCourseAnalytics","isLoading","setIsLoading","error","setError","fetchAnalytics","engagementData","progressData","quizData","labData","instrEngagement","instrProgress","instrQuiz","instrLab","riskData","courseData","err","useEffect","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Filler","EngagementChart","data","jsx","styles","chartData","point","date","options","context","value","jsxs","Line","BarElement","ProgressChart","percentage","dataPoint","Bar","ArcElement","QuizPerformanceChart","passedCount","failedCount","averageScore","sum","label","Doughnut","RadialLinearScale","LabProficiencyChart","skill","Radar","index","RiskAssessmentCard","getRiskLevelColor","getRiskLevelLabel","getSeverityIcon","severity","factor","recommendation","StatCard","title","subtitle","trend","icon","color","AnalyticsDashboard","useParams","setTimeRange","range"],"mappings":"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"}