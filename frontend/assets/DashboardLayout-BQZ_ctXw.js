import{j as e}from"./query-vendor-D-Supqfh.js";import{u as L,c as M,a as l,L as o}from"./react-vendor-DF6vRnOe.js";import{u as C,B as j}from"./index-CGkn3TFZ.js";const y="_navbar_16mhz_20",s={navbar:y,"navbar-container":"_navbar-container_16mhz_35","navbar-logo":"_navbar-logo_16mhz_50","logo-text":"_logo-text_16mhz_64","navbar-links":"_navbar-links_16mhz_76","nav-link":"_nav-link_16mhz_85","nav-link-active":"_nav-link-active_16mhz_112","navbar-right":"_navbar-right_16mhz_139","help-link":"_help-link_16mhz_147","icon-button":"_icon-button_16mhz_173","user-menu-container":"_user-menu-container_16mhz_203","user-menu-trigger":"_user-menu-trigger_16mhz_207","user-avatar":"_user-avatar_16mhz_234","user-avatar-placeholder":"_user-avatar-placeholder_16mhz_241","user-name":"_user-name_16mhz_261","dropdown-icon":"_dropdown-icon_16mhz_271","user-dropdown":"_user-dropdown_16mhz_281","user-info":"_user-info_16mhz_314","user-info-name":"_user-info-name_16mhz_318","user-info-email":"_user-info-email_16mhz_325","user-info-role":"_user-info-role_16mhz_332","dropdown-divider":"_dropdown-divider_16mhz_340","dropdown-item":"_dropdown-item_16mhz_346","dropdown-item-button":"_dropdown-item-button_16mhz_366","mobile-menu-toggle":"_mobile-menu-toggle_16mhz_395","mobile-menu":"_mobile-menu_16mhz_395","mobile-menu-link":"_mobile-menu-link_16mhz_436","mobile-menu-link-active":"_mobile-menu-link-active_16mhz_459"},U=({logo:d="Course Creator",className:h})=>{const{user:a,isAuthenticated:c,logout:v}=C(),N=L(),x=M(),[u,b]=l.useState(!1),[t,i]=l.useState(!1),p=l.useRef(null),f=l.useRef(null);l.useEffect(()=>{const r=n=>{n.key==="Escape"&&(t&&(i(!1),f.current?.focus()),u&&b(!1))};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[t,u]),l.useEffect(()=>{const r=n=>{p.current&&!p.current.contains(n.target)&&i(!1)};if(t)return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[t]);const k=l.useMemo(()=>r=>{const n=x.pathname;return n===r?!0:r==="/dashboard"?n.startsWith("/dashboard"):!!(r!=="/"&&n.startsWith(r+"/"))},[x.pathname]),w=()=>{v(),N("/login")},_=(()=>{if(!c||!a)return[];const r=[{to:"/dashboard",label:"Dashboard"}];switch(a.role){case"site_admin":return[...r,{to:"/admin/organizations",label:"Organizations"},{to:"/admin/users",label:"Users"},{to:"/admin/analytics",label:"Analytics"}];case"organization_admin":return[...r,{to:"/organization/members",label:"Members"},{to:"/organization/courses",label:"Courses"},{to:"/organization/analytics",label:"Analytics"}];case"instructor":return[...r,{to:"/courses",label:"My Courses"},{to:"/students",label:"Students"},{to:"/analytics",label:"Analytics"}];case"student":return[...r,{to:"/courses/my-courses",label:"My Courses"},{to:"/labs",label:"Labs"},{to:"/progress",label:"Progress"}];default:return r}})(),g=()=>a?a.firstName&&a.lastName?`${a.firstName} ${a.lastName}`:a.username:"",z=()=>a?a.firstName&&a.lastName?`${a.firstName[0]}${a.lastName[0]}`.toUpperCase():a.username[0].toUpperCase():"?";return e.jsxs("nav",{className:`${s.navbar} ${h||""}`,children:[e.jsxs("div",{className:s["navbar-container"],children:[e.jsx(o,{to:"/",className:s["navbar-logo"],children:typeof d=="string"?e.jsx("span",{className:s["logo-text"],children:d}):d}),c&&_.length>0&&e.jsx("div",{className:s["navbar-links"],children:_.map(r=>{const n=k(r.to);return e.jsx(o,{to:r.to,className:`${s["nav-link"]} ${n?s["nav-link-active"]:""}`,"aria-current":n?"page":void 0,children:r.label},r.to)})}),e.jsx("div",{className:s["navbar-right"],children:c&&a?e.jsxs(e.Fragment,{children:[e.jsx(o,{to:"/bugs/submit",className:s["icon-button"],title:"Report a Bug","aria-label":"Report a bug",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:e.jsx("path",{d:"M8 2v4M16 2v4M12 14v4M12 14l-3 3m3-3l3 3M9 10h.01M15 10h.01M3 8h18v13a2 2 0 01-2 2H5a2 2 0 01-2-2V8zM5 8V6a2 2 0 012-2h10a2 2 0 012 2v2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsxs("div",{ref:p,className:s["user-menu-container"],children:[e.jsxs("button",{ref:f,className:s["user-menu-trigger"],onClick:()=>i(!t),"aria-label":"User menu","aria-expanded":t,"aria-haspopup":"true",children:[a.avatar?e.jsx("img",{src:a.avatar,alt:g(),className:s["user-avatar"]}):e.jsx("div",{className:s["user-avatar-placeholder"],children:z()}),e.jsx("span",{className:s["user-name"],children:g()}),e.jsx("svg",{className:s["dropdown-icon"],width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:e.jsx("path",{d:"M2 4L6 8L10 4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),t&&e.jsxs("div",{className:s["user-dropdown"],children:[e.jsxs("div",{className:s["user-info"],children:[e.jsx("div",{className:s["user-info-name"],children:g()}),e.jsx("div",{className:s["user-info-email"],children:a.email}),e.jsx("div",{className:s["user-info-role"],children:a.role.replace("_"," ").toUpperCase()})]}),e.jsx("div",{className:s["dropdown-divider"]}),e.jsx(o,{to:"/settings",className:s["dropdown-item"],onClick:()=>i(!1),children:"Settings"}),e.jsx(o,{to:"/profile",className:s["dropdown-item"],onClick:()=>i(!1),children:"Profile"}),e.jsxs(o,{to:"/bugs/submit",className:s["dropdown-item"],onClick:()=>i(!1),children:[e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px",verticalAlign:"middle"},children:e.jsx("path",{d:"M8 2v4M16 2v4M12 14v4M12 14l-3 3m3-3l3 3M9 10h.01M15 10h.01M3 8h18v13a2 2 0 01-2 2H5a2 2 0 01-2-2V8zM5 8V6a2 2 0 012-2h10a2 2 0 012 2v2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Report Bug"]}),e.jsxs("a",{href:"/docs/USER_GUIDE.pdf",download:"Course_Creator_User_Guide.pdf",className:s["dropdown-item"],onClick:()=>i(!1),children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",style:{marginRight:"8px",verticalAlign:"middle"},children:[e.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"User Guide (PDF)"]}),e.jsx("div",{className:s["dropdown-divider"]}),e.jsx("button",{className:s["dropdown-item-button"],onClick:w,children:"Logout"})]})]}),e.jsx("button",{className:s["mobile-menu-toggle"],onClick:()=>b(!u),"aria-label":"Toggle mobile menu","aria-expanded":u,children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:u?e.jsx("path",{d:"M6 18L18 6M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}):e.jsx("path",{d:"M4 6H20M4 12H20M4 18H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}):e.jsxs(e.Fragment,{children:[e.jsx("a",{href:"/docs/USER_GUIDE.pdf",download:"Course_Creator_User_Guide.pdf",className:s["help-link"],title:"Download User Guide",children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx(o,{to:"/login",children:e.jsx(j,{variant:"ghost",size:"medium",children:"Login"})}),e.jsx(o,{to:"/register",children:e.jsx(j,{variant:"primary",size:"medium",children:"Sign Up"})})]})})]}),c&&u&&_.length>0&&e.jsx("div",{className:s["mobile-menu"],children:_.map(r=>{const n=k(r.to);return e.jsx(o,{to:r.to,className:`${s["mobile-menu-link"]} ${n?s["mobile-menu-link-active"]:""}`,onClick:()=>b(!1),"aria-current":n?"page":void 0,children:r.label},r.to)})})]})},m={"dashboard-layout":"_dashboard-layout_9ti9k_19","dashboard-container":"_dashboard-container_9ti9k_29","dashboard-main":"_dashboard-main_9ti9k_35","dashboard-with-sidebar":"_dashboard-with-sidebar_9ti9k_46","dashboard-sidebar":"_dashboard-sidebar_9ti9k_53","dashboard-content":"_dashboard-content_9ti9k_70"},H=({children:d,sidebar:h,maxWidth:a="1440px",logo:c,className:v})=>e.jsxs("div",{className:`${m["dashboard-layout"]} ${v||""}`,children:[e.jsx(U,{logo:c}),e.jsx("div",{className:m["dashboard-container"],children:e.jsx("main",{className:m["dashboard-main"],style:{maxWidth:a},children:h?e.jsxs("div",{className:m["dashboard-with-sidebar"],children:[e.jsx("aside",{className:m["dashboard-sidebar"],children:h}),e.jsx("div",{className:m["dashboard-content"],children:d})]}):d})})]});export{H as D};
//# sourceMappingURL=DashboardLayout-BQZ_ctXw.js.map
