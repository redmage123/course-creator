{"version":3,"file":"Login-BaRp45kO.js","sources":["../../src/features/auth/Login.tsx"],"sourcesContent":["/**\n * Login Page Component\n *\n * BUSINESS CONTEXT:\n * Authenticates users and redirects to appropriate dashboard based on role.\n * Supports instructor, org admin, student, and site admin login.\n *\n * TECHNICAL IMPLEMENTATION:\n * Uses useAuth hook for authentication logic and Redux for state management.\n * Integrates with user-management service (port 8000) for authentication.\n */\n\nimport React, { useState, FormEvent } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../hooks/useAuth';\nimport { Card } from '../../components/atoms/Card';\nimport { Button } from '../../components/atoms/Button';\nimport { Heading } from '../../components/atoms/Heading';\nimport { Spinner } from '../../components/atoms/Spinner';\nimport styles from './Login.module.css';\n\n/**\n * Login Page Component\n *\n * WHY THIS APPROACH:\n * - Form validation before submission\n * - Loading states for better UX\n * - Error handling with user feedback\n * - Remember me functionality\n * - Links to registration and password reset\n */\nexport const LoginPage: React.FC = () => {\n  const { login, isLoading } = useAuth();\n  const navigate = useNavigate();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [rememberMe, setRememberMe] = useState(false);\n  const [error, setError] = useState('');\n\n  /**\n   * Handle form submission\n   *\n   * BUSINESS LOGIC:\n   * Validates inputs, calls login API, handles success/error states\n   */\n  const handleSubmit = async (e: FormEvent) => {\n    e.preventDefault();\n    setError('');\n\n    // Client-side validation\n    if (!email || !password) {\n      setError('Please enter both email and password');\n      return;\n    }\n\n    if (!email.includes('@')) {\n      setError('Please enter a valid email address');\n      return;\n    }\n\n    try {\n      // Note: Backend expects \"username\" but we're collecting email\n      // The backend will accept either email or username\n      await login({ username: email, password });\n      // Navigation is handled by useAuth hook\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Login failed. Please try again.');\n    }\n  };\n\n  return (\n    <div className={styles['login-container']}>\n      <Card variant=\"elevated\" padding=\"large\" className={styles['login-card']}>\n        {/* Header */}\n        <div className={styles['login-header']}>\n          <Heading level=\"h1\" gutterBottom>\n            Welcome Back\n          </Heading>\n          <p className={styles['subtitle']}>\n            Sign in to your Course Creator Platform account\n          </p>\n        </div>\n\n        {/* Login Form */}\n        <form onSubmit={handleSubmit} className={styles['login-form']}>\n          {/* Error Message */}\n          {error && (\n            <div className={styles['error-message']} role=\"alert\">\n              {error}\n            </div>\n          )}\n\n          {/* Email Input */}\n          <div className={styles['form-group']}>\n            <label htmlFor=\"email\" className={styles['form-label']}>\n              Email Address\n            </label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              className={styles['form-input']}\n              placeholder=\"instructor@example.com\"\n              disabled={isLoading}\n              autoComplete=\"email\"\n              required\n            />\n          </div>\n\n          {/* Password Input */}\n          <div className={styles['form-group']}>\n            <label htmlFor=\"password\" className={styles['form-label']}>\n              Password\n            </label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              className={styles['form-input']}\n              placeholder=\"Enter your password\"\n              disabled={isLoading}\n              autoComplete=\"current-password\"\n              required\n            />\n          </div>\n\n          {/* Remember Me & Forgot Password */}\n          <div className={styles['form-options']}>\n            <label className={styles['checkbox-label']}>\n              <input\n                type=\"checkbox\"\n                checked={rememberMe}\n                onChange={(e) => setRememberMe(e.target.checked)}\n                disabled={isLoading}\n              />\n              <span>Remember me</span>\n            </label>\n\n            <Link\n              to=\"/forgot-password\"\n              className={styles['forgot-password-link']}\n            >\n              Forgot password?\n            </Link>\n          </div>\n\n          {/* Submit Button */}\n          <Button\n            type=\"submit\"\n            variant=\"primary\"\n            size=\"large\"\n            fullWidth\n            disabled={isLoading}\n          >\n            {isLoading ? (\n              <>\n                <Spinner size=\"small\" />\n                Signing in...\n              </>\n            ) : (\n              'Sign In'\n            )}\n          </Button>\n        </form>\n\n        {/* Divider */}\n        <div className={styles['divider']}>\n          <span>or</span>\n        </div>\n\n        {/* Register Link */}\n        <div className={styles['register-section']}>\n          <p className={styles['register-text']}>\n            Don't have an account?{' '}\n            <Link to=\"/register\" className={styles['register-link']}>\n              Sign up now\n            </Link>\n          </p>\n        </div>\n\n        {/* Demo Credentials */}\n        <Card variant=\"outlined\" padding=\"small\" className={styles['demo-info']}>\n          <Heading level=\"h5\" gutterBottom>\n            Demo Credentials\n          </Heading>\n          <div className={styles['demo-credentials']}>\n            <div>\n              <strong>Instructor:</strong> instructor@example.com / password123\n            </div>\n            <div>\n              <strong>Org Admin:</strong> orgadmin@example.com / password123\n            </div>\n            <div>\n              <strong>Student:</strong> student@example.com / password123\n            </div>\n          </div>\n        </Card>\n      </Card>\n    </div>\n  );\n};\n"],"names":["LoginPage","login","isLoading","useAuth","useNavigate","email","setEmail","useState","password","setPassword","rememberMe","setRememberMe","error","setError","handleSubmit","e","err","jsx","styles","jsxs","Card","Heading","Link","Button","Fragment","Spinner"],"mappings":"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"}