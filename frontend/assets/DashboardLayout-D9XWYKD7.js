import{j as a}from"./query-vendor-DXemzGoE.js";import{u as w,c as L,a as v,L as t}from"./react-vendor-DLPaXABT.js";import{u as y,B as j}from"./index-2bTuLtOl.js";const C="_navbar_1mabu_20",e={navbar:C,"navbar-container":"_navbar-container_1mabu_35","navbar-logo":"_navbar-logo_1mabu_50","logo-text":"_logo-text_1mabu_64","navbar-links":"_navbar-links_1mabu_76","nav-link":"_nav-link_1mabu_85","nav-link-active":"_nav-link-active_1mabu_112","navbar-right":"_navbar-right_1mabu_139","user-menu-container":"_user-menu-container_1mabu_150","user-menu-trigger":"_user-menu-trigger_1mabu_154","user-avatar":"_user-avatar_1mabu_181","user-avatar-placeholder":"_user-avatar-placeholder_1mabu_188","user-name":"_user-name_1mabu_208","dropdown-icon":"_dropdown-icon_1mabu_218","user-dropdown":"_user-dropdown_1mabu_228","user-info":"_user-info_1mabu_261","user-info-name":"_user-info-name_1mabu_265","user-info-email":"_user-info-email_1mabu_272","user-info-role":"_user-info-role_1mabu_279","dropdown-divider":"_dropdown-divider_1mabu_287","dropdown-item":"_dropdown-item_1mabu_293","dropdown-item-button":"_dropdown-item-button_1mabu_313","mobile-menu-toggle":"_mobile-menu-toggle_1mabu_342","mobile-menu":"_mobile-menu_1mabu_342","mobile-menu-link":"_mobile-menu-link_1mabu_383","mobile-menu-link-active":"_mobile-menu-link-active_1mabu_406"},M=({logo:o="Course Creator",className:d})=>{const{user:s,isAuthenticated:i,logout:c}=y(),N=w(),p=L(),[u,g]=v.useState(!1),[b,_]=v.useState(!1),x=v.useMemo(()=>r=>{const n=p.pathname;return n===r?!0:r==="/dashboard"?n.startsWith("/dashboard"):!!(r!=="/"&&n.startsWith(r+"/"))},[p.pathname]),f=()=>{c(),N("/login")},m=(()=>{if(!i||!s)return[];const r=[{to:"/dashboard",label:"Dashboard"}];switch(s.role){case"site_admin":return[...r,{to:"/admin/organizations",label:"Organizations"},{to:"/admin/users",label:"Users"},{to:"/admin/analytics",label:"Analytics"}];case"org_admin":return[...r,{to:"/organization/members",label:"Members"},{to:"/organization/courses",label:"Courses"},{to:"/organization/analytics",label:"Analytics"}];case"instructor":return[...r,{to:"/courses",label:"My Courses"},{to:"/students",label:"Students"},{to:"/analytics",label:"Analytics"}];case"student":return[...r,{to:"/courses/my-courses",label:"My Courses"},{to:"/labs",label:"Labs"},{to:"/progress",label:"Progress"}];default:return r}})(),h=()=>s?s.firstName&&s.lastName?`${s.firstName} ${s.lastName}`:s.username:"",k=()=>s?s.firstName&&s.lastName?`${s.firstName[0]}${s.lastName[0]}`.toUpperCase():s.username[0].toUpperCase():"?";return a.jsxs("nav",{className:`${e.navbar} ${d||""}`,children:[a.jsxs("div",{className:e["navbar-container"],children:[a.jsx(t,{to:"/",className:e["navbar-logo"],children:typeof o=="string"?a.jsx("span",{className:e["logo-text"],children:o}):o}),i&&m.length>0&&a.jsx("div",{className:e["navbar-links"],children:m.map(r=>{const n=x(r.to);return a.jsx(t,{to:r.to,className:`${e["nav-link"]} ${n?e["nav-link-active"]:""}`,"aria-current":n?"page":void 0,children:r.label},r.to)})}),a.jsx("div",{className:e["navbar-right"],children:i&&s?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:e["user-menu-container"],children:[a.jsxs("button",{className:e["user-menu-trigger"],onClick:()=>_(!b),"aria-label":"User menu","aria-expanded":b,"aria-haspopup":"true",children:[s.avatar?a.jsx("img",{src:s.avatar,alt:h(),className:e["user-avatar"]}):a.jsx("div",{className:e["user-avatar-placeholder"],children:k()}),a.jsx("span",{className:e["user-name"],children:h()}),a.jsx("svg",{className:e["dropdown-icon"],width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:a.jsx("path",{d:"M2 4L6 8L10 4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),b&&a.jsxs("div",{className:e["user-dropdown"],children:[a.jsxs("div",{className:e["user-info"],children:[a.jsx("div",{className:e["user-info-name"],children:h()}),a.jsx("div",{className:e["user-info-email"],children:s.email}),a.jsx("div",{className:e["user-info-role"],children:s.role.replace("_"," ").toUpperCase()})]}),a.jsx("div",{className:e["dropdown-divider"]}),a.jsx(t,{to:"/settings",className:e["dropdown-item"],onClick:()=>_(!1),children:"Settings"}),a.jsx(t,{to:"/profile",className:e["dropdown-item"],onClick:()=>_(!1),children:"Profile"}),a.jsx("div",{className:e["dropdown-divider"]}),a.jsx("button",{className:e["dropdown-item-button"],onClick:f,children:"Logout"})]})]}),a.jsx("button",{className:e["mobile-menu-toggle"],onClick:()=>g(!u),"aria-label":"Toggle mobile menu","aria-expanded":u,children:a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:u?a.jsx("path",{d:"M6 18L18 6M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}):a.jsx("path",{d:"M4 6H20M4 12H20M4 18H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}):a.jsxs(a.Fragment,{children:[a.jsx(t,{to:"/login",children:a.jsx(j,{variant:"ghost",size:"medium",children:"Login"})}),a.jsx(t,{to:"/register",children:a.jsx(j,{variant:"primary",size:"medium",children:"Sign Up"})})]})})]}),i&&u&&m.length>0&&a.jsx("div",{className:e["mobile-menu"],children:m.map(r=>{const n=x(r.to);return a.jsx(t,{to:r.to,className:`${e["mobile-menu-link"]} ${n?e["mobile-menu-link-active"]:""}`,onClick:()=>g(!1),"aria-current":n?"page":void 0,children:r.label},r.to)})})]})},l={"dashboard-layout":"_dashboard-layout_9ti9k_19","dashboard-container":"_dashboard-container_9ti9k_29","dashboard-main":"_dashboard-main_9ti9k_35","dashboard-with-sidebar":"_dashboard-with-sidebar_9ti9k_46","dashboard-sidebar":"_dashboard-sidebar_9ti9k_53","dashboard-content":"_dashboard-content_9ti9k_70"},O=({children:o,sidebar:d,maxWidth:s="1440px",logo:i,className:c})=>a.jsxs("div",{className:`${l["dashboard-layout"]} ${c||""}`,children:[a.jsx(M,{logo:i}),a.jsx("div",{className:l["dashboard-container"],children:a.jsx("main",{className:l["dashboard-main"],style:{maxWidth:s},children:d?a.jsxs("div",{className:l["dashboard-with-sidebar"],children:[a.jsx("aside",{className:l["dashboard-sidebar"],children:d}),a.jsx("div",{className:l["dashboard-content"],children:o})]}):o})})]});export{O as D};
//# sourceMappingURL=DashboardLayout-D9XWYKD7.js.map
