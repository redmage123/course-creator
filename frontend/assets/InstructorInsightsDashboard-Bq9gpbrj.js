import{j as e}from"./query-vendor-D-Supqfh.js";import{a as f}from"./react-vendor-DF6vRnOe.js";import{c as x}from"./index-CiydOER8.js";import"./state-vendor-CcNjB5Go.js";class P{baseUrl="/analytics/instructor";async getEffectivenessMetrics(n,r="30d"){return await x.get(`${this.baseUrl}/${n}/effectiveness`,{params:{range:r}})}async getMyEffectivenessMetrics(n="30d"){return await x.get(`${this.baseUrl}/me/effectiveness`,{params:{range:n}})}async getCoursePerformance(n,r="30d"){return await x.get(`${this.baseUrl}/courses/${n}/performance`,{params:{range:r}})}async getAllCoursePerformances(n,r="30d"){return await x.get(`${this.baseUrl}/${n}/courses/performance`,{params:{range:r}})}async getMyCoursePerformances(n="30d"){return await x.get(`${this.baseUrl}/me/courses/performance`,{params:{range:n}})}async getStudentEngagement(n,r="30d"){return await x.get(`${this.baseUrl}/${n}/engagement`,{params:{range:r}})}async getMyStudentEngagement(n="30d"){return await x.get(`${this.baseUrl}/me/engagement`,{params:{range:n}})}async getRecommendations(n,r,_){const s={};return r&&(s.category=r),_&&(s.priority=_),await x.get(`${this.baseUrl}/${n}/recommendations`,{params:s})}async getMyRecommendations(n,r){const _={};return n&&(_.category=n),r&&(_.priority=r),await x.get(`${this.baseUrl}/me/recommendations`,{params:_})}async acknowledgeRecommendation(n){await x.post(`${this.baseUrl}/recommendations/${n}/acknowledge`)}async startRecommendation(n){await x.post(`${this.baseUrl}/recommendations/${n}/start`)}async completeRecommendation(n,r){await x.post(`${this.baseUrl}/recommendations/${n}/complete`,r)}async dismissRecommendation(n,r){await x.post(`${this.baseUrl}/recommendations/${n}/dismiss`,{reason:r})}async getPeerComparisons(n,r="30d"){return await x.get(`${this.baseUrl}/${n}/peer-comparisons`,{params:{range:r}})}async getMyPeerComparisons(n="30d"){return await x.get(`${this.baseUrl}/me/peer-comparisons`,{params:{range:n}})}async getContentEffectiveness(n,r,_="30d"){const s={range:_};return r&&(s.course_id=r),await x.get(`${this.baseUrl}/${n}/content-effectiveness`,{params:s})}async getMyContentEffectiveness(n,r="30d"){const _={range:r};return n&&(_.course_id=n),await x.get(`${this.baseUrl}/me/content-effectiveness`,{params:_})}async exportReport(n,r="pdf",_="30d"){return await x.get(`${this.baseUrl}/${n}/export`,{params:{format:r,range:_},responseType:"blob"})}}const N=new P,q=(i,n,r="30d")=>{const[_,s]=f.useState(null),[h,d]=f.useState([]),[w,L]=f.useState(null),[C,y]=f.useState([]),[I,R]=f.useState([]),[S,B]=f.useState([]),[V,$]=f.useState(!0),[a,j]=f.useState(null),v=async()=>{try{$(!0),j(null);const g=!i,[u,p,b,A,F,z]=await Promise.all([g?N.getMyEffectivenessMetrics(r):N.getEffectivenessMetrics(i,r),g?N.getMyCoursePerformances(r):N.getAllCoursePerformances(i,r),g?N.getMyStudentEngagement(r):N.getStudentEngagement(i,r),g?N.getMyRecommendations():N.getRecommendations(i),g?N.getMyPeerComparisons(r):N.getPeerComparisons(i,r),g?N.getMyContentEffectiveness(n,r):N.getContentEffectiveness(i,n,r)]);s(u),d(p),L(b),y(A),R(F),B(z)}catch(g){const u=g instanceof Error?g.message:"Failed to load instructor insights";j(u),console.error("Instructor insights fetch error:",g)}finally{$(!1)}},k=async g=>{try{await N.acknowledgeRecommendation(g),y(u=>u.map(p=>p.id===g?{...p,status:"acknowledged",acknowledged_at:new Date().toISOString()}:p))}catch(u){const p=u instanceof Error?u.message:"Failed to acknowledge recommendation";throw console.error("Error acknowledging recommendation:",u),new Error(p)}},M=async g=>{try{await N.startRecommendation(g),y(u=>u.map(p=>p.id===g?{...p,status:"in_progress"}:p))}catch(u){const p=u instanceof Error?u.message:"Failed to start recommendation";throw console.error("Error starting recommendation:",u),new Error(p)}},E=async(g,u)=>{try{await N.completeRecommendation(g,u),y(p=>p.map(b=>b.id===g?{...b,status:"completed",completed_at:new Date().toISOString()}:b))}catch(p){const b=p instanceof Error?p.message:"Failed to complete recommendation";throw console.error("Error completing recommendation:",p),new Error(b)}},T=async(g,u)=>{try{await N.dismissRecommendation(g,u),y(p=>p.filter(b=>b.id!==g))}catch(p){const b=p instanceof Error?p.message:"Failed to dismiss recommendation";throw console.error("Error dismissing recommendation:",p),new Error(b)}};return f.useEffect(()=>{v()},[i,n,r]),{effectiveness:_,coursePerformances:h,engagement:w,recommendations:C,peerComparisons:I,contentEffectiveness:S,isLoading:V,error:a,refetch:v,acknowledgeRecommendation:k,startRecommendation:M,completeRecommendation:E,dismissRecommendation:T}},D="_widget_7cf70_5",U="_header_7cf70_12",H="_title_7cf70_21",G="_timeRange_7cf70_28",W="_legend_7cf70_34",O="_legendItem_7cf70_41",Q="_legendColor_7cf70_49",Y="_chartContainer_7cf70_55",K="_contentRow_7cf70_61",J="_contentType_7cf70_68",X="_contentLabel_7cf70_74",Z="_contentCount_7cf70_82",ee="_improvementBadge_7cf70_87",se="_metrics_7cf70_98",te="_metricBar_7cf70_104",ae="_metricLabel_7cf70_110",ne="_metricValue_7cf70_118",re="_barBackground_7cf70_123",ce="_barFill_7cf70_131",ie="_summary_7cf70_137",oe="_summaryItem_7cf70_145",le="_summaryLabel_7cf70_151",de="_summaryValue_7cf70_156",me="_emptyState_7cf70_162",o={widget:D,header:U,title:H,timeRange:G,legend:W,legendItem:O,legendColor:Q,chartContainer:Y,contentRow:K,contentType:J,contentLabel:X,contentCount:Z,improvementBadge:ee,metrics:se,metricBar:te,metricLabel:ae,metricValue:ne,barBackground:re,barFill:ce,summary:ie,summaryItem:oe,summaryLabel:le,summaryValue:de,emptyState:me},_e=({contentEffectiveness:i,timeRange:n})=>{const r=(s,h)=>h?"#f44336":s>=80?"#4caf50":s>=60?"#ff9800":"#f44336",_=s=>({"7d":"Last 7 Days","30d":"Last 30 Days","90d":"Last 90 Days","1y":"Last Year",all:"All Time"})[s];return!i||i.length===0?e.jsxs("div",{className:o.widget,children:[e.jsxs("div",{className:o.header,children:[e.jsx("h2",{className:o.title,children:"Content Effectiveness"}),e.jsx("span",{className:o.timeRange,children:_(n)})]}),e.jsx("div",{className:o.emptyState,children:e.jsx("p",{children:"No content data available for this time period."})})]}):e.jsxs("div",{className:o.widget,children:[e.jsxs("div",{className:o.header,children:[e.jsx("h2",{className:o.title,children:"Content Effectiveness"}),e.jsx("span",{className:o.timeRange,children:_(n)})]}),e.jsxs("div",{className:o.legend,children:[e.jsxs("div",{className:o.legendItem,children:[e.jsx("span",{className:o.legendColor,style:{backgroundColor:"#2196f3"}}),e.jsx("span",{children:"Average Rating"})]}),e.jsxs("div",{className:o.legendItem,children:[e.jsx("span",{className:o.legendColor,style:{backgroundColor:"#4caf50"}}),e.jsx("span",{children:"Completion Rate"})]}),e.jsxs("div",{className:o.legendItem,children:[e.jsx("span",{className:o.legendColor,style:{backgroundColor:"#ff9800"}}),e.jsx("span",{children:"Engagement Score"})]})]}),e.jsx("div",{className:o.chartContainer,children:i.map((s,h)=>e.jsxs("div",{className:o.contentRow,children:[e.jsxs("div",{className:o.contentType,children:[e.jsx("h3",{className:o.contentLabel,children:s.content_type}),e.jsxs("span",{className:o.contentCount,children:[s.total_items," items"]}),s.needs_improvement&&e.jsx("span",{className:o.improvementBadge,children:"Needs Improvement"})]}),e.jsxs("div",{className:o.metrics,children:[e.jsxs("div",{className:o.metricBar,children:[e.jsxs("div",{className:o.metricLabel,children:[e.jsx("span",{children:"Rating"}),e.jsxs("span",{className:o.metricValue,children:[s.average_rating.toFixed(1),"/5.0"]})]}),e.jsx("div",{className:o.barBackground,children:e.jsx("div",{className:o.barFill,style:{width:`${s.average_rating/5*100}%`,backgroundColor:r(s.average_rating/5*100,s.needs_improvement)}})})]}),e.jsxs("div",{className:o.metricBar,children:[e.jsxs("div",{className:o.metricLabel,children:[e.jsx("span",{children:"Completion"}),e.jsxs("span",{className:o.metricValue,children:[s.completion_rate.toFixed(1),"%"]})]}),e.jsx("div",{className:o.barBackground,children:e.jsx("div",{className:o.barFill,style:{width:`${s.completion_rate}%`,backgroundColor:r(s.completion_rate,s.needs_improvement)}})})]}),e.jsxs("div",{className:o.metricBar,children:[e.jsxs("div",{className:o.metricLabel,children:[e.jsx("span",{children:"Engagement"}),e.jsxs("span",{className:o.metricValue,children:[s.engagement_score.toFixed(0),"/100"]})]}),e.jsx("div",{className:o.barBackground,children:e.jsx("div",{className:o.barFill,style:{width:`${s.engagement_score}%`,backgroundColor:r(s.engagement_score,s.needs_improvement)}})})]})]})]},h))}),e.jsxs("div",{className:o.summary,children:[e.jsxs("div",{className:o.summaryItem,children:[e.jsx("span",{className:o.summaryLabel,children:"Content Types:"}),e.jsx("span",{className:o.summaryValue,children:i.length})]}),e.jsxs("div",{className:o.summaryItem,children:[e.jsx("span",{className:o.summaryLabel,children:"Total Items:"}),e.jsx("span",{className:o.summaryValue,children:i.reduce((s,h)=>s+h.total_items,0)})]}),e.jsxs("div",{className:o.summaryItem,children:[e.jsx("span",{className:o.summaryLabel,children:"Needs Improvement:"}),e.jsx("span",{className:o.summaryValue,children:i.filter(s=>s.needs_improvement).length})]})]})]})},pe="_widget_pv6cq_5",he="_title_pv6cq_12",ge="_metricsGrid_pv6cq_19",ue="_metric_pv6cq_19",xe="_metricIcon_pv6cq_35",je="_metricContent_pv6cq_39",Ne="_metricLabel_pv6cq_43",fe="_metricValue_pv6cq_49",ve="_section_pv6cq_55",be="_sectionTitle_pv6cq_61",ye="_statsList_pv6cq_68",we="_statRow_pv6cq_74",Ce="_statLabel_pv6cq_81",Se="_statValue_pv6cq_86",Le="_responseMetrics_pv6cq_92",Ie="_responseRate_pv6cq_99",$e="_responseCircle_pv6cq_104",Re="_responseInner_pv6cq_114",Be="_responseValue_pv6cq_125",Ve="_responsePercent_pv6cq_132",ke="_responseLabel_pv6cq_137",Me="_responseStats_pv6cq_144",Ee="_emptyState_pv6cq_150",t={widget:pe,title:he,metricsGrid:ge,metric:ue,metricIcon:xe,metricContent:je,metricLabel:Ne,metricValue:fe,section:ve,sectionTitle:be,statsList:ye,statRow:we,statLabel:Ce,statValue:Se,responseMetrics:Le,responseRate:Ie,responseCircle:$e,responseInner:Re,responseValue:Be,responsePercent:Ve,responseLabel:ke,responseStats:Me,emptyState:Ee},Te=({engagement:i})=>{if(!i)return e.jsxs("div",{className:t.widget,children:[e.jsx("h2",{className:t.title,children:"Student Engagement"}),e.jsx("div",{className:t.emptyState,children:e.jsx("p",{children:"No engagement data available."})})]});const n=s=>{if(!s)return"N/A";const h=Math.floor(s/60),d=Math.round(s%60);return h>0?`${h}h ${d}m`:`${d}m`},r=s=>{if(s==null)return"N/A";const h=s>=12?"PM":"AM";return`${s%12||12}:00 ${h}`},_=s=>s?s>=90?"#4caf50":s>=70?"#ff9800":"#f44336":"#999";return e.jsxs("div",{className:t.widget,children:[e.jsx("h2",{className:t.title,children:"Student Engagement"}),e.jsxs("div",{className:t.metricsGrid,children:[e.jsxs("div",{className:t.metric,children:[e.jsx("div",{className:t.metricIcon,children:"üìä"}),e.jsxs("div",{className:t.metricContent,children:[e.jsx("div",{className:t.metricLabel,children:"Total Sessions"}),e.jsx("div",{className:t.metricValue,children:i.total_sessions.toLocaleString()})]})]}),e.jsxs("div",{className:t.metric,children:[e.jsx("div",{className:t.metricIcon,children:"‚è±Ô∏è"}),e.jsxs("div",{className:t.metricContent,children:[e.jsx("div",{className:t.metricLabel,children:"Avg Session"}),e.jsx("div",{className:t.metricValue,children:n(i.average_session_duration)})]})]}),e.jsxs("div",{className:t.metric,children:[e.jsx("div",{className:t.metricIcon,children:"üïê"}),e.jsxs("div",{className:t.metricContent,children:[e.jsx("div",{className:t.metricLabel,children:"Peak Hour"}),e.jsx("div",{className:t.metricValue,children:r(i.peak_hour)})]})]}),e.jsxs("div",{className:t.metric,children:[e.jsx("div",{className:t.metricIcon,children:"üìÖ"}),e.jsxs("div",{className:t.metricContent,children:[e.jsx("div",{className:t.metricLabel,children:"Most Active"}),e.jsx("div",{className:t.metricValue,children:i.most_active_day||"N/A"})]})]})]}),e.jsxs("div",{className:t.section,children:[e.jsx("h3",{className:t.sectionTitle,children:"Student Interactions"}),e.jsxs("div",{className:t.statsList,children:[e.jsxs("div",{className:t.statRow,children:[e.jsx("span",{className:t.statLabel,children:"Content Views"}),e.jsx("span",{className:t.statValue,children:i.total_content_views.toLocaleString()})]}),e.jsxs("div",{className:t.statRow,children:[e.jsx("span",{className:t.statLabel,children:"Lab Sessions"}),e.jsx("span",{className:t.statValue,children:i.total_lab_sessions.toLocaleString()})]}),e.jsxs("div",{className:t.statRow,children:[e.jsx("span",{className:t.statLabel,children:"Quiz Attempts"}),e.jsx("span",{className:t.statValue,children:i.total_quiz_attempts.toLocaleString()})]}),e.jsxs("div",{className:t.statRow,children:[e.jsx("span",{className:t.statLabel,children:"Forum Posts"}),e.jsx("span",{className:t.statValue,children:i.total_forum_posts.toLocaleString()})]})]})]}),e.jsxs("div",{className:t.section,children:[e.jsx("h3",{className:t.sectionTitle,children:"Instructor Responsiveness"}),e.jsxs("div",{className:t.responseMetrics,children:[e.jsx("div",{className:t.responseRate,children:e.jsx("div",{className:t.responseCircle,style:{background:`conic-gradient(${_(i.response_rate)} ${(i.response_rate||0)*3.6}deg, #f0f0f0 0deg)`},children:e.jsxs("div",{className:t.responseInner,children:[e.jsxs("div",{className:t.responseValue,children:[i.response_rate?.toFixed(0)||"N/A",i.response_rate!==void 0&&e.jsx("span",{className:t.responsePercent,children:"%"})]}),e.jsx("div",{className:t.responseLabel,children:"Response Rate"})]})})}),e.jsxs("div",{className:t.responseStats,children:[e.jsxs("div",{className:t.statRow,children:[e.jsx("span",{className:t.statLabel,children:"Questions Asked"}),e.jsx("span",{className:t.statValue,children:i.total_questions_asked.toLocaleString()})]}),e.jsxs("div",{className:t.statRow,children:[e.jsx("span",{className:t.statLabel,children:"Questions Answered"}),e.jsx("span",{className:t.statValue,children:i.questions_answered.toLocaleString()})]}),e.jsxs("div",{className:t.statRow,children:[e.jsx("span",{className:t.statLabel,children:"Avg Response Time"}),e.jsx("span",{className:t.statValue,children:i.average_response_time?`${i.average_response_time.toFixed(1)}h`:"N/A"})]})]})]})]})]})},Ae="_widget_abo6w_5",Fe="_title_abo6w_12",ze="_courseList_abo6w_19",Pe="_courseCard_abo6w_27",qe="_selected_abo6w_40",De="_courseHeader_abo6w_45",Ue="_courseName_abo6w_52",He="_enrollmentBadge_abo6w_59",Ge="_courseMetrics_abo6w_68",We="_metricItem_abo6w_75",Oe="_metricLabel_abo6w_81",Qe="_metricValue_abo6w_88",Ye="_performanceMetrics_abo6w_94",Ke="_performanceItem_abo6w_101",Je="_performanceLabel_abo6w_110",Xe="_performanceValue_abo6w_115",Ze="_ratings_abo6w_120",es="_ratingItem_abo6w_127",ss="_ratingLabel_abo6w_133",ts="_ratingStars_abo6w_138",as="_peerSection_abo6w_144",ns="_peerTitle_abo6w_150",rs="_peerDescription_abo6w_157",cs="_peerList_abo6w_163",is="_peerItem_abo6w_169",os="_peerMetric_abo6w_175",ls="_peerMetricName_abo6w_182",ds="_peerPosition_abo6w_188",ms="_peerStats_abo6w_197",_s="_peerStat_abo6w_197",ps="_peerStatLabel_abo6w_210",hs="_peerStatValue_abo6w_217",gs="_emptyState_abo6w_223",c={widget:Ae,title:Fe,courseList:ze,courseCard:Pe,selected:qe,courseHeader:De,courseName:Ue,enrollmentBadge:He,courseMetrics:Ge,metricItem:We,metricLabel:Oe,metricValue:Qe,performanceMetrics:Ye,performanceItem:Ke,performanceLabel:Je,performanceValue:Xe,ratings:Ze,ratingItem:es,ratingLabel:ss,ratingStars:ts,peerSection:as,peerTitle:ns,peerDescription:rs,peerList:cs,peerItem:is,peerMetric:os,peerMetricName:ls,peerPosition:ds,peerStats:ms,peerStat:_s,peerStatLabel:ps,peerStatValue:hs,emptyState:gs},us=({coursePerformances:i,peerComparisons:n})=>{const[r,_]=f.useState(null);if(!i||i.length===0)return e.jsxs("div",{className:c.widget,children:[e.jsx("h2",{className:c.title,children:"Course Performance"}),e.jsx("div",{className:c.emptyState,children:e.jsx("p",{children:"No course data available."})})]});const s=d=>d?d>=80?"#4caf50":d>=60?"#ff9800":"#f44336":"#999",h=d=>{_(r===d?null:d)};return e.jsxs("div",{className:c.widget,children:[e.jsx("h2",{className:c.title,children:"Course Performance"}),e.jsx("div",{className:c.courseList,children:i.map(d=>e.jsxs("div",{className:`${c.courseCard} ${r===d.course_id?c.selected:""}`,onClick:()=>h(d.course_id),children:[e.jsxs("div",{className:c.courseHeader,children:[e.jsx("h3",{className:c.courseName,children:d.course_title||`Course ${d.course_id.slice(0,8)}`}),e.jsxs("div",{className:c.enrollmentBadge,children:[d.total_enrolled," students"]})]}),e.jsxs("div",{className:c.courseMetrics,children:[e.jsxs("div",{className:c.metricItem,children:[e.jsx("span",{className:c.metricLabel,children:"Active"}),e.jsx("span",{className:c.metricValue,children:d.active_students})]}),e.jsxs("div",{className:c.metricItem,children:[e.jsx("span",{className:c.metricLabel,children:"Completed"}),e.jsx("span",{className:c.metricValue,children:d.completed_students})]}),e.jsxs("div",{className:c.metricItem,children:[e.jsx("span",{className:c.metricLabel,children:"Dropped"}),e.jsx("span",{className:c.metricValue,children:d.dropped_students})]})]}),e.jsxs("div",{className:c.performanceMetrics,children:[e.jsxs("div",{className:c.performanceItem,children:[e.jsx("span",{className:c.performanceLabel,children:"Average Score"}),e.jsxs("span",{className:c.performanceValue,style:{color:s(d.average_score)},children:[d.average_score?.toFixed(1)||"N/A","%"]})]}),e.jsxs("div",{className:c.performanceItem,children:[e.jsx("span",{className:c.performanceLabel,children:"Pass Rate"}),e.jsxs("span",{className:c.performanceValue,style:{color:s(d.pass_rate)},children:[d.pass_rate?.toFixed(1)||"N/A","%"]})]})]}),(d.content_rating||d.difficulty_rating||d.workload_rating)&&e.jsxs("div",{className:c.ratings,children:[d.content_rating&&e.jsxs("div",{className:c.ratingItem,children:[e.jsx("span",{className:c.ratingLabel,children:"Content"}),e.jsxs("span",{className:c.ratingStars,children:["‚òÖ".repeat(Math.round(d.content_rating)),"‚òÜ".repeat(5-Math.round(d.content_rating))]})]}),d.difficulty_rating&&e.jsxs("div",{className:c.ratingItem,children:[e.jsx("span",{className:c.ratingLabel,children:"Difficulty"}),e.jsxs("span",{className:c.ratingStars,children:["‚òÖ".repeat(Math.round(d.difficulty_rating)),"‚òÜ".repeat(5-Math.round(d.difficulty_rating))]})]})]})]},d.id))}),n&&n.length>0&&e.jsxs("div",{className:c.peerSection,children:[e.jsx("h3",{className:c.peerTitle,children:"Peer Benchmarking"}),e.jsx("p",{className:c.peerDescription,children:"See how you compare to other instructors (anonymized)"}),e.jsx("div",{className:c.peerList,children:n.slice(0,3).map(d=>e.jsxs("div",{className:c.peerItem,children:[e.jsxs("div",{className:c.peerMetric,children:[e.jsx("span",{className:c.peerMetricName,children:d.metric_name}),e.jsx("span",{className:c.peerPosition,children:d.position_description})]}),e.jsxs("div",{className:c.peerStats,children:[e.jsxs("div",{className:c.peerStat,children:[e.jsx("span",{className:c.peerStatLabel,children:"You"}),e.jsx("span",{className:c.peerStatValue,children:d.instructor_score?.toFixed(1)||"N/A"})]}),e.jsxs("div",{className:c.peerStat,children:[e.jsx("span",{className:c.peerStatLabel,children:"Avg"}),e.jsx("span",{className:c.peerStatValue,children:d.peer_average?.toFixed(1)||"N/A"})]}),e.jsxs("div",{className:c.peerStat,children:[e.jsx("span",{className:c.peerStatLabel,children:"Median"}),e.jsx("span",{className:c.peerStatValue,children:d.peer_median?.toFixed(1)||"N/A"})]})]})]},d.id))})]})]})},xs="_widget_12ngp_5",js="_header_12ngp_12",Ns="_title_12ngp_21",fs="_filters_12ngp_28",vs="_filterButton_12ngp_33",bs="_active_12ngp_49",ys="_recommendationsList_12ngp_55",ws="_recommendationCard_12ngp_61",Cs="_expanded_12ngp_73",Ss="_cardHeader_12ngp_77",Ls="_headerLeft_12ngp_86",Is="_categoryIcon_12ngp_93",$s="_headerContent_12ngp_97",Rs="_recommendationTitle_12ngp_101",Bs="_recommendationCategory_12ngp_108",Vs="_headerRight_12ngp_115",ks="_priorityBadge_12ngp_121",Ms="_statusBadge_12ngp_131",Es="_expandIcon_12ngp_141",Ts="_cardBody_12ngp_147",As="_description_12ngp_153",Fs="_actionItems_12ngp_160",zs="_actionItemsTitle_12ngp_164",Ps="_actionItemsList_12ngp_171",qs="_impact_12ngp_183",Ds="_effort_12ngp_184",Us="_cardActions_12ngp_195",Hs="_actionButton_12ngp_203",Gs="_primaryButton_12ngp_224",Ws="_dismissButton_12ngp_236",Os="_emptyState_12ngp_247",Qs="_emptySubtext_12ngp_258",m={widget:xs,header:js,title:Ns,filters:fs,filterButton:vs,active:bs,recommendationsList:ys,recommendationCard:ws,expanded:Cs,cardHeader:Ss,headerLeft:Ls,categoryIcon:Is,headerContent:$s,recommendationTitle:Rs,recommendationCategory:Bs,headerRight:Vs,priorityBadge:ks,statusBadge:Ms,expandIcon:Es,cardBody:Ts,description:As,actionItems:Fs,actionItemsTitle:zs,actionItemsList:Ps,impact:qs,effort:Ds,cardActions:Us,actionButton:Hs,primaryButton:Gs,dismissButton:Ws,emptyState:Os,emptySubtext:Qs},Ys=({recommendations:i,onAcknowledge:n,onStart:r,onComplete:_,onDismiss:s})=>{const[h,d]=f.useState(null),[w,L]=f.useState("all"),[C,y]=f.useState(null),I=a=>({critical:"#d32f2f",high:"#f57c00",medium:"#fbc02d",low:"#689f38"})[a],R=a=>({engagement:"üéØ",content_quality:"üìö",responsiveness:"‚ö°",assessment:"‚úÖ",communication:"üí¨",organization:"üìã",accessibility:"‚ôø",technical:"‚öôÔ∏è"})[a]||"üìå",S=async(a,j,v)=>{try{switch(y(a),j){case"acknowledge":await n(a);break;case"start":await r(a);break;case"complete":await _(a);break;case"dismiss":v&&await s(a,v);break}}catch(k){console.error("Error performing action:",k),alert("Failed to perform action. Please try again.")}finally{y(null)}},B=a=>{d(h===a?null:a)},$=[...w==="all"?i:i.filter(a=>a.priority===w)].sort((a,j)=>{const v={critical:0,high:1,medium:2,low:3};return v[a.priority]-v[j.priority]});return!i||i.length===0?e.jsxs("div",{className:m.widget,children:[e.jsx("h2",{className:m.title,children:"Teaching Recommendations"}),e.jsxs("div",{className:m.emptyState,children:[e.jsx("p",{children:"üéâ Great job! No recommendations at this time."}),e.jsx("p",{className:m.emptySubtext,children:"Keep up the excellent work with your teaching."})]})]}):e.jsxs("div",{className:m.widget,children:[e.jsxs("div",{className:m.header,children:[e.jsx("h2",{className:m.title,children:"Teaching Recommendations"}),e.jsxs("div",{className:m.filters,children:[e.jsxs("button",{className:`${m.filterButton} ${w==="all"?m.active:""}`,onClick:()=>L("all"),children:["All (",i.length,")"]}),e.jsxs("button",{className:`${m.filterButton} ${w==="critical"?m.active:""}`,onClick:()=>L("critical"),children:["Critical (",i.filter(a=>a.priority==="critical").length,")"]}),e.jsxs("button",{className:`${m.filterButton} ${w==="high"?m.active:""}`,onClick:()=>L("high"),children:["High (",i.filter(a=>a.priority==="high").length,")"]})]})]}),e.jsx("div",{className:m.recommendationsList,children:$.map(a=>e.jsxs("div",{className:`${m.recommendationCard} ${h===a.id?m.expanded:""}`,children:[e.jsxs("div",{className:m.cardHeader,onClick:()=>B(a.id),children:[e.jsxs("div",{className:m.headerLeft,children:[e.jsx("span",{className:m.categoryIcon,children:R(a.category)}),e.jsxs("div",{className:m.headerContent,children:[e.jsx("h3",{className:m.recommendationTitle,children:a.title}),e.jsx("p",{className:m.recommendationCategory,children:a.category.replace("_"," ")})]})]}),e.jsxs("div",{className:m.headerRight,children:[e.jsx("span",{className:m.priorityBadge,style:{backgroundColor:I(a.priority)},children:a.priority}),e.jsx("span",{className:m.statusBadge,children:a.status.replace("_"," ")}),e.jsx("span",{className:m.expandIcon,children:h===a.id?"‚ñº":"‚ñ∂"})]})]}),h===a.id&&e.jsxs("div",{className:m.cardBody,children:[e.jsx("p",{className:m.description,children:a.description}),a.action_items&&a.action_items.length>0&&e.jsxs("div",{className:m.actionItems,children:[e.jsx("h4",{className:m.actionItemsTitle,children:"Action Items:"}),e.jsx("ul",{className:m.actionItemsList,children:a.action_items.map((j,v)=>e.jsx("li",{children:j},v))})]}),a.expected_impact&&e.jsxs("div",{className:m.impact,children:[e.jsx("strong",{children:"Expected Impact:"})," ",a.expected_impact]}),a.estimated_effort&&e.jsxs("div",{className:m.effort,children:[e.jsx("strong",{children:"Estimated Effort:"})," ",a.estimated_effort]}),e.jsxs("div",{className:m.cardActions,children:[a.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:m.actionButton,onClick:()=>S(a.id,"acknowledge"),disabled:C===a.id,children:"Acknowledge"}),e.jsx("button",{className:m.actionButton,onClick:()=>S(a.id,"start"),disabled:C===a.id,children:"Start Working"})]}),a.status==="acknowledged"&&e.jsx("button",{className:m.actionButton,onClick:()=>S(a.id,"start"),disabled:C===a.id,children:"Start Working"}),a.status==="in_progress"&&e.jsx("button",{className:`${m.actionButton} ${m.primaryButton}`,onClick:()=>S(a.id,"complete"),disabled:C===a.id,children:"Mark Complete"}),e.jsx("button",{className:`${m.actionButton} ${m.dismissButton}`,onClick:()=>{const j=prompt("Why are you dismissing this recommendation?");j&&S(a.id,"dismiss",j)},disabled:C===a.id,children:"Dismiss"})]})]})]},a.id))})]})},Ks="_dashboard_zfiex_13",Js="_header_zfiex_22",Xs="_headerContent_zfiex_31",Zs="_title_zfiex_35",et="_subtitle_zfiex_42",st="_controls_zfiex_49",tt="_label_zfiex_55",at="_select_zfiex_61",nt="_refreshButton_zfiex_81",rt="_summaryCards_zfiex_102",ct="_card_zfiex_109",it="_cardIcon_zfiex_125",ot="_cardContent_zfiex_130",lt="_cardTitle_zfiex_134",dt="_cardValue_zfiex_143",mt="_cardSubvalue_zfiex_150",_t="_trend_zfiex_157",pt="_improving_zfiex_169",ht="_stable_zfiex_174",gt="_declining_zfiex_179",ut="_widgetsGrid_zfiex_185",xt="_widgetFull_zfiex_191",jt="_widgetHalf_zfiex_195",Nt="_loadingContainer_zfiex_200",ft="_spinner_zfiex_209",vt="_spin_zfiex_209",bt="_errorContainer_zfiex_229",yt="_retryButton_zfiex_250",l={dashboard:Ks,header:Js,headerContent:Xs,title:Zs,subtitle:et,controls:st,label:tt,select:at,refreshButton:nt,summaryCards:rt,card:ct,cardIcon:it,cardContent:ot,cardTitle:lt,cardValue:dt,cardSubvalue:mt,trend:_t,improving:pt,stable:ht,declining:gt,widgetsGrid:ut,widgetFull:xt,widgetHalf:jt,loadingContainer:Nt,spinner:ft,spin:vt,errorContainer:bt,retryButton:yt},It=({instructorId:i,courseId:n})=>{const[r,_]=f.useState("30d"),{effectiveness:s,coursePerformances:h,engagement:d,recommendations:w,peerComparisons:L,contentEffectiveness:C,isLoading:y,error:I,refetch:R,acknowledgeRecommendation:S,startRecommendation:B,completeRecommendation:V,dismissRecommendation:$}=q(i,n,r),a=v=>{_(v.target.value)},j=()=>{R()};return y?e.jsx("div",{className:l.dashboard,children:e.jsxs("div",{className:l.loadingContainer,children:[e.jsx("div",{className:l.spinner}),e.jsx("p",{children:"Loading instructor insights..."})]})}):I?e.jsx("div",{className:l.dashboard,children:e.jsxs("div",{className:l.errorContainer,children:[e.jsx("h2",{children:"Error Loading Insights"}),e.jsx("p",{children:I}),e.jsx("button",{onClick:j,className:l.retryButton,children:"Retry"})]})}):e.jsxs("div",{className:l.dashboard,children:[e.jsxs("div",{className:l.header,children:[e.jsxs("div",{className:l.headerContent,children:[e.jsx("h1",{className:l.title,children:"Instructor Insights"}),e.jsx("p",{className:l.subtitle,children:"Track your teaching effectiveness and receive personalized improvement recommendations"})]}),e.jsxs("div",{className:l.controls,children:[e.jsx("label",{htmlFor:"timeRange",className:l.label,children:"Time Range:"}),e.jsxs("select",{id:"timeRange",value:r,onChange:a,className:l.select,children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"90d",children:"Last 90 Days"}),e.jsx("option",{value:"1y",children:"Last Year"}),e.jsx("option",{value:"all",children:"All Time"})]}),e.jsx("button",{onClick:j,className:l.refreshButton,title:"Refresh data",children:"‚Üª Refresh"})]})]}),s&&e.jsxs("div",{className:l.summaryCards,children:[e.jsxs("div",{className:l.card,children:[e.jsx("div",{className:l.cardIcon,style:{color:"#4caf50"},children:"‚≠ê"}),e.jsxs("div",{className:l.cardContent,children:[e.jsx("h3",{className:l.cardTitle,children:"Overall Rating"}),e.jsxs("div",{className:l.cardValue,children:[s.overall_rating?.toFixed(1)||"N/A",e.jsx("span",{className:l.cardSubvalue,children:" / 5.0"})]}),s.rating_trend&&e.jsxs("div",{className:`${l.trend} ${l[s.rating_trend]}`,children:[s.rating_trend==="improving"&&"‚Üë",s.rating_trend==="declining"&&"‚Üì",s.rating_trend==="stable"&&"‚Üí"," ",s.rating_trend]})]})]}),e.jsxs("div",{className:l.card,children:[e.jsx("div",{className:l.cardIcon,style:{color:"#2196f3"},children:"üë•"}),e.jsxs("div",{className:l.cardContent,children:[e.jsx("h3",{className:l.cardTitle,children:"Students Taught"}),e.jsx("div",{className:l.cardValue,children:s.total_students_taught})]})]}),e.jsxs("div",{className:l.card,children:[e.jsx("div",{className:l.cardIcon,style:{color:"#ff9800"},children:"üìà"}),e.jsxs("div",{className:l.cardContent,children:[e.jsx("h3",{className:l.cardTitle,children:"Completion Rate"}),e.jsxs("div",{className:l.cardValue,children:[s.course_completion_rate?.toFixed(1)||"N/A",e.jsx("span",{className:l.cardSubvalue,children:"%"})]})]})]}),e.jsxs("div",{className:l.card,children:[e.jsx("div",{className:l.cardIcon,style:{color:"#9c27b0"},children:"üéØ"}),e.jsxs("div",{className:l.cardContent,children:[e.jsx("h3",{className:l.cardTitle,children:"Engagement Score"}),e.jsxs("div",{className:l.cardValue,children:[s.engagement_score?.toFixed(0)||"N/A",e.jsx("span",{className:l.cardSubvalue,children:" / 100"})]}),s.engagement_trend&&e.jsxs("div",{className:`${l.trend} ${l[s.engagement_trend]}`,children:[s.engagement_trend==="improving"&&"‚Üë",s.engagement_trend==="declining"&&"‚Üì",s.engagement_trend==="stable"&&"‚Üí"," ",s.engagement_trend]})]})]})]}),e.jsxs("div",{className:l.widgetsGrid,children:[e.jsx("div",{className:l.widgetFull,children:e.jsx(Ys,{recommendations:w,onAcknowledge:S,onStart:B,onComplete:V,onDismiss:$})}),e.jsx("div",{className:l.widgetHalf,children:e.jsx(us,{coursePerformances:h,peerComparisons:L})}),e.jsx("div",{className:l.widgetHalf,children:e.jsx(Te,{engagement:d})}),e.jsx("div",{className:l.widgetFull,children:e.jsx(_e,{contentEffectiveness:C,timeRange:r})})]})]})};export{It as InstructorInsightsDashboard,It as default};
//# sourceMappingURL=InstructorInsightsDashboard-Bq9gpbrj.js.map
