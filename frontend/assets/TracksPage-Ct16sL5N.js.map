{"version":3,"file":"TracksPage-Ct16sL5N.js","sources":["../../src/services/trackService.ts","../../src/features/tracks/components/TrackCard.tsx","../../src/features/tracks/components/CreateTrackModal.tsx","../../src/features/tracks/components/EditTrackModal.tsx","../../src/features/tracks/pages/TracksPage.tsx"],"sourcesContent":["/**\n * Track Service\n *\n * BUSINESS CONTEXT:\n * Manages learning tracks (learning paths) within organizations.\n * Tracks are collections of courses that form a structured learning journey.\n * Organization admins create and manage tracks for their teams.\n *\n * TECHNICAL IMPLEMENTATION:\n * - Uses centralized apiClient with authentication\n * - Handles track CRUD operations\n * - Manages track enrollments and analytics\n * - Integrates with organization-management service (port 8005)\n */\n\nimport { apiClient } from './apiClient';\n\n/**\n * Track Interface\n */\nexport interface Track {\n  id: string;\n  name: string;\n  description?: string;\n  project_id: string;\n  organization_id: string;\n  target_audience: string[];\n  prerequisites: string[];\n  learning_objectives: string[];\n  duration_weeks?: number;\n  difficulty_level: 'beginner' | 'intermediate' | 'advanced';\n  max_students?: number;\n  status: 'draft' | 'active' | 'archived';\n  enrollment_count: number;\n  instructor_count: number;\n  created_at: string;\n  updated_at: string;\n}\n\n/**\n * Create Track Request\n */\nexport interface CreateTrackRequest {\n  name: string;\n  description?: string;\n  project_id: string;\n  target_audience?: string[];\n  prerequisites?: string[];\n  learning_objectives?: string[];\n  duration_weeks?: number;\n  difficulty_level?: 'beginner' | 'intermediate' | 'advanced';\n  max_students?: number;\n}\n\n/**\n * Update Track Request\n */\nexport interface UpdateTrackRequest {\n  name?: string;\n  description?: string;\n  target_audience?: string[];\n  prerequisites?: string[];\n  learning_objectives?: string[];\n  duration_weeks?: number;\n  difficulty_level?: 'beginner' | 'intermediate' | 'advanced';\n  max_students?: number;\n  status?: 'draft' | 'active' | 'archived';\n}\n\n/**\n * Track List Response (for pagination support)\n */\nexport interface TrackListResponse {\n  data: Track[];\n  total: number;\n  page: number;\n  limit: number;\n  pages: number;\n}\n\n/**\n * Track Enrollment Request\n */\nexport interface TrackEnrollmentRequest {\n  student_emails: string[];\n  auto_approve?: boolean;\n}\n\n/**\n * Track Enrollment Response\n */\nexport interface TrackEnrollmentResponse {\n  track_id: string;\n  successful_enrollments: string[];\n  failed_enrollments: Array<{ email: string; reason: string }>;\n  total_enrolled: number;\n}\n\n/**\n * Track Analytics\n */\nexport interface TrackAnalytics {\n  track_id: string;\n  track_name: string;\n  enrollment_count: number;\n  completion_rate: number;\n  average_progress: number;\n  active_students: number;\n  completed_students: number;\n  generated_at: string;\n}\n\n/**\n * Track Service Class\n *\n * WHY THIS APPROACH:\n * - Centralized track API logic\n * - Type-safe interfaces for all operations\n * - Supports organization-level track management\n * - Handles course sequencing and learning paths\n */\nclass TrackService {\n  private baseUrl = '/tracks/';\n\n  /**\n   * Get all tracks for an organization\n   *\n   * BUSINESS LOGIC:\n   * Organization admins view all tracks in their organization.\n   * Supports filtering by project, status, and difficulty.\n   *\n   * @param organizationId - Organization ID\n   * @param filters - Optional filters (project_id, status, difficulty_level)\n   * @returns Array of tracks\n   */\n  async getOrganizationTracks(\n    organizationId: string,\n    filters?: {\n      project_id?: string;\n      status?: string;\n      difficulty_level?: string;\n    }\n  ): Promise<Track[]> {\n    const params: Record<string, string> = {\n      organization_id: organizationId,\n    };\n\n    if (filters?.project_id) params.project_id = filters.project_id;\n    if (filters?.status) params.track_status = filters.status;\n    if (filters?.difficulty_level) params.difficulty_level = filters.difficulty_level;\n\n    return await apiClient.get<Track[]>(this.baseUrl, { params });\n  }\n\n  /**\n   * Get tracks by project\n   *\n   * BUSINESS LOGIC:\n   * View all tracks within a specific project.\n   * Projects can have multiple tracks (e.g., \"Web Dev Fundamentals\", \"Advanced Web Dev\").\n   *\n   * @param projectId - Project ID\n   * @param status - Optional status filter\n   * @returns Array of tracks\n   */\n  async getProjectTracks(projectId: string, status?: string): Promise<Track[]> {\n    const params: Record<string, string> = {\n      project_id: projectId,\n    };\n\n    if (status) params.track_status = status;\n\n    return await apiClient.get<Track[]>(this.baseUrl, { params });\n  }\n\n  /**\n   * Get track by ID\n   *\n   * @param trackId - Track ID\n   * @returns Track details with enrollment and instructor counts\n   */\n  async getTrackById(trackId: string): Promise<Track> {\n    return await apiClient.get<Track>(`${this.baseUrl}/${trackId}`);\n  }\n\n  /**\n   * Create new track\n   *\n   * BUSINESS LOGIC:\n   * Organization admins create learning tracks to structure course content.\n   * Each track belongs to a project and can contain multiple courses.\n   *\n   * @param data - Track creation data\n   * @returns Created track\n   */\n  async createTrack(data: CreateTrackRequest): Promise<Track> {\n    return await apiClient.post<Track>(this.baseUrl, data);\n  }\n\n  /**\n   * Update existing track\n   *\n   * BUSINESS LOGIC:\n   * Organization admins can modify track details, learning objectives,\n   * difficulty level, and capacity limits.\n   *\n   * @param trackId - Track ID\n   * @param data - Updated track data\n   * @returns Updated track\n   */\n  async updateTrack(trackId: string, data: UpdateTrackRequest): Promise<Track> {\n    return await apiClient.put<Track>(`${this.baseUrl}/${trackId}`, data);\n  }\n\n  /**\n   * Delete track\n   *\n   * BUSINESS LOGIC:\n   * Soft delete for tracks with active enrollments.\n   * Hard delete only allowed for tracks with no enrollments.\n   *\n   * @param trackId - Track ID\n   */\n  async deleteTrack(trackId: string): Promise<void> {\n    await apiClient.delete(`${this.baseUrl}/${trackId}`);\n  }\n\n  /**\n   * Publish track (make available for enrollment)\n   *\n   * BUSINESS LOGIC:\n   * Publishing a track makes it visible to students for enrollment.\n   * Requires track to have at least one course assigned.\n   *\n   * @param trackId - Track ID\n   * @returns Published track with updated status\n   */\n  async publishTrack(trackId: string): Promise<{ message: string; track_id: string; status: string }> {\n    return await apiClient.post(`${this.baseUrl}/${trackId}/publish`);\n  }\n\n  /**\n   * Unpublish track (make unavailable for enrollment)\n   *\n   * BUSINESS LOGIC:\n   * Unpublishing a track hides it from new enrollments.\n   * Existing enrollments remain active.\n   *\n   * @param trackId - Track ID\n   * @returns Unpublished track with updated status\n   */\n  async unpublishTrack(trackId: string): Promise<{ message: string; track_id: string; status: string }> {\n    return await apiClient.post(`${this.baseUrl}/${trackId}/unpublish`);\n  }\n\n  /**\n   * Bulk enroll students in track\n   *\n   * BUSINESS LOGIC:\n   * Organization admins can enroll multiple students at once.\n   * Students are enrolled in all courses within the track.\n   *\n   * @param trackId - Track ID\n   * @param data - Enrollment request with student emails\n   * @returns Enrollment results (successful and failed)\n   */\n  async bulkEnrollStudents(\n    trackId: string,\n    data: TrackEnrollmentRequest\n  ): Promise<TrackEnrollmentResponse> {\n    return await apiClient.post<TrackEnrollmentResponse>(\n      `${this.baseUrl}/${trackId}/enroll`,\n      data\n    );\n  }\n\n  /**\n   * Get track enrollments\n   *\n   * BUSINESS LOGIC:\n   * View all student enrollments for a track.\n   * Supports filtering by enrollment status.\n   *\n   * @param trackId - Track ID\n   * @param enrollmentStatus - Optional status filter\n   * @returns Enrollment list with student details\n   */\n  async getTrackEnrollments(\n    trackId: string,\n    enrollmentStatus?: string\n  ): Promise<{\n    track_id: string;\n    enrollments: any[];\n    total_count: number;\n  }> {\n    const params: Record<string, string> = {};\n    if (enrollmentStatus) params.enrollment_status = enrollmentStatus;\n\n    return await apiClient.get(`${this.baseUrl}/${trackId}/enrollments`, { params });\n  }\n\n  /**\n   * Get track analytics\n   *\n   * BUSINESS LOGIC:\n   * Comprehensive analytics for track performance:\n   * - Enrollment trends\n   * - Completion rates\n   * - Student progress\n   * - Engagement metrics\n   *\n   * @param trackId - Track ID\n   * @returns Track analytics data\n   */\n  async getTrackAnalytics(trackId: string): Promise<TrackAnalytics> {\n    const response = await apiClient.get<{\n      track_id: string;\n      track_name: string;\n      analytics: TrackAnalytics;\n      generated_at: string;\n    }>(`${this.baseUrl}/${trackId}/analytics`);\n\n    return response.analytics;\n  }\n\n  /**\n   * Duplicate track\n   *\n   * BUSINESS LOGIC:\n   * Create a copy of an existing track with new name.\n   * Useful for creating similar tracks or versioning.\n   *\n   * @param trackId - Track ID to duplicate\n   * @param newName - Optional new name for duplicated track\n   * @returns Duplicated track details\n   */\n  async duplicateTrack(\n    trackId: string,\n    newName?: string\n  ): Promise<{\n    message: string;\n    original_track_id: string;\n    new_track_id: string;\n    new_track_name: string;\n  }> {\n    const body = newName ? { new_name: newName } : {};\n    return await apiClient.post(`${this.baseUrl}/${trackId}/duplicate`, body);\n  }\n\n  /**\n   * Get track locations (for instructor assignment)\n   *\n   * BUSINESS LOGIC:\n   * When a track belongs to a project with multiple geographic locations,\n   * instructors can be assigned to specific locations.\n   * This returns available locations for the track's parent project.\n   *\n   * @param trackId - Track ID\n   * @returns Array of available locations\n   */\n  async getTrackLocations(trackId: string): Promise<any[]> {\n    return await apiClient.get<any[]>(`${this.baseUrl}/${trackId}/locations`);\n  }\n\n  /**\n   * Search tracks by name\n   *\n   * BUSINESS LOGIC:\n   * Search tracks within organization by name or description.\n   * Client-side filtering is preferred for better UX.\n   *\n   * @param organizationId - Organization ID\n   * @param query - Search query\n   * @returns Matching tracks\n   */\n  async searchTracks(organizationId: string, query: string): Promise<Track[]> {\n    const allTracks = await this.getOrganizationTracks(organizationId);\n\n    const lowerQuery = query.toLowerCase();\n    return allTracks.filter(\n      (track) =>\n        track.name.toLowerCase().includes(lowerQuery) ||\n        track.description?.toLowerCase().includes(lowerQuery)\n    );\n  }\n}\n\n// Export singleton instance\nexport const trackService = new TrackService();\n","/**\n * Track Card Component\n *\n * BUSINESS CONTEXT:\n * Displays a single learning track in a card format.\n * Shows track metadata, enrollment counts, difficulty level, and quick actions.\n * Used by organization admins to manage learning paths.\n *\n * TECHNICAL IMPLEMENTATION:\n * - Reusable card component with action buttons\n * - Links to track detail page (courses within track)\n * - Displays status, enrollment stats, and learning objectives\n */\n\nimport React from 'react';\nimport { Card } from '../../../components/atoms/Card';\nimport { Button } from '../../../components/atoms/Button';\nimport type { Track } from '../../../services';\nimport styles from './TrackCard.module.css';\n\n/**\n * Track Card Props\n */\nexport interface TrackCardProps {\n  track: Track;\n  /** Optional callback when edit button is clicked */\n  onEdit?: (trackId: string) => void;\n  /** Optional callback when delete button is clicked */\n  onDelete?: (trackId: string) => void;\n  /** Optional callback when view courses button is clicked */\n  onViewCourses?: (trackId: string) => void;\n}\n\n/**\n * Track Card Component\n *\n * WHY THIS APPROACH:\n * - Reusable card for track management views\n * - Clean, accessible card layout\n * - Quick actions without navigation\n * - Visual status indicators\n */\nexport const TrackCard: React.FC<TrackCardProps> = ({\n  track,\n  onEdit,\n  onDelete,\n  onViewCourses,\n}) => {\n  /**\n   * Format duration for display\n   */\n  const formatDuration = () => {\n    if (!track.duration_weeks) return 'Duration not specified';\n    const weeks = track.duration_weeks;\n    if (weeks === 1) return '1 week';\n    return `${weeks} weeks`;\n  };\n\n  /**\n   * Format difficulty level for display\n   */\n  const formatDifficulty = (level: string) => {\n    return level.charAt(0).toUpperCase() + level.slice(1);\n  };\n\n  /**\n   * Get status badge color\n   */\n  const getStatusClass = () => {\n    switch (track.status) {\n      case 'active':\n        return styles['status-active'];\n      case 'draft':\n        return styles['status-draft'];\n      case 'archived':\n        return styles['status-archived'];\n      default:\n        return styles['status-draft'];\n    }\n  };\n\n  /**\n   * Get difficulty badge color\n   */\n  const getDifficultyClass = () => {\n    switch (track.difficulty_level) {\n      case 'beginner':\n        return styles['difficulty-beginner'];\n      case 'intermediate':\n        return styles['difficulty-intermediate'];\n      case 'advanced':\n        return styles['difficulty-advanced'];\n      default:\n        return styles['difficulty-beginner'];\n    }\n  };\n\n  /**\n   * Get enrollment capacity percentage\n   */\n  const getCapacityPercentage = () => {\n    if (!track.max_students) return 0;\n    return Math.round((track.enrollment_count / track.max_students) * 100);\n  };\n\n  /**\n   * Get capacity status (for color coding)\n   */\n  const getCapacityStatus = () => {\n    const percentage = getCapacityPercentage();\n    if (percentage >= 90) return 'critical';\n    if (percentage >= 75) return 'warning';\n    return 'healthy';\n  };\n\n  return (\n    <Card variant=\"outlined\" padding=\"medium\" className={styles['track-card']}>\n      {/* Card Header */}\n      <div className={styles['card-header']}>\n        <div className={styles['title-section']}>\n          <h3 className={styles['track-title']}>{track.name}</h3>\n          <div className={styles['status-badges']}>\n            <span className={`${styles['status-badge']} ${getStatusClass()}`}>\n              {track.status.charAt(0).toUpperCase() + track.status.slice(1)}\n            </span>\n            <span className={`${styles['difficulty-badge']} ${getDifficultyClass()}`}>\n              {formatDifficulty(track.difficulty_level)}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      {/* Card Body */}\n      <div className={styles['card-body']}>\n        {/* Description */}\n        <p className={styles['track-description']}>\n          {track.description || 'No description available'}\n        </p>\n\n        {/* Metadata Grid */}\n        <div className={styles['metadata-grid']}>\n          <div className={styles['metadata-item']}>\n            <span className={styles['metadata-icon']}>üìÖ</span>\n            <div className={styles['metadata-content']}>\n              <span className={styles['metadata-label']}>Duration</span>\n              <span className={styles['metadata-value']}>{formatDuration()}</span>\n            </div>\n          </div>\n\n          <div className={styles['metadata-item']}>\n            <span className={styles['metadata-icon']}>üë•</span>\n            <div className={styles['metadata-content']}>\n              <span className={styles['metadata-label']}>Enrolled</span>\n              <span className={styles['metadata-value']}>\n                {track.enrollment_count}\n                {track.max_students && ` / ${track.max_students}`}\n              </span>\n            </div>\n          </div>\n\n          <div className={styles['metadata-item']}>\n            <span className={styles['metadata-icon']}>üë®‚Äçüè´</span>\n            <div className={styles['metadata-content']}>\n              <span className={styles['metadata-label']}>Instructors</span>\n              <span className={styles['metadata-value']}>\n                {track.instructor_count || 0}\n              </span>\n            </div>\n          </div>\n\n          <div className={styles['metadata-item']}>\n            <span className={styles['metadata-icon']}>üéØ</span>\n            <div className={styles['metadata-content']}>\n              <span className={styles['metadata-label']}>Objectives</span>\n              <span className={styles['metadata-value']}>\n                {track.learning_objectives.length || 0}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        {/* Capacity Bar (if max_students is set) */}\n        {track.max_students && (\n          <div className={styles['capacity-section']}>\n            <div className={styles['capacity-label']}>\n              <span>Enrollment Capacity</span>\n              <span className={styles['capacity-percentage']}>\n                {getCapacityPercentage()}%\n              </span>\n            </div>\n            <div className={styles['capacity-bar']}>\n              <div\n                className={`${styles['capacity-fill']} ${\n                  styles[`capacity-${getCapacityStatus()}`]\n                }`}\n                style={{ width: `${getCapacityPercentage()}%` }}\n              />\n            </div>\n          </div>\n        )}\n\n        {/* Learning Objectives Preview */}\n        {track.learning_objectives.length > 0 && (\n          <div className={styles['objectives-section']}>\n            <h4 className={styles['objectives-title']}>Learning Objectives:</h4>\n            <ul className={styles['objectives-list']}>\n              {track.learning_objectives.slice(0, 3).map((objective, index) => (\n                <li key={index} className={styles['objective-item']}>\n                  {objective}\n                </li>\n              ))}\n              {track.learning_objectives.length > 3 && (\n                <li className={styles['objective-item-more']}>\n                  +{track.learning_objectives.length - 3} more...\n                </li>\n              )}\n            </ul>\n          </div>\n        )}\n      </div>\n\n      {/* Card Footer - Action Buttons */}\n      <div className={styles['card-footer']}>\n        <div className={styles['action-buttons']}>\n          {onViewCourses && (\n            <Button\n              variant=\"ghost\"\n              size=\"small\"\n              onClick={() => onViewCourses(track.id)}\n            >\n              View Courses\n            </Button>\n          )}\n          {onEdit && (\n            <Button\n              variant=\"ghost\"\n              size=\"small\"\n              onClick={() => onEdit(track.id)}\n            >\n              Edit\n            </Button>\n          )}\n          {onDelete && (\n            <Button\n              variant=\"ghost\"\n              size=\"small\"\n              onClick={() => onDelete(track.id)}\n              className={styles['delete-button']}\n            >\n              Delete\n            </Button>\n          )}\n        </div>\n\n        {/* Metadata Footer */}\n        <div className={styles['metadata-footer']}>\n          <span className={styles['metadata-footer-item']}>\n            Created {new Date(track.created_at).toLocaleDateString()}\n          </span>\n        </div>\n      </div>\n    </Card>\n  );\n};\n","/**\n * Create Track Modal Component\n *\n * BUSINESS CONTEXT:\n * Modal for creating new learning tracks within a project.\n * Organization admins use this to structure courses into learning paths.\n * Validates input and provides immediate feedback.\n *\n * TECHNICAL IMPLEMENTATION:\n * - Form validation with real-time error messages\n * - React Query mutation for API integration\n * - Loading states and error handling\n */\n\nimport React, { useState } from 'react';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Modal } from '../../../components/atoms/Modal';\nimport { Button } from '../../../components/atoms/Button';\nimport { Input } from '../../../components/atoms/Input';\nimport { Select } from '../../../components/atoms/Select';\nimport { Textarea } from '../../../components/atoms/Textarea';\nimport { trackService, type CreateTrackRequest } from '../../../services';\nimport styles from './CreateTrackModal.module.css';\n\n/**\n * Create Track Modal Props\n */\nexport interface CreateTrackModalProps {\n  /** Whether modal is open */\n  isOpen: boolean;\n  /** Callback when modal should close */\n  onClose: () => void;\n  /** Project ID for the track */\n  projectId: string;\n  /** Optional callback when track is created successfully */\n  onSuccess?: (trackId: string) => void;\n}\n\n/**\n * Form Data Interface\n */\ninterface TrackFormData {\n  name: string;\n  description: string;\n  duration_weeks: string;\n  difficulty_level: 'beginner' | 'intermediate' | 'advanced';\n  max_students: string;\n  target_audience: string;\n  prerequisites: string;\n  learning_objectives: string;\n}\n\n/**\n * Initial Form State\n */\nconst initialFormData: TrackFormData = {\n  name: '',\n  description: '',\n  duration_weeks: '',\n  difficulty_level: 'beginner',\n  max_students: '',\n  target_audience: '',\n  prerequisites: '',\n  learning_objectives: '',\n};\n\n/**\n * Create Track Modal Component\n *\n * WHY THIS APPROACH:\n * - Controlled form with local state for responsiveness\n * - React Query mutation for optimistic updates\n * - Form validation before submission\n * - Clear error messaging\n */\nexport const CreateTrackModal: React.FC<CreateTrackModalProps> = ({\n  isOpen,\n  onClose,\n  projectId,\n  onSuccess,\n}) => {\n  const queryClient = useQueryClient();\n  const [formData, setFormData] = useState<TrackFormData>(initialFormData);\n  const [validationErrors, setValidationErrors] = useState<Record<string, string>>({});\n\n  /**\n   * Create track mutation\n   */\n  const createMutation = useMutation({\n    mutationFn: (data: CreateTrackRequest) => {\n      console.log('[CreateTrackModal] mutationFn called with data:', data);\n      return trackService.createTrack(data);\n    },\n    onSuccess: (createdTrack) => {\n      console.log('[CreateTrackModal] Track created successfully:', createdTrack);\n\n      // Invalidate tracks query to refresh list\n      queryClient.invalidateQueries({ queryKey: ['tracks'] });\n\n      // Call success callback\n      if (onSuccess) {\n        onSuccess(createdTrack.id);\n      }\n\n      // Reset form and close modal\n      setFormData(initialFormData);\n      setValidationErrors({});\n      onClose();\n    },\n    onError: (error: any) => {\n      console.error('[CreateTrackModal] Failed to create track:', error);\n      console.error('[CreateTrackModal] Error details:', {\n        message: error.message,\n        response: error.response,\n        stack: error.stack,\n      });\n      // Show error message in form\n      setValidationErrors({\n        submit: error.message || 'Failed to create track. Please try again.',\n      });\n    },\n  });\n\n  /**\n   * Handle input change\n   */\n  const handleChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>\n  ) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n\n    // Clear validation error for this field\n    if (validationErrors[name]) {\n      setValidationErrors((prev) => {\n        const newErrors = { ...prev };\n        delete newErrors[name];\n        return newErrors;\n      });\n    }\n  };\n\n  /**\n   * Validate form data\n   */\n  const validateForm = (): boolean => {\n    const errors: Record<string, string> = {};\n\n    // Required fields\n    if (!formData.name.trim()) {\n      errors.name = 'Track name is required';\n    } else if (formData.name.length < 3) {\n      errors.name = 'Track name must be at least 3 characters';\n    } else if (formData.name.length > 200) {\n      errors.name = 'Track name must be less than 200 characters';\n    }\n\n    // Optional numeric fields validation\n    if (formData.duration_weeks && isNaN(Number(formData.duration_weeks))) {\n      errors.duration_weeks = 'Duration must be a number';\n    } else if (formData.duration_weeks && Number(formData.duration_weeks) < 1) {\n      errors.duration_weeks = 'Duration must be at least 1 week';\n    } else if (formData.duration_weeks && Number(formData.duration_weeks) > 52) {\n      errors.duration_weeks = 'Duration must be less than 52 weeks';\n    }\n\n    if (formData.max_students && isNaN(Number(formData.max_students))) {\n      errors.max_students = 'Max students must be a number';\n    } else if (formData.max_students && Number(formData.max_students) < 1) {\n      errors.max_students = 'Max students must be at least 1';\n    } else if (formData.max_students && Number(formData.max_students) > 1000) {\n      errors.max_students = 'Max students must be less than 1000';\n    }\n\n    setValidationErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  /**\n   * Handle form submission\n   */\n  const handleSubmit = async (e: React.FormEvent | React.MouseEvent) => {\n    console.log('[CreateTrackModal] handleSubmit called');\n    console.log('[CreateTrackModal] Project ID:', projectId);\n    console.log('[CreateTrackModal] Form data:', formData);\n\n    e.preventDefault();\n\n    // Validate form\n    const isValid = validateForm();\n    console.log('[CreateTrackModal] Validation result:', isValid);\n    console.log('[CreateTrackModal] Validation errors:', validationErrors);\n\n    if (!isValid) {\n      console.error('[CreateTrackModal] Validation failed, not submitting');\n      return;\n    }\n\n    // Parse array fields (comma-separated strings)\n    const parseArrayField = (value: string): string[] => {\n      return value\n        .split('\\n')\n        .map((item) => item.trim())\n        .filter((item) => item.length > 0);\n    };\n\n    // Build request data\n    const requestData: CreateTrackRequest = {\n      name: formData.name.trim(),\n      description: formData.description.trim() || undefined,\n      project_id: projectId,\n      duration_weeks: formData.duration_weeks ? Number(formData.duration_weeks) : undefined,\n      difficulty_level: formData.difficulty_level,\n      max_students: formData.max_students ? Number(formData.max_students) : undefined,\n      target_audience: parseArrayField(formData.target_audience),\n      prerequisites: parseArrayField(formData.prerequisites),\n      learning_objectives: parseArrayField(formData.learning_objectives),\n    };\n\n    console.log('[CreateTrackModal] Submitting request data:', requestData);\n\n    // Submit mutation\n    createMutation.mutate(requestData);\n    console.log('[CreateTrackModal] Mutation called');\n  };\n\n  /**\n   * Handle modal close\n   */\n  const handleClose = () => {\n    if (!createMutation.isPending) {\n      setFormData(initialFormData);\n      setValidationErrors({});\n      onClose();\n    }\n  };\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onClose={handleClose}\n      title=\"Create New Track\"\n      size=\"large\"\n      preventClose={createMutation.isPending}\n    >\n      <form className={styles.form} onSubmit={handleSubmit}>\n        {/* Track Name */}\n        <div className={styles.formGroup}>\n          <label htmlFor=\"name\" className={styles.label}>\n            Track Name <span className={styles.required}>*</span>\n          </label>\n          <Input\n            id=\"name\"\n            name=\"name\"\n            type=\"text\"\n            value={formData.name}\n            onChange={handleChange}\n            placeholder=\"e.g., Web Development Bootcamp\"\n            disabled={createMutation.isPending}\n            error={validationErrors.name}\n          />\n          {validationErrors.name && (\n            <span className={styles.errorText}>{validationErrors.name}</span>\n          )}\n        </div>\n\n        {/* Description */}\n        <div className={styles.formGroup}>\n          <label htmlFor=\"description\" className={styles.label}>\n            Description\n          </label>\n          <Textarea\n            id=\"description\"\n            name=\"description\"\n            value={formData.description}\n            onChange={handleChange}\n            placeholder=\"Describe what students will learn in this track...\"\n            rows={3}\n            disabled={createMutation.isPending}\n          />\n        </div>\n\n        {/* Two Column Grid */}\n        <div className={styles.gridTwo}>\n          {/* Difficulty Level */}\n          <div className={styles.formGroup}>\n            <label htmlFor=\"difficulty_level\" className={styles.label}>\n              Difficulty Level\n            </label>\n            <Select\n              id=\"difficulty_level\"\n              name=\"difficulty_level\"\n              value={formData.difficulty_level}\n              onChange={(value) => {\n                const event = {\n                  target: { name: 'difficulty_level', value }\n                } as React.ChangeEvent<HTMLSelectElement>;\n                handleChange(event);\n              }}\n              disabled={createMutation.isPending}\n              options={[\n                { value: 'beginner', label: 'Beginner' },\n                { value: 'intermediate', label: 'Intermediate' },\n                { value: 'advanced', label: 'Advanced' },\n              ]}\n            />\n          </div>\n\n          {/* Duration */}\n          <div className={styles.formGroup}>\n            <label htmlFor=\"duration_weeks\" className={styles.label}>\n              Duration (weeks)\n            </label>\n            <Input\n              id=\"duration_weeks\"\n              name=\"duration_weeks\"\n              type=\"number\"\n              value={formData.duration_weeks}\n              onChange={handleChange}\n              placeholder=\"e.g., 12\"\n              min=\"1\"\n              max=\"52\"\n              disabled={createMutation.isPending}\n              error={validationErrors.duration_weeks}\n            />\n            {validationErrors.duration_weeks && (\n              <span className={styles.errorText}>{validationErrors.duration_weeks}</span>\n            )}\n          </div>\n        </div>\n\n        {/* Max Students */}\n        <div className={styles.formGroup}>\n          <label htmlFor=\"max_students\" className={styles.label}>\n            Maximum Students (Optional)\n          </label>\n          <Input\n            id=\"max_students\"\n            name=\"max_students\"\n            type=\"number\"\n            value={formData.max_students}\n            onChange={handleChange}\n            placeholder=\"Leave empty for unlimited\"\n            min=\"1\"\n            max=\"1000\"\n            disabled={createMutation.isPending}\n            error={validationErrors.max_students}\n          />\n          {validationErrors.max_students && (\n            <span className={styles.errorText}>{validationErrors.max_students}</span>\n          )}\n        </div>\n\n        {/* Target Audience */}\n        <div className={styles.formGroup}>\n          <label htmlFor=\"target_audience\" className={styles.label}>\n            Target Audience\n          </label>\n          <Textarea\n            id=\"target_audience\"\n            name=\"target_audience\"\n            value={formData.target_audience}\n            onChange={handleChange}\n            placeholder=\"Enter each audience on a new line&#10;e.g., Junior developers&#10;Career changers\"\n            rows={3}\n            disabled={createMutation.isPending}\n          />\n          <span className={styles.helpText}>One item per line</span>\n        </div>\n\n        {/* Prerequisites */}\n        <div className={styles.formGroup}>\n          <label htmlFor=\"prerequisites\" className={styles.label}>\n            Prerequisites\n          </label>\n          <Textarea\n            id=\"prerequisites\"\n            name=\"prerequisites\"\n            value={formData.prerequisites}\n            onChange={handleChange}\n            placeholder=\"Enter each prerequisite on a new line&#10;e.g., Basic HTML knowledge&#10;Familiarity with command line\"\n            rows={3}\n            disabled={createMutation.isPending}\n          />\n          <span className={styles.helpText}>One item per line</span>\n        </div>\n\n        {/* Learning Objectives */}\n        <div className={styles.formGroup}>\n          <label htmlFor=\"learning_objectives\" className={styles.label}>\n            Learning Objectives\n          </label>\n          <Textarea\n            id=\"learning_objectives\"\n            name=\"learning_objectives\"\n            value={formData.learning_objectives}\n            onChange={handleChange}\n            placeholder=\"Enter each objective on a new line&#10;e.g., Build responsive web applications&#10;Deploy to production\"\n            rows={4}\n            disabled={createMutation.isPending}\n          />\n          <span className={styles.helpText}>One objective per line</span>\n        </div>\n\n        {/* Submit Error */}\n        {validationErrors.submit && (\n          <div className={styles.errorBox}>\n            <strong>Error:</strong> {validationErrors.submit}\n          </div>\n        )}\n\n        {/* Form Actions */}\n        <div className={styles.actions}>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            onClick={handleClose}\n            disabled={createMutation.isPending}\n          >\n            Cancel\n          </Button>\n          <Button\n            type=\"submit\"\n            variant=\"primary\"\n            disabled={createMutation.isPending}\n          >\n            {createMutation.isPending ? 'Creating...' : 'Create Track'}\n          </Button>\n        </div>\n      </form>\n    </Modal>\n  );\n};\n","/**\n * Edit Track Modal Component\n *\n * BUSINESS CONTEXT:\n * Organization admins can update track details including name, description,\n * difficulty level, duration, and status.\n *\n * TECHNICAL IMPLEMENTATION:\n * - Controlled form with validation\n * - React Query mutation for API calls\n * - Pre-populated with existing track data\n */\n\nimport React, { useState } from 'react';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport { Modal } from '../../../components/atoms/Modal';\nimport { Button } from '../../../components/atoms/Button';\nimport { Input } from '../../../components/atoms/Input';\nimport { Select } from '../../../components/atoms/Select';\nimport { Textarea } from '../../../components/atoms/Textarea';\nimport { Spinner } from '../../../components/atoms/Spinner';\nimport { trackService, type Track, type UpdateTrackRequest } from '../../../services';\nimport styles from './EditTrackModal.module.css';\n\n/**\n * Edit Track Modal Props\n */\nexport interface EditTrackModalProps {\n  isOpen: boolean;\n  track: Track;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\n/**\n * Form Data Interface\n */\ninterface TrackFormData {\n  name: string;\n  description: string;\n  duration_weeks: string;\n  difficulty_level: 'beginner' | 'intermediate' | 'advanced';\n  max_students: string;\n  status: 'draft' | 'active' | 'archived';\n  target_audience: string;\n  prerequisites: string;\n  learning_objectives: string;\n}\n\n/**\n * Edit Track Modal Component\n */\nexport const EditTrackModal: React.FC<EditTrackModalProps> = ({\n  isOpen,\n  track,\n  onClose,\n  onSuccess,\n}) => {\n  const queryClient = useQueryClient();\n  const [submitError, setSubmitError] = useState<string | null>(null);\n\n  /**\n   * Initialize form with existing track data\n   */\n  const [formData, setFormData] = useState<TrackFormData>({\n    name: track.name,\n    description: track.description || '',\n    duration_weeks: track.duration_weeks?.toString() || '',\n    difficulty_level: track.difficulty_level,\n    max_students: track.max_students?.toString() || '',\n    status: track.status,\n    target_audience: track.target_audience?.join(', ') || '',\n    prerequisites: track.prerequisites?.join(', ') || '',\n    learning_objectives: track.learning_objectives?.join(', ') || '',\n  });\n\n  /**\n   * Handle input changes\n   */\n  const handleChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>\n  ) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n  };\n\n  /**\n   * Update track mutation\n   */\n  const updateMutation = useMutation({\n    mutationFn: (data: UpdateTrackRequest) => trackService.updateTrack(track.id, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['tracks'] });\n      onSuccess();\n      setSubmitError(null);\n    },\n    onError: (error: any) => {\n      setSubmitError(error.message || 'Failed to update track');\n    },\n  });\n\n  /**\n   * Handle form submission\n   */\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    setSubmitError(null);\n\n    // Validate required fields\n    if (!formData.name.trim()) {\n      setSubmitError('Track name is required');\n      return;\n    }\n\n    // Prepare update data\n    const updateData: UpdateTrackRequest = {\n      name: formData.name.trim(),\n      description: formData.description.trim() || undefined,\n      duration_weeks: formData.duration_weeks ? parseInt(formData.duration_weeks, 10) : undefined,\n      difficulty_level: formData.difficulty_level,\n      max_students: formData.max_students ? parseInt(formData.max_students, 10) : undefined,\n      status: formData.status,\n      target_audience: formData.target_audience\n        ? formData.target_audience.split(',').map((s) => s.trim()).filter(Boolean)\n        : undefined,\n      prerequisites: formData.prerequisites\n        ? formData.prerequisites.split(',').map((s) => s.trim()).filter(Boolean)\n        : undefined,\n      learning_objectives: formData.learning_objectives\n        ? formData.learning_objectives.split(',').map((s) => s.trim()).filter(Boolean)\n        : undefined,\n    };\n\n    updateMutation.mutate(updateData);\n  };\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onClose={onClose}\n      title=\"Edit Track\"\n      size=\"large\"\n      footer={\n        <>\n          <Button variant=\"ghost\" onClick={onClose} disabled={updateMutation.isPending}>\n            Cancel\n          </Button>\n          <Button\n            variant=\"primary\"\n            onClick={handleSubmit}\n            disabled={updateMutation.isPending}\n          >\n            {updateMutation.isPending ? <Spinner size=\"small\" /> : 'Save Changes'}\n          </Button>\n        </>\n      }\n    >\n      <form onSubmit={handleSubmit} className={styles.form}>\n        {/* Basic Information */}\n        <div className={styles['form-section']}>\n          <h3 className={styles['section-title']}>Basic Information</h3>\n\n          <Input\n            name=\"name\"\n            label=\"Track Name\"\n            type=\"text\"\n            placeholder=\"Enter track name\"\n            value={formData.name}\n            onChange={handleChange}\n            required\n            fullWidth\n          />\n\n          <Textarea\n            name=\"description\"\n            label=\"Description\"\n            placeholder=\"Describe this learning track\"\n            value={formData.description}\n            onChange={handleChange}\n            fullWidth\n            rows={3}\n          />\n        </div>\n\n        {/* Track Settings */}\n        <div className={styles['form-section']}>\n          <h3 className={styles['section-title']}>Track Settings</h3>\n\n          <div className={styles['form-row']}>\n            <Select\n              name=\"difficulty_level\"\n              label=\"Difficulty Level\"\n              value={formData.difficulty_level}\n              onChange={handleChange}\n              fullWidth\n              required\n            >\n              <option value=\"beginner\">Beginner</option>\n              <option value=\"intermediate\">Intermediate</option>\n              <option value=\"advanced\">Advanced</option>\n            </Select>\n\n            <Select\n              name=\"status\"\n              label=\"Status\"\n              value={formData.status}\n              onChange={handleChange}\n              fullWidth\n              required\n            >\n              <option value=\"draft\">Draft</option>\n              <option value=\"active\">Active</option>\n              <option value=\"archived\">Archived</option>\n            </Select>\n          </div>\n\n          <div className={styles['form-row']}>\n            <Input\n              name=\"duration_weeks\"\n              label=\"Duration (weeks)\"\n              type=\"number\"\n              placeholder=\"e.g., 12\"\n              value={formData.duration_weeks}\n              onChange={handleChange}\n              fullWidth\n              min=\"1\"\n            />\n\n            <Input\n              name=\"max_students\"\n              label=\"Max Students\"\n              type=\"number\"\n              placeholder=\"e.g., 30\"\n              value={formData.max_students}\n              onChange={handleChange}\n              fullWidth\n              min=\"1\"\n            />\n          </div>\n        </div>\n\n        {/* Additional Details */}\n        <div className={styles['form-section']}>\n          <h3 className={styles['section-title']}>Additional Details</h3>\n\n          <Textarea\n            name=\"target_audience\"\n            label=\"Target Audience\"\n            placeholder=\"e.g., Web developers, Data scientists (comma-separated)\"\n            value={formData.target_audience}\n            onChange={handleChange}\n            fullWidth\n            rows={2}\n            helperText=\"Comma-separated list\"\n          />\n\n          <Textarea\n            name=\"prerequisites\"\n            label=\"Prerequisites\"\n            placeholder=\"e.g., Basic programming, HTML/CSS (comma-separated)\"\n            value={formData.prerequisites}\n            onChange={handleChange}\n            fullWidth\n            rows={2}\n            helperText=\"Comma-separated list\"\n          />\n\n          <Textarea\n            name=\"learning_objectives\"\n            label=\"Learning Objectives\"\n            placeholder=\"e.g., Build web apps, Understand React (comma-separated)\"\n            value={formData.learning_objectives}\n            onChange={handleChange}\n            fullWidth\n            rows={3}\n            helperText=\"Comma-separated list\"\n          />\n        </div>\n\n        {/* Error message */}\n        {submitError && (\n          <div className={styles.error} role=\"alert\">\n            {submitError}\n          </div>\n        )}\n      </form>\n    </Modal>\n  );\n};\n","/**\n * Tracks Page\n *\n * BUSINESS CONTEXT:\n * Organization admins manage learning tracks (structured learning paths).\n * Tracks organize courses into cohesive educational journeys.\n * Supports creating, editing, and managing tracks within projects.\n *\n * TECHNICAL IMPLEMENTATION:\n * - Fetches tracks from backend API with React Query\n * - Client-side filtering and search\n * - Responsive grid layout\n * - Modal-based CRUD operations\n */\n\nimport React, { useState, useMemo } from 'react';\nimport { useQuery, useQueryClient } from '@tanstack/react-query';\nimport { DashboardLayout } from '../../../components/templates/DashboardLayout';\nimport { Card } from '../../../components/atoms/Card';\nimport { Button } from '../../../components/atoms/Button';\nimport { Heading } from '../../../components/atoms/Heading';\nimport { Spinner } from '../../../components/atoms/Spinner';\nimport { Input } from '../../../components/atoms/Input';\nimport { Select } from '../../../components/atoms/Select';\nimport { useAuth } from '../../../hooks/useAuth';\nimport { trackService, tokenManager, type Track } from '../../../services';\nimport { TrackCard } from '../components/TrackCard';\nimport { CreateTrackModal } from '../components/CreateTrackModal';\nimport { EditTrackModal } from '../components/EditTrackModal';\nimport styles from './TracksPage.module.css';\n\n/**\n * Tracks Page Component\n *\n * WHY THIS APPROACH:\n * - Organization-scoped track list\n * - Real-time filtering without API calls (better UX)\n * - Modal-based forms (cleaner UI)\n * - Optimistic updates for better perceived performance\n */\nexport const TracksPage: React.FC = () => {\n  const { user, organizationId } = useAuth();\n  const queryClient = useQueryClient();\n\n  // Modal states\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n  const [editingTrack, setEditingTrack] = useState<Track | null>(null);\n\n  // Filter states\n  const [searchQuery, setSearchQuery] = useState('');\n  const [difficultyFilter, setDifficultyFilter] = useState<string>('all');\n  const [statusFilter, setStatusFilter] = useState<string>('all');\n\n  // For creating tracks, we need a project_id\n  // Automatically use the first available training program\n  const [selectedProjectId, setSelectedProjectId] = useState<string>('');\n\n  /**\n   * Fetch organization training programs to get project_id for track creation\n   * Note: Use /courses endpoint with organization_id filter and published_only=false\n   */\n  const { data: programsData } = useQuery({\n    queryKey: ['trainingPrograms', 'organization', organizationId],\n    queryFn: async () => {\n      const token = tokenManager.getToken();\n      const response = await fetch(`/api/v1/courses?organization_id=${organizationId}&published_only=false`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n      if (!response.ok) throw new Error('Failed to fetch programs');\n      return response.json();\n    },\n    enabled: !!organizationId,\n    staleTime: 5 * 60 * 1000,\n  });\n\n  // Automatically set first program as selected project when programs load\n  React.useEffect(() => {\n    if (programsData && !selectedProjectId) {\n      const programs = Array.isArray(programsData) ? programsData : programsData.data || [];\n      if (programs.length > 0) {\n        setSelectedProjectId(programs[0].id);\n        console.log('[TracksPage] Auto-selected project:', programs[0].id, programs[0].title);\n      }\n    }\n  }, [programsData, selectedProjectId]);\n\n  /**\n   * Fetch organization tracks\n   */\n  const {\n    data: tracks,\n    isLoading,\n    error,\n  } = useQuery({\n    queryKey: ['tracks', organizationId],\n    queryFn: () => trackService.getOrganizationTracks(organizationId!),\n    enabled: !!organizationId,\n    staleTime: 2 * 60 * 1000, // Cache for 2 minutes\n  });\n\n  /**\n   * Filter and search tracks (client-side)\n   */\n  const filteredTracks = useMemo(() => {\n    if (!tracks) return [];\n\n    return tracks.filter((track) => {\n      // Search filter (name, description)\n      const matchesSearch =\n        !searchQuery ||\n        track.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        track.description?.toLowerCase().includes(searchQuery.toLowerCase());\n\n      // Difficulty filter\n      const matchesDifficulty =\n        difficultyFilter === 'all' || track.difficulty_level === difficultyFilter;\n\n      // Status filter\n      const matchesStatus = statusFilter === 'all' || track.status === statusFilter;\n\n      return matchesSearch && matchesDifficulty && matchesStatus;\n    });\n  }, [tracks, searchQuery, difficultyFilter, statusFilter]);\n\n  /**\n   * Handle create track success\n   */\n  const handleCreateSuccess = () => {\n    setIsCreateModalOpen(false);\n    queryClient.invalidateQueries({ queryKey: ['tracks'] });\n  };\n\n  /**\n   * Handle edit track\n   */\n  const handleEditTrack = (track: Track) => {\n    setEditingTrack(track);\n  };\n\n  /**\n   * Handle edit success\n   */\n  const handleEditSuccess = () => {\n    setEditingTrack(null);\n    queryClient.invalidateQueries({ queryKey: ['tracks'] });\n  };\n\n  /**\n   * Handle delete track\n   */\n  const handleDeleteTrack = async (trackId: string) => {\n    if (window.confirm('Are you sure you want to delete this track? This action cannot be undone.')) {\n      try {\n        await trackService.deleteTrack(trackId);\n        queryClient.invalidateQueries({ queryKey: ['tracks'] });\n      } catch (error) {\n        console.error('Failed to delete track:', error);\n        alert('Failed to delete track. Please try again.');\n      }\n    }\n  };\n\n  /**\n   * Loading State\n   */\n  if (isLoading) {\n    return (\n      <DashboardLayout>\n        <div className={styles['tracks-page']}>\n          <div style={{ display: 'flex', justifyContent: 'center', padding: '4rem' }}>\n            <Spinner size=\"large\" />\n          </div>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  /**\n   * Error State\n   */\n  if (error) {\n    return (\n      <DashboardLayout>\n        <div className={styles['tracks-page']}>\n          <Card variant=\"outlined\" padding=\"large\">\n            <p style={{ color: 'var(--color-error)', textAlign: 'center' }}>\n              Unable to load tracks. Please try refreshing the page.\n            </p>\n          </Card>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  /**\n   * Success State - Display Tracks List\n   */\n  return (\n    <DashboardLayout>\n      <div className={styles['tracks-page']}>\n        {/* Page Header */}\n        <div className={styles['page-header']}>\n          <div className={styles['header-content']}>\n            <Heading level=\"h1\" gutterBottom>\n              Learning Tracks\n            </Heading>\n            <p className={styles['header-description']}>\n              Manage learning tracks and structured educational paths\n            </p>\n          </div>\n          <Button variant=\"primary\" onClick={() => setIsCreateModalOpen(true)}>\n            Create Track\n          </Button>\n        </div>\n\n        {/* Filters Section */}\n        <Card variant=\"outlined\" padding=\"medium\" className={styles['filters-card']}>\n          <div className={styles['filters-grid']}>\n            {/* Search Input */}\n            <div className={styles['filter-group']}>\n              <Input\n                type=\"text\"\n                placeholder=\"Search by name or description...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                fullWidth\n                label=\"Search\"\n              />\n            </div>\n\n            {/* Difficulty Filter */}\n            <div className={styles['filter-group']}>\n              <Select\n                value={difficultyFilter}\n                onChange={(value) => setDifficultyFilter(value as string)}\n                label=\"Difficulty\"\n                fullWidth\n                options={[\n                  { value: 'all', label: 'All Levels' },\n                  { value: 'beginner', label: 'Beginner' },\n                  { value: 'intermediate', label: 'Intermediate' },\n                  { value: 'advanced', label: 'Advanced' },\n                ]}\n              />\n            </div>\n\n            {/* Status Filter */}\n            <div className={styles['filter-group']}>\n              <Select\n                value={statusFilter}\n                onChange={(value) => setStatusFilter(value as string)}\n                label=\"Status\"\n                fullWidth\n                options={[\n                  { value: 'all', label: 'All Status' },\n                  { value: 'draft', label: 'Draft' },\n                  { value: 'active', label: 'Active' },\n                  { value: 'archived', label: 'Archived' },\n                ]}\n              />\n            </div>\n          </div>\n\n          {/* Results Count */}\n          <div className={styles['results-count']}>\n            Showing {filteredTracks.length} of {tracks?.length || 0} tracks\n          </div>\n        </Card>\n\n        {/* Tracks Grid */}\n        {filteredTracks.length === 0 ? (\n          <Card variant=\"outlined\" padding=\"large\" className={styles['empty-state']}>\n            <Heading level=\"h3\" gutterBottom>\n              No Tracks Found\n            </Heading>\n            <p>\n              {searchQuery || difficultyFilter !== 'all' || statusFilter !== 'all'\n                ? 'Try adjusting your filters to see more results.'\n                : 'Get started by creating your first learning track.'}\n            </p>\n            {(!searchQuery && difficultyFilter === 'all' && statusFilter === 'all') && (\n              <Button\n                variant=\"primary\"\n                onClick={() => setIsCreateModalOpen(true)}\n                style={{ marginTop: '1rem' }}\n              >\n                Create First Track\n              </Button>\n            )}\n          </Card>\n        ) : (\n          <div className={styles['tracks-grid']}>\n            {filteredTracks.map((track) => (\n              <TrackCard\n                key={track.id}\n                track={track}\n                onEdit={handleEditTrack}\n                onDelete={handleDeleteTrack}\n              />\n            ))}\n          </div>\n        )}\n\n        {/* Create Track Modal */}\n        {isCreateModalOpen && (() => {\n          const testProjectId = typeof window !== 'undefined' && (window as any).__TEST_PROJECT_ID__;\n          const effectiveProjectId = testProjectId || selectedProjectId || 'default-project-id';\n          console.log('[TracksPage] Opening CreateTrackModal with projectId:', effectiveProjectId);\n          console.log('[TracksPage] - Test injected ID:', testProjectId);\n          console.log('[TracksPage] - Selected ID:', selectedProjectId);\n          return (\n            <CreateTrackModal\n              isOpen={isCreateModalOpen}\n              onClose={() => setIsCreateModalOpen(false)}\n              projectId={effectiveProjectId}\n              onSuccess={handleCreateSuccess}\n            />\n          );\n        })()}\n\n        {/* Edit Track Modal */}\n        {editingTrack && (\n          <EditTrackModal\n            isOpen={true}\n            onClose={() => setEditingTrack(null)}\n            onSuccess={handleEditSuccess}\n            track={editingTrack}\n          />\n        )}\n      </div>\n    </DashboardLayout>\n  );\n};\n"],"names":["TrackService","organizationId","filters","params","apiClient","projectId","status","trackId","data","enrollmentStatus","newName","body","query","allTracks","lowerQuery","track","trackService","TrackCard","onEdit","onDelete","onViewCourses","formatDuration","weeks","formatDifficulty","level","getStatusClass","styles","getDifficultyClass","getCapacityPercentage","getCapacityStatus","percentage","jsxs","Card","jsx","objective","index","Button","initialFormData","CreateTrackModal","isOpen","onClose","onSuccess","queryClient","useQueryClient","formData","setFormData","useState","validationErrors","setValidationErrors","createMutation","useMutation","createdTrack","error","handleChange","e","name","value","prev","newErrors","validateForm","errors","handleSubmit","isValid","parseArrayField","item","requestData","handleClose","Modal","Input","Textarea","Select","EditTrackModal","submitError","setSubmitError","updateMutation","updateData","s","Fragment","Spinner","TracksPage","useAuth","isCreateModalOpen","setIsCreateModalOpen","editingTrack","setEditingTrack","searchQuery","setSearchQuery","difficultyFilter","setDifficultyFilter","statusFilter","setStatusFilter","selectedProjectId","setSelectedProjectId","programsData","useQuery","token","tokenManager","response","React","programs","tracks","isLoading","filteredTracks","useMemo","matchesSearch","matchesDifficulty","matchesStatus","handleCreateSuccess","handleEditTrack","handleEditSuccess","handleDeleteTrack","DashboardLayout","Heading","testProjectId","effectiveProjectId"],"mappings":"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"}