{"version":3,"file":"AccessibilitySettings-DBF9MDrj.js","sources":["../../src/services/accessibilityService.ts","../../src/features/accessibility/context/AccessibilityContext.tsx","../../src/features/accessibility/components/FontSizeSelector.tsx","../../src/features/accessibility/components/ColorSchemeSelector.tsx","../../src/features/accessibility/components/MotionPreferences.tsx","../../src/features/accessibility/components/KeyboardShortcutsPanel.tsx","../../src/features/accessibility/components/SkipLinks.tsx","../../src/features/accessibility/components/FocusIndicator.tsx","../../src/features/accessibility/components/ScreenReaderAnnouncer.tsx","../../src/features/accessibility/AccessibilitySettings.tsx"],"sourcesContent":["/**\n * Accessibility Service\n *\n * BUSINESS CONTEXT:\n * Manages user accessibility preferences, color contrast validation, keyboard shortcuts,\n * and screen reader support for WCAG 2.1 AA compliance. Enables personalized accessibility\n * features for users with disabilities including visual impairments, motor disabilities,\n * cognitive disabilities, and hearing impairments.\n *\n * TECHNICAL IMPLEMENTATION:\n * Communicates with organization-management service (port 8001) for accessibility\n * preferences and audit management. Implements client-side accessibility helpers\n * for immediate user experience enhancements.\n *\n * WCAG 2.1 AA Compliance:\n * - Font size adjustments (1.4.4 Resize text)\n * - Color contrast validation (1.4.3 Contrast minimum)\n * - Motion reduction (2.3.3 Animation from Interactions)\n * - Keyboard navigation (2.1.1 Keyboard)\n * - Screen reader support (4.1.3 Status Messages)\n * - Focus indicators (2.4.7 Focus Visible)\n */\n\nimport { apiClient } from './apiClient';\n\n// =============================================================================\n// TYPES - Accessibility Preferences\n// =============================================================================\n\n/**\n * Font Size Preference Options\n *\n * What: User-selectable font size settings\n * Where: Applied globally to all text content\n * Why: Supports users with low vision or reading difficulties\n */\nexport enum FontSizePreference {\n  DEFAULT = 'default',     // Browser default (100%)\n  LARGE = 'large',         // 125% scaling\n  EXTRA_LARGE = 'xlarge',  // 150% scaling\n  HUGE = 'huge',           // 200% scaling\n}\n\n/**\n * Color Scheme Preference Options\n *\n * What: User-selectable color theme settings\n * Where: Applied globally via CSS custom properties\n * Why: Supports users with light sensitivity or color vision deficiencies\n */\nexport enum ColorSchemePreference {\n  SYSTEM = 'system',           // Follow OS preference\n  LIGHT = 'light',             // Light background, dark text\n  DARK = 'dark',               // Dark background, light text\n  HIGH_CONTRAST = 'high_contrast', // Maximum contrast mode\n}\n\n/**\n * Motion Preference Options\n *\n * What: Animation and motion control settings\n * Where: Applied to CSS transitions and animations\n * Why: Supports users with vestibular disorders or motion sensitivity\n */\nexport enum MotionPreference {\n  NO_PREFERENCE = 'no_preference',  // Use animations normally\n  REDUCE = 'reduce',                 // Minimize non-essential motion\n  NO_MOTION = 'no_motion',           // Disable all animations\n}\n\n/**\n * Focus Indicator Style Options\n *\n * What: Keyboard focus indicator visual styles\n * Where: Applied to all interactive elements\n * Why: Ensures keyboard users can see their current focus position\n */\nexport enum FocusIndicatorStyle {\n  DEFAULT = 'default',               // Standard 2px outline\n  ENHANCED = 'enhanced',             // 3px outline with offset\n  HIGH_VISIBILITY = 'high_visibility', // 4px solid with glow effect\n}\n\n/**\n * User Accessibility Preferences Interface\n *\n * What: Complete set of user accessibility customization options\n * Where: Stored in database and session storage\n * Why: Enables personalized accessibility experience for all users\n */\nexport interface AccessibilityPreference {\n  id: string;\n  userId: string;\n\n  // Visual Preferences\n  fontSize: FontSizePreference;\n  colorScheme: ColorSchemePreference;\n  focusIndicatorStyle: FocusIndicatorStyle;\n  highContrastMode: boolean;\n\n  // Motion Preferences\n  motionPreference: MotionPreference;\n  reduceTransparency: boolean;\n\n  // Screen Reader Optimizations\n  screenReaderOptimizations: boolean;\n  announcePageChanges: boolean;\n  verboseAnnouncements: boolean;\n\n  // Keyboard Navigation\n  keyboardShortcutsEnabled: boolean;\n  skipLinksAlwaysVisible: boolean;\n  focusHighlightEnabled: boolean;\n\n  // Audio/Visual Preferences\n  autoPlayMedia: boolean;\n  captionsEnabled: boolean;\n  audioDescriptionsEnabled: boolean;\n\n  // Timing Preferences\n  extendTimeouts: boolean;\n  timeoutMultiplier: number; // 1.0 to 5.0\n  disableAutoRefresh: boolean;\n\n  // Metadata\n  createdAt: string;\n  updatedAt: string;\n}\n\n/**\n * Color Contrast Level Requirements\n *\n * What: WCAG 2.1 contrast ratio requirements\n * Where: Design system validation\n * Why: Ensures text readability for users with low vision\n */\nexport enum ColorContrastLevel {\n  NORMAL_TEXT_AA = 'normal_text_aa',       // 4.5:1\n  LARGE_TEXT_AA = 'large_text_aa',         // 3:1\n  NORMAL_TEXT_AAA = 'normal_text_aaa',     // 7:1\n  LARGE_TEXT_AAA = 'large_text_aaa',       // 4.5:1\n  UI_COMPONENT = 'ui_component',           // 3:1\n}\n\n/**\n * Color Contrast Validation Result\n *\n * What: Result of WCAG color contrast validation\n * Where: Design system and component validation\n * Why: Verifies color combinations meet accessibility standards\n */\nexport interface ColorContrastResult {\n  id: string;\n  level: ColorContrastLevel;\n  foregroundColor: string; // Hex color code\n  backgroundColor: string; // Hex color code\n  calculatedRatio: number;\n  passes: boolean;\n  componentName?: string;\n  requiredRatio: number;\n}\n\n/**\n * Keyboard Shortcut Configuration\n *\n * What: Platform-wide keyboard navigation shortcuts\n * Where: Global keyboard event handlers\n * Why: Enables efficient keyboard-only navigation\n */\nexport interface KeyboardShortcut {\n  id: string;\n  key: string;                // Key code (e.g., \"KeyS\", \"Enter\")\n  modifiers: string[];        // [\"ctrl\", \"alt\", \"shift\", \"meta\"]\n  action: string;             // Action identifier\n  description: string;        // Human-readable description\n  context: string;            // Where shortcut is active\n  enabled: boolean;\n  isCustomizable: boolean;\n}\n\n/**\n * Screen Reader Announcement\n *\n * What: Announcement for assistive technology\n * Where: Dynamic content updates and user actions\n * Why: Ensures screen reader users are informed of changes\n */\nexport interface ScreenReaderAnnouncement {\n  id: string;\n  message: string;\n  politeness: 'polite' | 'assertive' | 'off';\n  atomic: boolean;\n  relevant: string;\n  delayMs: number;\n  clearAfterMs?: number;\n}\n\n// =============================================================================\n// SERVICE CLASS\n// =============================================================================\n\n/**\n * Accessibility Service Class\n *\n * WHY THIS APPROACH:\n * - Centralized accessibility feature management\n * - Type-safe API calls with comprehensive error handling\n * - Client-side helpers for immediate UX improvements\n * - WCAG 2.1 AA compliance validation\n */\nclass AccessibilityService {\n  private baseURL = '/organizations'; // organization-management service\n\n  // =========================================================================\n  // PREFERENCES MANAGEMENT\n  // =========================================================================\n\n  /**\n   * Get user accessibility preferences\n   *\n   * BUSINESS LOGIC:\n   * Retrieves user's saved accessibility settings from the backend.\n   * If no preferences exist, returns default settings.\n   *\n   * @param userId - UUID of the user\n   * @returns User's accessibility preferences\n   */\n  async getUserPreferences(userId: string): Promise<AccessibilityPreference> {\n    try {\n      const response = await apiClient.get<AccessibilityPreference>(\n        `${this.baseURL}/users/${userId}/accessibility-preferences`\n      );\n      return response;\n    } catch (error: any) {\n      console.error('[AccessibilityService] Failed to get preferences:', error);\n\n      // Return default preferences if not found\n      if (error.response?.status === 404) {\n        return this.getDefaultPreferences(userId);\n      }\n\n      throw error;\n    }\n  }\n\n  /**\n   * Update user accessibility preferences\n   *\n   * BUSINESS LOGIC:\n   * Updates one or more accessibility settings for the user.\n   * Validates settings before saving to ensure WCAG compliance.\n   *\n   * @param userId - UUID of the user\n   * @param preferences - Partial preferences to update\n   * @returns Updated preferences\n   */\n  async updateUserPreferences(\n    userId: string,\n    preferences: Partial<Omit<AccessibilityPreference, 'id' | 'userId' | 'createdAt' | 'updatedAt'>>\n  ): Promise<AccessibilityPreference> {\n    try {\n      // Validate timeout multiplier\n      if (preferences.timeoutMultiplier !== undefined) {\n        if (preferences.timeoutMultiplier < 1.0 || preferences.timeoutMultiplier > 5.0) {\n          throw new Error('Timeout multiplier must be between 1.0 and 5.0');\n        }\n      }\n\n      const response = await apiClient.put<AccessibilityPreference>(\n        `${this.baseURL}/users/${userId}/accessibility-preferences`,\n        preferences\n      );\n\n      // Apply preferences immediately to document\n      this.applyPreferences(response);\n\n      return response;\n    } catch (error: any) {\n      console.error('[AccessibilityService] Failed to update preferences:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Reset user preferences to defaults\n   *\n   * BUSINESS LOGIC:\n   * Resets all accessibility settings to platform defaults.\n   * Useful when user wants to start fresh.\n   *\n   * @param userId - UUID of the user\n   * @returns Default preferences\n   */\n  async resetUserPreferences(userId: string): Promise<AccessibilityPreference> {\n    try {\n      const response = await apiClient.post<AccessibilityPreference>(\n        `${this.baseURL}/users/${userId}/accessibility-preferences/reset`\n      );\n\n      // Apply default preferences to document\n      this.applyPreferences(response);\n\n      return response;\n    } catch (error: any) {\n      console.error('[AccessibilityService] Failed to reset preferences:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Get default accessibility preferences\n   *\n   * BUSINESS LOGIC:\n   * Returns platform default accessibility settings.\n   * Used for new users or as fallback.\n   *\n   * @param userId - UUID of the user\n   * @returns Default preferences\n   */\n  getDefaultPreferences(userId: string): AccessibilityPreference {\n    return {\n      id: 'default',\n      userId,\n      fontSize: FontSizePreference.DEFAULT,\n      colorScheme: ColorSchemePreference.SYSTEM,\n      focusIndicatorStyle: FocusIndicatorStyle.DEFAULT,\n      highContrastMode: false,\n      motionPreference: MotionPreference.NO_PREFERENCE,\n      reduceTransparency: false,\n      screenReaderOptimizations: false,\n      announcePageChanges: true,\n      verboseAnnouncements: false,\n      keyboardShortcutsEnabled: true,\n      skipLinksAlwaysVisible: false,\n      focusHighlightEnabled: true,\n      autoPlayMedia: false,\n      captionsEnabled: true,\n      audioDescriptionsEnabled: false,\n      extendTimeouts: false,\n      timeoutMultiplier: 1.0,\n      disableAutoRefresh: false,\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString(),\n    };\n  }\n\n  /**\n   * Apply preferences to document\n   *\n   * TECHNICAL IMPLEMENTATION:\n   * Sets CSS custom properties on document root for immediate effect.\n   * Updates ARIA attributes and accessibility settings.\n   *\n   * @param preferences - Preferences to apply\n   */\n  applyPreferences(preferences: AccessibilityPreference): void {\n    const root = document.documentElement;\n\n    // Font size multiplier\n    const fontSizeMultipliers: Record<FontSizePreference, number> = {\n      [FontSizePreference.DEFAULT]: 1.0,\n      [FontSizePreference.LARGE]: 1.25,\n      [FontSizePreference.EXTRA_LARGE]: 1.5,\n      [FontSizePreference.HUGE]: 2.0,\n    };\n    root.style.setProperty('--a11y-font-size-multiplier', fontSizeMultipliers[preferences.fontSize].toString());\n\n    // Animation duration multiplier\n    const animationMultipliers: Record<MotionPreference, number> = {\n      [MotionPreference.NO_PREFERENCE]: 1.0,\n      [MotionPreference.REDUCE]: 0.3,\n      [MotionPreference.NO_MOTION]: 0,\n    };\n    root.style.setProperty('--a11y-animation-multiplier', animationMultipliers[preferences.motionPreference].toString());\n\n    // Transparency reduction\n    root.style.setProperty('--a11y-reduce-transparency', preferences.reduceTransparency ? '0.5' : '0');\n\n    // Focus ring width\n    const focusWidths: Record<FocusIndicatorStyle, string> = {\n      [FocusIndicatorStyle.DEFAULT]: '2px',\n      [FocusIndicatorStyle.ENHANCED]: '3px',\n      [FocusIndicatorStyle.HIGH_VISIBILITY]: '4px',\n    };\n    root.style.setProperty('--a11y-focus-ring-width', focusWidths[preferences.focusIndicatorStyle]);\n\n    // Color scheme\n    if (preferences.colorScheme !== ColorSchemePreference.SYSTEM) {\n      root.setAttribute('data-color-scheme', preferences.colorScheme);\n    } else {\n      root.removeAttribute('data-color-scheme');\n    }\n\n    // High contrast mode\n    root.classList.toggle('high-contrast', preferences.highContrastMode);\n\n    // Skip links visibility\n    root.classList.toggle('skip-links-always-visible', preferences.skipLinksAlwaysVisible);\n\n    // Store in localStorage for persistence\n    localStorage.setItem('accessibility-preferences', JSON.stringify(preferences));\n  }\n\n  // =========================================================================\n  // COLOR CONTRAST VALIDATION\n  // =========================================================================\n\n  /**\n   * Validate color contrast ratio\n   *\n   * BUSINESS LOGIC:\n   * Validates that two colors meet WCAG 2.1 contrast requirements.\n   * Used in design system and component validation.\n   *\n   * @param foreground - Foreground hex color (e.g., \"#000000\")\n   * @param background - Background hex color (e.g., \"#FFFFFF\")\n   * @param level - WCAG contrast level requirement\n   * @param componentName - Optional component identifier\n   * @returns Validation result with pass/fail status\n   */\n  async validateColorContrast(\n    foreground: string,\n    background: string,\n    level: ColorContrastLevel = ColorContrastLevel.NORMAL_TEXT_AA,\n    componentName?: string\n  ): Promise<ColorContrastResult> {\n    try {\n      const response = await apiClient.post<ColorContrastResult>(\n        `${this.baseURL}/accessibility/validate-contrast`,\n        { foreground, background, level, componentName }\n      );\n      return response;\n    } catch (error: any) {\n      console.error('[AccessibilityService] Failed to validate contrast:', error);\n      throw error;\n    }\n  }\n\n  /**\n   * Calculate contrast ratio between two colors\n   *\n   * TECHNICAL IMPLEMENTATION:\n   * Client-side calculation of WCAG contrast ratio.\n   * Formula: (L1 + 0.05) / (L2 + 0.05) where L is relative luminance.\n   *\n   * @param foreground - Foreground hex color\n   * @param background - Background hex color\n   * @returns Contrast ratio (1:1 to 21:1)\n   */\n  calculateContrastRatio(foreground: string, background: string): number {\n    const getLuminance = (hex: string): number => {\n      const rgb = this.hexToRgb(hex);\n      if (!rgb) return 0;\n\n      const [r, g, b] = rgb.map((val) => {\n        const v = val / 255;\n        return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\n      });\n\n      return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n    };\n\n    const lum1 = getLuminance(foreground);\n    const lum2 = getLuminance(background);\n    const lighter = Math.max(lum1, lum2);\n    const darker = Math.min(lum1, lum2);\n\n    return (lighter + 0.05) / (darker + 0.05);\n  }\n\n  /**\n   * Convert hex color to RGB\n   *\n   * @param hex - Hex color code\n   * @returns RGB array or null if invalid\n   */\n  private hexToRgb(hex: string): [number, number, number] | null {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? [\n      parseInt(result[1], 16),\n      parseInt(result[2], 16),\n      parseInt(result[3], 16),\n    ] : null;\n  }\n\n  // =========================================================================\n  // KEYBOARD SHORTCUTS MANAGEMENT\n  // =========================================================================\n\n  /**\n   * Get keyboard shortcuts\n   *\n   * BUSINESS LOGIC:\n   * Retrieves available keyboard shortcuts for the platform.\n   * Includes both default and user-customized shortcuts.\n   *\n   * @param userId - Optional user ID for customized shortcuts\n   * @param context - Shortcut context filter (global, modal, form, etc.)\n   * @returns List of keyboard shortcuts\n   */\n  async getKeyboardShortcuts(\n    userId?: string,\n    context: string = 'global'\n  ): Promise<KeyboardShortcut[]> {\n    try {\n      const params = new URLSearchParams();\n      if (userId) params.append('userId', userId);\n      if (context) params.append('context', context);\n\n      const response = await apiClient.get<KeyboardShortcut[]>(\n        `${this.baseURL}/accessibility/keyboard-shortcuts?${params.toString()}`\n      );\n      return response;\n    } catch (error: any) {\n      console.error('[AccessibilityService] Failed to get shortcuts:', error);\n      return this.getDefaultShortcuts();\n    }\n  }\n\n  /**\n   * Get default keyboard shortcuts\n   *\n   * BUSINESS LOGIC:\n   * Returns platform default keyboard shortcuts.\n   * Follows WCAG 2.1.1 (Keyboard) and 2.1.4 (Character Key Shortcuts).\n   *\n   * @returns Default keyboard shortcuts\n   */\n  getDefaultShortcuts(): KeyboardShortcut[] {\n    return [\n      {\n        id: 'skip-to-main',\n        key: 'KeyS',\n        modifiers: ['alt'],\n        action: 'skip_to_main',\n        description: 'Skip to main content',\n        context: 'global',\n        enabled: true,\n        isCustomizable: true,\n      },\n      {\n        id: 'skip-to-nav',\n        key: 'KeyN',\n        modifiers: ['alt'],\n        action: 'skip_to_nav',\n        description: 'Skip to navigation',\n        context: 'global',\n        enabled: true,\n        isCustomizable: true,\n      },\n      {\n        id: 'open-help',\n        key: 'KeyH',\n        modifiers: ['alt'],\n        action: 'open_help',\n        description: 'Open keyboard shortcuts help',\n        context: 'global',\n        enabled: true,\n        isCustomizable: true,\n      },\n      {\n        id: 'go-dashboard',\n        key: 'KeyD',\n        modifiers: ['alt'],\n        action: 'go_to_dashboard',\n        description: 'Go to dashboard',\n        context: 'global',\n        enabled: true,\n        isCustomizable: true,\n      },\n      {\n        id: 'go-courses',\n        key: 'KeyC',\n        modifiers: ['alt'],\n        action: 'go_to_courses',\n        description: 'Go to courses',\n        context: 'global',\n        enabled: true,\n        isCustomizable: true,\n      },\n      {\n        id: 'close-modal',\n        key: 'Escape',\n        modifiers: [],\n        action: 'close_modal',\n        description: 'Close current modal or dialog',\n        context: 'modal',\n        enabled: true,\n        isCustomizable: false,\n      },\n    ];\n  }\n\n  /**\n   * Update keyboard shortcut\n   *\n   * BUSINESS LOGIC:\n   * Customizes a keyboard shortcut for the user.\n   * Validates for conflicts with existing shortcuts.\n   *\n   * @param userId - UUID of the user\n   * @param action - Action to customize\n   * @param key - New key code\n   * @param modifiers - New modifier keys\n   * @returns Updated shortcut\n   */\n  async updateKeyboardShortcut(\n    userId: string,\n    action: string,\n    key: string,\n    modifiers: string[]\n  ): Promise<KeyboardShortcut> {\n    try {\n      const response = await apiClient.put<KeyboardShortcut>(\n        `${this.baseURL}/users/${userId}/keyboard-shortcuts/${action}`,\n        { key, modifiers }\n      );\n      return response;\n    } catch (error: any) {\n      console.error('[AccessibilityService] Failed to update shortcut:', error);\n      throw error;\n    }\n  }\n\n  // =========================================================================\n  // SCREEN READER SUPPORT\n  // =========================================================================\n\n  /**\n   * Create screen reader announcement\n   *\n   * BUSINESS LOGIC:\n   * Creates an announcement for assistive technology users.\n   * Uses ARIA live regions to announce dynamic content changes.\n   *\n   * @param message - Message to announce\n   * @param politeness - Urgency level (\"polite\" or \"assertive\")\n   * @param delayMs - Delay before announcement\n   * @returns Announcement configuration\n   */\n  createAnnouncement(\n    message: string,\n    politeness: 'polite' | 'assertive' = 'polite',\n    delayMs: number = 0\n  ): ScreenReaderAnnouncement {\n    return {\n      id: `announcement-${Date.now()}`,\n      message,\n      politeness,\n      atomic: true,\n      relevant: 'additions text',\n      delayMs,\n    };\n  }\n\n  /**\n   * Announce to screen reader\n   *\n   * TECHNICAL IMPLEMENTATION:\n   * Dynamically creates ARIA live region and announces message.\n   * Automatically cleans up after announcement.\n   *\n   * @param message - Message to announce\n   * @param politeness - Urgency level\n   * @param delayMs - Delay before announcement\n   */\n  announce(\n    message: string,\n    politeness: 'polite' | 'assertive' = 'polite',\n    delayMs: number = 0\n  ): void {\n    const announce = () => {\n      const liveRegion = document.getElementById('a11y-announcer') ||\n        this.createLiveRegion();\n\n      liveRegion.setAttribute('aria-live', politeness);\n      liveRegion.textContent = message;\n\n      // Clear after 3 seconds\n      setTimeout(() => {\n        liveRegion.textContent = '';\n      }, 3000);\n    };\n\n    if (delayMs > 0) {\n      setTimeout(announce, delayMs);\n    } else {\n      announce();\n    }\n  }\n\n  /**\n   * Create ARIA live region\n   *\n   * TECHNICAL IMPLEMENTATION:\n   * Creates a visually hidden live region for screen reader announcements.\n   *\n   * @returns Live region element\n   */\n  private createLiveRegion(): HTMLElement {\n    const existing = document.getElementById('a11y-announcer');\n    if (existing) return existing;\n\n    const liveRegion = document.createElement('div');\n    liveRegion.id = 'a11y-announcer';\n    liveRegion.setAttribute('role', 'status');\n    liveRegion.setAttribute('aria-live', 'polite');\n    liveRegion.setAttribute('aria-atomic', 'true');\n    liveRegion.className = 'sr-only';\n    liveRegion.style.cssText = `\n      position: absolute;\n      width: 1px;\n      height: 1px;\n      padding: 0;\n      margin: -1px;\n      overflow: hidden;\n      clip: rect(0, 0, 0, 0);\n      white-space: nowrap;\n      border-width: 0;\n    `;\n\n    document.body.appendChild(liveRegion);\n    return liveRegion;\n  }\n}\n\n// Export singleton instance\nexport const accessibilityService = new AccessibilityService();\n","/**\n * Accessibility Context\n *\n * BUSINESS CONTEXT:\n * Provides global accessibility state and preferences throughout the application.\n * Enables real-time accessibility feature updates without page refreshes.\n * Ensures consistent accessibility experience across all components.\n *\n * TECHNICAL IMPLEMENTATION:\n * React Context API for global state management of accessibility preferences.\n * Automatically applies preferences to document on load and update.\n * Persists preferences to localStorage for fast initial load.\n *\n * WCAG 2.1 AA Compliance:\n * - Provides centralized accessibility state management\n * - Ensures preferences are applied consistently\n * - Supports real-time accessibility customization\n */\n\nimport React, { createContext, useContext, useEffect, useState, ReactNode } from 'react';\nimport {\n  accessibilityService,\n  AccessibilityPreference,\n  FontSizePreference,\n  ColorSchemePreference,\n  MotionPreference,\n  FocusIndicatorStyle,\n} from '@services/accessibilityService';\n\n// =============================================================================\n// CONTEXT TYPES\n// =============================================================================\n\n/**\n * Accessibility Context State\n *\n * What: Complete accessibility state and actions\n * Where: Available throughout the component tree\n * Why: Enables any component to access and modify accessibility settings\n */\ninterface AccessibilityContextState {\n  // State\n  preferences: AccessibilityPreference | null;\n  isLoading: boolean;\n  error: string | null;\n\n  // Actions\n  updatePreferences: (updates: Partial<AccessibilityPreference>) => Promise<void>;\n  resetPreferences: () => Promise<void>;\n  refreshPreferences: () => Promise<void>;\n\n  // Helpers\n  announce: (message: string, politeness?: 'polite' | 'assertive') => void;\n  getFontSizeMultiplier: () => number;\n  getAnimationMultiplier: () => number;\n}\n\n/**\n * Provider Props\n *\n * What: Props for AccessibilityProvider component\n * Where: Root of application tree\n * Why: Configures accessibility system\n */\ninterface AccessibilityProviderProps {\n  children: ReactNode;\n  userId?: string; // Optional user ID for authenticated users\n}\n\n// =============================================================================\n// CONTEXT CREATION\n// =============================================================================\n\nconst AccessibilityContext = createContext<AccessibilityContextState | undefined>(undefined);\n\n/**\n * Accessibility Provider Component\n *\n * BUSINESS LOGIC:\n * Manages global accessibility state for the entire application.\n * Loads preferences on mount, applies them to document, and provides\n * methods for updating preferences.\n *\n * TECHNICAL IMPLEMENTATION:\n * - Loads preferences from backend or localStorage on mount\n * - Applies preferences to document via CSS custom properties\n * - Provides update methods that persist to backend\n * - Re-applies preferences on update for immediate effect\n *\n * @param children - Child components\n * @param userId - Optional authenticated user ID\n */\nexport const AccessibilityProvider: React.FC<AccessibilityProviderProps> = ({\n  children,\n  userId,\n}) => {\n  const [preferences, setPreferences] = useState<AccessibilityPreference | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  /**\n   * Load preferences on mount\n   *\n   * BUSINESS LOGIC:\n   * Attempts to load preferences in this order:\n   * 1. From backend if user is authenticated\n   * 2. From localStorage if available\n   * 3. Falls back to default preferences\n   */\n  useEffect(() => {\n    const loadPreferences = async () => {\n      setIsLoading(true);\n      setError(null);\n\n      try {\n        let prefs: AccessibilityPreference;\n\n        if (userId) {\n          // Load from backend for authenticated users\n          prefs = await accessibilityService.getUserPreferences(userId);\n        } else {\n          // Load from localStorage for anonymous users\n          const stored = localStorage.getItem('accessibility-preferences');\n          if (stored) {\n            prefs = JSON.parse(stored);\n          } else {\n            // Use default preferences\n            prefs = accessibilityService.getDefaultPreferences('anonymous');\n          }\n        }\n\n        setPreferences(prefs);\n        accessibilityService.applyPreferences(prefs);\n      } catch (err: any) {\n        console.error('[AccessibilityContext] Failed to load preferences:', err);\n        setError(err.message || 'Failed to load accessibility preferences');\n\n        // Fall back to defaults\n        const defaultPrefs = accessibilityService.getDefaultPreferences(userId || 'anonymous');\n        setPreferences(defaultPrefs);\n        accessibilityService.applyPreferences(defaultPrefs);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadPreferences();\n  }, [userId]);\n\n  /**\n   * Update preferences\n   *\n   * BUSINESS LOGIC:\n   * Updates one or more accessibility preferences.\n   * Persists to backend for authenticated users, localStorage otherwise.\n   * Applies changes immediately to document.\n   *\n   * @param updates - Partial preferences to update\n   */\n  const updatePreferences = async (updates: Partial<AccessibilityPreference>): Promise<void> => {\n    if (!preferences) return;\n\n    setError(null);\n\n    try {\n      let updatedPrefs: AccessibilityPreference;\n\n      if (userId) {\n        // Save to backend for authenticated users\n        updatedPrefs = await accessibilityService.updateUserPreferences(userId, updates);\n      } else {\n        // Update locally for anonymous users\n        updatedPrefs = { ...preferences, ...updates, updatedAt: new Date().toISOString() };\n        localStorage.setItem('accessibility-preferences', JSON.stringify(updatedPrefs));\n        accessibilityService.applyPreferences(updatedPrefs);\n      }\n\n      setPreferences(updatedPrefs);\n    } catch (err: any) {\n      console.error('[AccessibilityContext] Failed to update preferences:', err);\n      setError(err.message || 'Failed to update accessibility preferences');\n      throw err;\n    }\n  };\n\n  /**\n   * Reset preferences to defaults\n   *\n   * BUSINESS LOGIC:\n   * Resets all accessibility preferences to platform defaults.\n   * Clears backend storage for authenticated users.\n   *\n   */\n  const resetPreferences = async (): Promise<void> => {\n    setError(null);\n\n    try {\n      let defaultPrefs: AccessibilityPreference;\n\n      if (userId) {\n        // Reset on backend for authenticated users\n        defaultPrefs = await accessibilityService.resetUserPreferences(userId);\n      } else {\n        // Reset locally for anonymous users\n        defaultPrefs = accessibilityService.getDefaultPreferences('anonymous');\n        localStorage.setItem('accessibility-preferences', JSON.stringify(defaultPrefs));\n        accessibilityService.applyPreferences(defaultPrefs);\n      }\n\n      setPreferences(defaultPrefs);\n    } catch (err: any) {\n      console.error('[AccessibilityContext] Failed to reset preferences:', err);\n      setError(err.message || 'Failed to reset accessibility preferences');\n      throw err;\n    }\n  };\n\n  /**\n   * Refresh preferences from backend\n   *\n   * BUSINESS LOGIC:\n   * Reloads preferences from backend.\n   * Useful after external changes or sync issues.\n   */\n  const refreshPreferences = async (): Promise<void> => {\n    if (!userId) return;\n\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const prefs = await accessibilityService.getUserPreferences(userId);\n      setPreferences(prefs);\n      accessibilityService.applyPreferences(prefs);\n    } catch (err: any) {\n      console.error('[AccessibilityContext] Failed to refresh preferences:', err);\n      setError(err.message || 'Failed to refresh accessibility preferences');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  /**\n   * Announce message to screen readers\n   *\n   * TECHNICAL IMPLEMENTATION:\n   * Creates ARIA live region announcement for assistive technology.\n   *\n   * @param message - Message to announce\n   * @param politeness - Urgency level\n   */\n  const announce = (message: string, politeness: 'polite' | 'assertive' = 'polite'): void => {\n    if (!preferences?.screenReaderOptimizations && politeness !== 'assertive') {\n      // Skip non-critical announcements if screen reader optimizations are off\n      return;\n    }\n\n    accessibilityService.announce(message, politeness);\n  };\n\n  /**\n   * Get current font size multiplier\n   *\n   * BUSINESS LOGIC:\n   * Returns current font size scaling factor.\n   * Used by components that need to adjust sizes programmatically.\n   *\n   * @returns Font size multiplier (1.0 to 2.0)\n   */\n  const getFontSizeMultiplier = (): number => {\n    if (!preferences) return 1.0;\n\n    const multipliers: Record<FontSizePreference, number> = {\n      [FontSizePreference.DEFAULT]: 1.0,\n      [FontSizePreference.LARGE]: 1.25,\n      [FontSizePreference.EXTRA_LARGE]: 1.5,\n      [FontSizePreference.HUGE]: 2.0,\n    };\n\n    return multipliers[preferences.fontSize];\n  };\n\n  /**\n   * Get current animation duration multiplier\n   *\n   * BUSINESS LOGIC:\n   * Returns current animation speed factor.\n   * Used by components with custom animations.\n   *\n   * @returns Animation multiplier (0 to 1.0)\n   */\n  const getAnimationMultiplier = (): number => {\n    if (!preferences) return 1.0;\n\n    const multipliers: Record<MotionPreference, number> = {\n      [MotionPreference.NO_PREFERENCE]: 1.0,\n      [MotionPreference.REDUCE]: 0.3,\n      [MotionPreference.NO_MOTION]: 0,\n    };\n\n    return multipliers[preferences.motionPreference];\n  };\n\n  // Context value\n  const value: AccessibilityContextState = {\n    preferences,\n    isLoading,\n    error,\n    updatePreferences,\n    resetPreferences,\n    refreshPreferences,\n    announce,\n    getFontSizeMultiplier,\n    getAnimationMultiplier,\n  };\n\n  return (\n    <AccessibilityContext.Provider value={value}>\n      {children}\n    </AccessibilityContext.Provider>\n  );\n};\n\n/**\n * Use Accessibility Hook\n *\n * BUSINESS LOGIC:\n * Provides access to accessibility context in any component.\n * Throws error if used outside AccessibilityProvider.\n *\n * @returns Accessibility context state and actions\n * @throws Error if used outside provider\n */\nexport const useAccessibilityContext = (): AccessibilityContextState => {\n  const context = useContext(AccessibilityContext);\n\n  if (context === undefined) {\n    throw new Error('useAccessibilityContext must be used within AccessibilityProvider');\n  }\n\n  return context;\n};\n","/**\n * Font Size Selector Component\n *\n * BUSINESS CONTEXT:\n * Allows users to adjust text size for better readability. Supports users with\n * low vision or reading difficulties. Implements WCAG 2.1.4.4 (Resize text).\n *\n * TECHNICAL IMPLEMENTATION:\n * Radio button group for selecting font size preference. Updates CSS custom\n * properties for immediate visual feedback.\n *\n * WCAG 2.1 AA Compliance:\n * - 1.4.4 Resize text (Level AA)\n * - Keyboard accessible\n * - Clear labels and descriptions\n */\n\nimport React from 'react';\nimport { FontSizePreference } from '@services/accessibilityService';\nimport styles from './FontSizeSelector.module.css';\n\n/**\n * Font Size Selector Props\n */\nexport interface FontSizeSelectorProps {\n  /** Current font size preference */\n  value: FontSizePreference;\n  /** Callback when font size changes */\n  onChange: (value: FontSizePreference) => void;\n  /** Whether control is disabled */\n  disabled?: boolean;\n}\n\n/**\n * Font Size Selector Component\n *\n * @param value - Current selected font size\n * @param onChange - Change handler\n * @param disabled - Whether control is disabled\n */\nexport const FontSizeSelector: React.FC<FontSizeSelectorProps> = ({\n  value,\n  onChange,\n  disabled = false,\n}) => {\n  const options = [\n    { value: FontSizePreference.DEFAULT, label: 'Default', size: '100%' },\n    { value: FontSizePreference.LARGE, label: 'Large', size: '125%' },\n    { value: FontSizePreference.EXTRA_LARGE, label: 'Extra Large', size: '150%' },\n    { value: FontSizePreference.HUGE, label: 'Huge', size: '200%' },\n  ];\n\n  return (\n    <div className={styles.container}>\n      <fieldset className={styles.fieldset} disabled={disabled}>\n        <legend className={styles.legend}>\n          Font Size\n          <span className={styles.helpText}>\n            Adjust text size for better readability\n          </span>\n        </legend>\n\n        <div className={styles.options} role=\"radiogroup\" aria-label=\"Font size options\">\n          {options.map((option) => (\n            <label\n              key={option.value}\n              className={`${styles.option} ${value === option.value ? styles.selected : ''}`}\n            >\n              <input\n                type=\"radio\"\n                name=\"font-size\"\n                value={option.value}\n                checked={value === option.value}\n                onChange={() => onChange(option.value)}\n                disabled={disabled}\n                className={styles.radio}\n                aria-describedby={`font-size-${option.value}-desc`}\n              />\n              <span className={styles.optionLabel}>\n                {option.label}\n                <span\n                  id={`font-size-${option.value}-desc`}\n                  className={styles.optionSize}\n                >\n                  {option.size}\n                </span>\n              </span>\n            </label>\n          ))}\n        </div>\n      </fieldset>\n    </div>\n  );\n};\n","/**\n * Color Scheme Selector Component\n *\n * BUSINESS CONTEXT:\n * Allows users to select color theme (light, dark, high contrast). Supports\n * users with light sensitivity, color vision deficiencies, or low vision.\n * Implements WCAG 2.1.4.3 (Contrast minimum).\n *\n * TECHNICAL IMPLEMENTATION:\n * Radio buttons for color scheme selection, checkbox for high contrast mode.\n * Updates document attribute for immediate theme change.\n *\n * WCAG 2.1 AA Compliance:\n * - 1.4.3 Contrast (Minimum) (Level AA)\n * - 1.4.8 Visual Presentation (Level AAA)\n * - Keyboard accessible\n */\n\nimport React from 'react';\nimport { ColorSchemePreference } from '@services/accessibilityService';\nimport styles from './ColorSchemeSelector.module.css';\n\n/**\n * Color Scheme Selector Props\n */\nexport interface ColorSchemeSelectorProps {\n  /** Current color scheme */\n  value: ColorSchemePreference;\n  /** High contrast mode enabled */\n  highContrastMode: boolean;\n  /** Callback when color scheme changes */\n  onColorSchemeChange: (value: ColorSchemePreference) => void;\n  /** Callback when high contrast mode changes */\n  onHighContrastChange: (enabled: boolean) => void;\n  /** Whether control is disabled */\n  disabled?: boolean;\n}\n\n/**\n * Color Scheme Selector Component\n */\nexport const ColorSchemeSelector: React.FC<ColorSchemeSelectorProps> = ({\n  value,\n  highContrastMode,\n  onColorSchemeChange,\n  onHighContrastChange,\n  disabled = false,\n}) => {\n  const options = [\n    { value: ColorSchemePreference.SYSTEM, label: 'System', description: 'Follow system preference' },\n    { value: ColorSchemePreference.LIGHT, label: 'Light', description: 'Light background' },\n    { value: ColorSchemePreference.DARK, label: 'Dark', description: 'Dark background' },\n    { value: ColorSchemePreference.HIGH_CONTRAST, label: 'High Contrast', description: 'Maximum contrast' },\n  ];\n\n  return (\n    <div className={styles.container}>\n      {/* Color Scheme */}\n      <fieldset className={styles.fieldset} disabled={disabled}>\n        <legend className={styles.legend}>\n          Color Scheme\n          <span className={styles.helpText}>\n            Choose your preferred color theme\n          </span>\n        </legend>\n\n        <div className={styles.options} role=\"radiogroup\" aria-label=\"Color scheme options\">\n          {options.map((option) => (\n            <label\n              key={option.value}\n              className={`${styles.option} ${value === option.value ? styles.selected : ''}`}\n            >\n              <input\n                type=\"radio\"\n                name=\"color-scheme\"\n                value={option.value}\n                checked={value === option.value}\n                onChange={() => onColorSchemeChange(option.value)}\n                disabled={disabled}\n                className={styles.radio}\n                aria-describedby={`color-scheme-${option.value}-desc`}\n              />\n              <span className={styles.optionLabel}>\n                {option.label}\n                <span\n                  id={`color-scheme-${option.value}-desc`}\n                  className={styles.optionDescription}\n                >\n                  {option.description}\n                </span>\n              </span>\n            </label>\n          ))}\n        </div>\n      </fieldset>\n\n      {/* High Contrast Mode */}\n      <div className={styles.highContrast}>\n        <label htmlFor=\"high-contrast-mode\" className={styles.checkboxLabel}>\n          <input\n            type=\"checkbox\"\n            id=\"high-contrast-mode\"\n            checked={highContrastMode}\n            onChange={(e) => onHighContrastChange(e.target.checked)}\n            disabled={disabled}\n            className={styles.checkbox}\n          />\n          <span className={styles.checkboxText}>\n            Enable High Contrast Mode\n            <span className={styles.checkboxHelp}>\n              Increases contrast beyond standard levels (WCAG AAA)\n            </span>\n          </span>\n        </label>\n      </div>\n    </div>\n  );\n};\n","/**\n * Motion Preferences Component\n *\n * BUSINESS CONTEXT:\n * Allows users to control animation and motion effects. Supports users with\n * vestibular disorders or motion sensitivity. Implements WCAG 2.3.3\n * (Animation from Interactions).\n *\n * TECHNICAL IMPLEMENTATION:\n * Radio button group for motion preference selection. Updates CSS custom\n * properties to control animation durations.\n *\n * WCAG 2.1 AA Compliance:\n * - 2.3.3 Animation from Interactions (Level AAA)\n * - Respects prefers-reduced-motion\n * - Keyboard accessible\n */\n\nimport React from 'react';\nimport { MotionPreference } from '@services/accessibilityService';\nimport styles from './MotionPreferences.module.css';\n\n/**\n * Motion Preferences Props\n */\nexport interface MotionPreferencesProps {\n  /** Current motion preference */\n  value: MotionPreference;\n  /** Callback when motion preference changes */\n  onChange: (value: MotionPreference) => void;\n  /** Whether control is disabled */\n  disabled?: boolean;\n}\n\n/**\n * Motion Preferences Component\n */\nexport const MotionPreferences: React.FC<MotionPreferencesProps> = ({\n  value,\n  onChange,\n  disabled = false,\n}) => {\n  const options = [\n    {\n      value: MotionPreference.NO_PREFERENCE,\n      label: 'Full Motion',\n      description: 'Use all animations and transitions',\n    },\n    {\n      value: MotionPreference.REDUCE,\n      label: 'Reduced Motion',\n      description: 'Minimize non-essential motion effects',\n    },\n    {\n      value: MotionPreference.NO_MOTION,\n      label: 'No Motion',\n      description: 'Disable all animations and transitions',\n    },\n  ];\n\n  return (\n    <div className={styles.container}>\n      <fieldset className={styles.fieldset} disabled={disabled}>\n        <legend className={styles.legend}>\n          Motion & Animation\n          <span className={styles.helpText}>\n            Control motion effects for comfort and accessibility\n          </span>\n        </legend>\n\n        <div className={styles.options} role=\"radiogroup\" aria-label=\"Motion preference options\">\n          {options.map((option) => (\n            <label\n              key={option.value}\n              className={`${styles.option} ${value === option.value ? styles.selected : ''}`}\n            >\n              <input\n                type=\"radio\"\n                name=\"motion-preference\"\n                value={option.value}\n                checked={value === option.value}\n                onChange={() => onChange(option.value)}\n                disabled={disabled}\n                className={styles.radio}\n                aria-describedby={`motion-${option.value}-desc`}\n              />\n              <span className={styles.optionLabel}>\n                {option.label}\n                <span\n                  id={`motion-${option.value}-desc`}\n                  className={styles.optionDescription}\n                >\n                  {option.description}\n                </span>\n              </span>\n            </label>\n          ))}\n        </div>\n      </fieldset>\n    </div>\n  );\n};\n","/**\n * Keyboard Shortcuts Panel Component\n *\n * BUSINESS CONTEXT:\n * Displays available keyboard shortcuts for platform navigation. Helps users\n * discover and learn keyboard navigation. Implements WCAG 2.1.1 (Keyboard).\n *\n * TECHNICAL IMPLEMENTATION:\n * Loads shortcuts from accessibility service. Displays in accessible table\n * format with clear labels.\n *\n * WCAG 2.1 AA Compliance:\n * - 2.1.1 Keyboard (Level A)\n * - Clear keyboard shortcut documentation\n * - Accessible table structure\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { accessibilityService, KeyboardShortcut } from '@services/accessibilityService';\nimport styles from './KeyboardShortcutsPanel.module.css';\n\n/**\n * Keyboard Shortcuts Panel Component\n */\nexport const KeyboardShortcutsPanel: React.FC = () => {\n  const [shortcuts, setShortcuts] = useState<KeyboardShortcut[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const loadShortcuts = async () => {\n      try {\n        const loaded = await accessibilityService.getKeyboardShortcuts();\n        setShortcuts(loaded);\n      } catch (error) {\n        console.error('[KeyboardShortcutsPanel] Failed to load shortcuts:', error);\n        setShortcuts(accessibilityService.getDefaultShortcuts());\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadShortcuts();\n  }, []);\n\n  const formatShortcut = (shortcut: KeyboardShortcut): string => {\n    const parts = [...shortcut.modifiers.map(m => m.charAt(0).toUpperCase() + m.slice(1))];\n    const key = shortcut.key.replace('Key', '');\n    parts.push(key);\n    return parts.join(' + ');\n  };\n\n  if (isLoading) {\n    return (\n      <div className={styles.loading}>\n        Loading keyboard shortcuts...\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.container}>\n      <h3 className={styles.title}>Available Keyboard Shortcuts</h3>\n      <table className={styles.table}>\n        <thead>\n          <tr>\n            <th scope=\"col\" className={styles.headerCell}>Shortcut</th>\n            <th scope=\"col\" className={styles.headerCell}>Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          {shortcuts.map((shortcut) => (\n            <tr key={shortcut.id} className={styles.row}>\n              <td className={styles.cell}>\n                <kbd className={styles.kbd}>{formatShortcut(shortcut)}</kbd>\n              </td>\n              <td className={styles.cell}>{shortcut.description}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n","/**\n * Skip Links Component\n *\n * BUSINESS CONTEXT:\n * Provides skip navigation links for keyboard users to bypass repetitive content.\n * Critical for screen reader and keyboard-only users. Implements WCAG 2.4.1\n * (Bypass Blocks).\n *\n * TECHNICAL IMPLEMENTATION:\n * Renders visually hidden links that become visible on focus. Links jump to\n * main content areas. Always first in tab order.\n *\n * WCAG 2.1 AA Compliance:\n * - 2.4.1 Bypass Blocks (Level A)\n * - Visible on keyboard focus\n * - Logical tab order\n */\n\nimport React from 'react';\nimport styles from './SkipLinks.module.css';\n\n/**\n * Skip Links Component\n */\nexport const SkipLinks: React.FC = () => {\n  const skipLinks = [\n    { href: '#main-content', label: 'Skip to main content' },\n    { href: '#navigation', label: 'Skip to navigation' },\n    { href: '#footer', label: 'Skip to footer' },\n  ];\n\n  return (\n    <nav className={styles.skipLinks} aria-label=\"Skip navigation\">\n      {skipLinks.map((link) => (\n        <a\n          key={link.href}\n          href={link.href}\n          className={styles.skipLink}\n        >\n          {link.label}\n        </a>\n      ))}\n    </nav>\n  );\n};\n","/**\n * Focus Indicator Component\n *\n * BUSINESS CONTEXT:\n * Allows users to customize keyboard focus indicator visibility and style.\n * Essential for keyboard navigation. Implements WCAG 2.4.7 (Focus Visible).\n *\n * TECHNICAL IMPLEMENTATION:\n * Radio button group for focus indicator style. Updates CSS custom properties\n * for immediate visual feedback.\n *\n * WCAG 2.1 AA Compliance:\n * - 2.4.7 Focus Visible (Level AA)\n * - Clear focus indicators\n * - Keyboard accessible\n */\n\nimport React from 'react';\nimport { FocusIndicatorStyle } from '@services/accessibilityService';\nimport styles from './FocusIndicator.module.css';\n\n/**\n * Focus Indicator Props\n */\nexport interface FocusIndicatorProps {\n  /** Current focus indicator style */\n  value: FocusIndicatorStyle;\n  /** Callback when focus indicator style changes */\n  onChange: (value: FocusIndicatorStyle) => void;\n  /** Whether control is disabled */\n  disabled?: boolean;\n}\n\n/**\n * Focus Indicator Component\n */\nexport const FocusIndicator: React.FC<FocusIndicatorProps> = ({\n  value,\n  onChange,\n  disabled = false,\n}) => {\n  const options = [\n    {\n      value: FocusIndicatorStyle.DEFAULT,\n      label: 'Default',\n      description: '2px outline',\n    },\n    {\n      value: FocusIndicatorStyle.ENHANCED,\n      label: 'Enhanced',\n      description: '3px outline with offset',\n    },\n    {\n      value: FocusIndicatorStyle.HIGH_VISIBILITY,\n      label: 'High Visibility',\n      description: '4px outline with glow',\n    },\n  ];\n\n  return (\n    <div className={styles.container}>\n      <fieldset className={styles.fieldset} disabled={disabled}>\n        <legend className={styles.legend}>\n          Focus Indicator Style\n          <span className={styles.helpText}>\n            Customize keyboard focus visibility\n          </span>\n        </legend>\n\n        <div className={styles.options} role=\"radiogroup\" aria-label=\"Focus indicator style options\">\n          {options.map((option) => (\n            <label\n              key={option.value}\n              className={`${styles.option} ${value === option.value ? styles.selected : ''}`}\n            >\n              <input\n                type=\"radio\"\n                name=\"focus-indicator\"\n                value={option.value}\n                checked={value === option.value}\n                onChange={() => onChange(option.value)}\n                disabled={disabled}\n                className={styles.radio}\n                aria-describedby={`focus-indicator-${option.value}-desc`}\n              />\n              <span className={styles.optionLabel}>\n                {option.label}\n                <span\n                  id={`focus-indicator-${option.value}-desc`}\n                  className={styles.optionDescription}\n                >\n                  {option.description}\n                </span>\n              </span>\n            </label>\n          ))}\n        </div>\n      </fieldset>\n    </div>\n  );\n};\n","/**\n * Screen Reader Announcer Component\n *\n * BUSINESS CONTEXT:\n * Provides ARIA live region for screen reader announcements. Ensures screen\n * reader users are informed of dynamic content changes. Implements WCAG 4.1.3\n * (Status Messages).\n *\n * TECHNICAL IMPLEMENTATION:\n * Creates hidden live region element. Listens for custom announcement events\n * and announces messages with appropriate politeness level.\n *\n * WCAG 2.1 AA Compliance:\n * - 4.1.3 Status Messages (Level AA)\n * - ARIA live regions\n * - Polite vs assertive announcements\n */\n\nimport React, { useEffect, useRef } from 'react';\nimport styles from './ScreenReaderAnnouncer.module.css';\n\n/**\n * Screen Reader Announcer Component\n */\nexport const ScreenReaderAnnouncer: React.FC = () => {\n  const politeRef = useRef<HTMLDivElement>(null);\n  const assertiveRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    /**\n     * Handle announcement request\n     *\n     * TECHNICAL IMPLEMENTATION:\n     * Listens for custom 'announce' events and displays message in\n     * appropriate ARIA live region.\n     */\n    const handleAnnounce = (event: CustomEvent) => {\n      const { message, politeness = 'polite' } = event.detail;\n\n      const target = politeness === 'assertive' ? assertiveRef.current : politeRef.current;\n      if (target) {\n        target.textContent = message;\n\n        // Clear after 3 seconds\n        setTimeout(() => {\n          target.textContent = '';\n        }, 3000);\n      }\n    };\n\n    // Listen for custom announce events\n    window.addEventListener('announce' as any, handleAnnounce);\n\n    return () => {\n      window.removeEventListener('announce' as any, handleAnnounce);\n    };\n  }, []);\n\n  return (\n    <>\n      {/* Polite announcements */}\n      <div\n        ref={politeRef}\n        className={styles.announcer}\n        role=\"status\"\n        aria-live=\"polite\"\n        aria-atomic=\"true\"\n      />\n\n      {/* Assertive announcements */}\n      <div\n        ref={assertiveRef}\n        className={styles.announcer}\n        role=\"alert\"\n        aria-live=\"assertive\"\n        aria-atomic=\"true\"\n      />\n    </>\n  );\n};\n","/**\n * Accessibility Settings Page\n *\n * BUSINESS CONTEXT:\n * Comprehensive accessibility settings page where users can customize their\n * accessibility preferences including font size, color scheme, motion, keyboard\n * navigation, and screen reader optimizations. Implements WCAG 2.1 AA guidelines.\n *\n * TECHNICAL IMPLEMENTATION:\n * Uses AccessibilityContext for state management. Organizes settings into logical\n * sections with clear labels and descriptions. Provides immediate visual feedback\n * for all changes.\n *\n * WCAG 2.1 AA Compliance:\n * - Keyboard accessible throughout\n * - ARIA labels for all controls\n * - Clear visual feedback\n * - Logical focus order\n * - High contrast support\n */\n\nimport React, { useState } from 'react';\nimport { useAccessibility } from './hooks/useAccessibility';\nimport { FontSizeSelector } from './components/FontSizeSelector';\nimport { ColorSchemeSelector } from './components/ColorSchemeSelector';\nimport { MotionPreferences } from './components/MotionPreferences';\nimport { KeyboardShortcutsPanel } from './components/KeyboardShortcutsPanel';\nimport { SkipLinks } from './components/SkipLinks';\nimport { FocusIndicator } from './components/FocusIndicator';\nimport { ScreenReaderAnnouncer } from './components/ScreenReaderAnnouncer';\nimport styles from './AccessibilitySettings.module.css';\n\n/**\n * Accessibility Settings Component\n *\n * BUSINESS LOGIC:\n * Provides comprehensive accessibility customization interface.\n * Organizes settings into logical sections for easy navigation.\n * Saves changes automatically with visual feedback.\n *\n * @returns Accessibility settings page\n */\nexport const AccessibilitySettings: React.FC = () => {\n  const {\n    preferences,\n    isLoading,\n    error,\n    updatePreferences,\n    resetPreferences,\n    announce,\n  } = useAccessibility();\n\n  const [isSaving, setIsSaving] = useState(false);\n  const [saveMessage, setSaveMessage] = useState<string | null>(null);\n\n  /**\n   * Handle preference update\n   *\n   * BUSINESS LOGIC:\n   * Updates a single preference with loading and success feedback.\n   *\n   * @param updates - Preferences to update\n   */\n  const handleUpdate = async (updates: Partial<typeof preferences>): Promise<void> => {\n    if (!preferences) return;\n\n    setIsSaving(true);\n    setSaveMessage(null);\n\n    try {\n      await updatePreferences(updates);\n      setSaveMessage('Settings saved successfully');\n      announce('Settings saved successfully');\n\n      // Clear success message after 3 seconds\n      setTimeout(() => setSaveMessage(null), 3000);\n    } catch (err: any) {\n      setSaveMessage(`Error: ${err.message}`);\n      announce('Failed to save settings', 'assertive');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  /**\n   * Handle reset to defaults\n   *\n   * BUSINESS LOGIC:\n   * Resets all preferences to platform defaults with confirmation.\n   */\n  const handleReset = async (): Promise<void> => {\n    if (!confirm('Reset all accessibility settings to defaults? This cannot be undone.')) {\n      return;\n    }\n\n    setIsSaving(true);\n    setSaveMessage(null);\n\n    try {\n      await resetPreferences();\n      setSaveMessage('Settings reset to defaults');\n      announce('Settings reset to defaults');\n\n      setTimeout(() => setSaveMessage(null), 3000);\n    } catch (err: any) {\n      setSaveMessage(`Error: ${err.message}`);\n      announce('Failed to reset settings', 'assertive');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className={styles.container} role=\"main\" aria-busy=\"true\">\n        <div className={styles.loading}>\n          <div className={styles.spinner} aria-label=\"Loading accessibility settings\"></div>\n          <p>Loading accessibility settings...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!preferences) {\n    return (\n      <div className={styles.container} role=\"main\">\n        <div className={styles.error} role=\"alert\">\n          <h1>Error Loading Settings</h1>\n          <p>{error || 'Failed to load accessibility preferences'}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      {/* Skip Links */}\n      <SkipLinks />\n\n      {/* Main Content */}\n      <div className={styles.container} role=\"main\" id=\"main-content\">\n        {/* Page Header */}\n        <header className={styles.header}>\n          <h1 className={styles.title}>Accessibility Settings</h1>\n          <p className={styles.description}>\n            Customize your accessibility preferences to personalize your learning experience.\n            All changes are saved automatically.\n          </p>\n        </header>\n\n        {/* Save Status */}\n        {saveMessage && (\n          <div\n            className={`${styles.saveStatus} ${saveMessage.startsWith('Error') ? styles.error : styles.success}`}\n            role=\"status\"\n            aria-live=\"polite\"\n          >\n            {saveMessage}\n          </div>\n        )}\n\n        {/* Settings Sections */}\n        <div className={styles.sections}>\n          {/* Visual Preferences Section */}\n          <section className={styles.section} aria-labelledby=\"visual-heading\">\n            <h2 id=\"visual-heading\" className={styles.sectionTitle}>\n              Visual Preferences\n            </h2>\n            <p className={styles.sectionDescription}>\n              Customize text size, color scheme, and visual appearance\n            </p>\n\n            <div className={styles.controls}>\n              {/* Font Size */}\n              <FontSizeSelector\n                value={preferences.fontSize}\n                onChange={(fontSize) => handleUpdate({ fontSize })}\n                disabled={isSaving}\n              />\n\n              {/* Color Scheme */}\n              <ColorSchemeSelector\n                value={preferences.colorScheme}\n                highContrastMode={preferences.highContrastMode}\n                onColorSchemeChange={(colorScheme) => handleUpdate({ colorScheme })}\n                onHighContrastChange={(highContrastMode) => handleUpdate({ highContrastMode })}\n                disabled={isSaving}\n              />\n\n              {/* Focus Indicator */}\n              <FocusIndicator\n                value={preferences.focusIndicatorStyle}\n                onChange={(focusIndicatorStyle) => handleUpdate({ focusIndicatorStyle })}\n                disabled={isSaving}\n              />\n\n              {/* Transparency */}\n              <div className={styles.control}>\n                <label htmlFor=\"reduce-transparency\" className={styles.label}>\n                  Reduce Transparency\n                  <span className={styles.helpText}>\n                    Reduces transparency effects for better visibility\n                  </span>\n                </label>\n                <input\n                  type=\"checkbox\"\n                  id=\"reduce-transparency\"\n                  checked={preferences.reduceTransparency}\n                  onChange={(e) => handleUpdate({ reduceTransparency: e.target.checked })}\n                  disabled={isSaving}\n                  className={styles.checkbox}\n                />\n              </div>\n            </div>\n          </section>\n\n          {/* Motion Preferences Section */}\n          <section className={styles.section} aria-labelledby=\"motion-heading\">\n            <h2 id=\"motion-heading\" className={styles.sectionTitle}>\n              Motion & Animation\n            </h2>\n            <p className={styles.sectionDescription}>\n              Control animations and motion effects\n            </p>\n\n            <div className={styles.controls}>\n              <MotionPreferences\n                value={preferences.motionPreference}\n                onChange={(motionPreference) => handleUpdate({ motionPreference })}\n                disabled={isSaving}\n              />\n            </div>\n          </section>\n\n          {/* Keyboard Navigation Section */}\n          <section className={styles.section} aria-labelledby=\"keyboard-heading\">\n            <h2 id=\"keyboard-heading\" className={styles.sectionTitle}>\n              Keyboard Navigation\n            </h2>\n            <p className={styles.sectionDescription}>\n              Configure keyboard shortcuts and navigation\n            </p>\n\n            <div className={styles.controls}>\n              {/* Keyboard Shortcuts Enabled */}\n              <div className={styles.control}>\n                <label htmlFor=\"keyboard-shortcuts\" className={styles.label}>\n                  Enable Keyboard Shortcuts\n                  <span className={styles.helpText}>\n                    Enable custom keyboard shortcuts for faster navigation\n                  </span>\n                </label>\n                <input\n                  type=\"checkbox\"\n                  id=\"keyboard-shortcuts\"\n                  checked={preferences.keyboardShortcutsEnabled}\n                  onChange={(e) => handleUpdate({ keyboardShortcutsEnabled: e.target.checked })}\n                  disabled={isSaving}\n                  className={styles.checkbox}\n                />\n              </div>\n\n              {/* Skip Links Visible */}\n              <div className={styles.control}>\n                <label htmlFor=\"skip-links-visible\" className={styles.label}>\n                  Always Show Skip Links\n                  <span className={styles.helpText}>\n                    Keep skip navigation links always visible (normally shown on focus)\n                  </span>\n                </label>\n                <input\n                  type=\"checkbox\"\n                  id=\"skip-links-visible\"\n                  checked={preferences.skipLinksAlwaysVisible}\n                  onChange={(e) => handleUpdate({ skipLinksAlwaysVisible: e.target.checked })}\n                  disabled={isSaving}\n                  className={styles.checkbox}\n                />\n              </div>\n\n              {/* Focus Highlight */}\n              <div className={styles.control}>\n                <label htmlFor=\"focus-highlight\" className={styles.label}>\n                  Enable Focus Highlights\n                  <span className={styles.helpText}>\n                    Show visual highlight for focused elements\n                  </span>\n                </label>\n                <input\n                  type=\"checkbox\"\n                  id=\"focus-highlight\"\n                  checked={preferences.focusHighlightEnabled}\n                  onChange={(e) => handleUpdate({ focusHighlightEnabled: e.target.checked })}\n                  disabled={isSaving}\n                  className={styles.checkbox}\n                />\n              </div>\n\n              {/* Keyboard Shortcuts Panel */}\n              {preferences.keyboardShortcutsEnabled && (\n                <KeyboardShortcutsPanel />\n              )}\n            </div>\n          </section>\n\n          {/* Screen Reader Section */}\n          <section className={styles.section} aria-labelledby=\"screen-reader-heading\">\n            <h2 id=\"screen-reader-heading\" className={styles.sectionTitle}>\n              Screen Reader\n            </h2>\n            <p className={styles.sectionDescription}>\n              Optimize for screen reader users\n            </p>\n\n            <div className={styles.controls}>\n              {/* Screen Reader Optimizations */}\n              <div className={styles.control}>\n                <label htmlFor=\"screen-reader-optimizations\" className={styles.label}>\n                  Enable Screen Reader Optimizations\n                  <span className={styles.helpText}>\n                    Optimizes interface for screen reader users\n                  </span>\n                </label>\n                <input\n                  type=\"checkbox\"\n                  id=\"screen-reader-optimizations\"\n                  checked={preferences.screenReaderOptimizations}\n                  onChange={(e) => handleUpdate({ screenReaderOptimizations: e.target.checked })}\n                  disabled={isSaving}\n                  className={styles.checkbox}\n                />\n              </div>\n\n              {/* Announce Page Changes */}\n              <div className={styles.control}>\n                <label htmlFor=\"announce-page-changes\" className={styles.label}>\n                  Announce Page Changes\n                  <span className={styles.helpText}>\n                    Announce when navigating to new pages\n                  </span>\n                </label>\n                <input\n                  type=\"checkbox\"\n                  id=\"announce-page-changes\"\n                  checked={preferences.announcePageChanges}\n                  onChange={(e) => handleUpdate({ announcePageChanges: e.target.checked })}\n                  disabled={isSaving}\n                  className={styles.checkbox}\n                />\n              </div>\n\n              {/* Verbose Announcements */}\n              <div className={styles.control}>\n                <label htmlFor=\"verbose-announcements\" className={styles.label}>\n                  Verbose Announcements\n                  <span className={styles.helpText}>\n                    Provide more detailed screen reader announcements\n                  </span>\n                </label>\n                <input\n                  type=\"checkbox\"\n                  id=\"verbose-announcements\"\n                  checked={preferences.verboseAnnouncements}\n                  onChange={(e) => handleUpdate({ verboseAnnouncements: e.target.checked })}\n                  disabled={isSaving}\n                  className={styles.checkbox}\n                />\n              </div>\n            </div>\n          </section>\n\n          {/* Media Preferences Section */}\n          <section className={styles.section} aria-labelledby=\"media-heading\">\n            <h2 id=\"media-heading\" className={styles.sectionTitle}>\n              Media Preferences\n            </h2>\n            <p className={styles.sectionDescription}>\n              Configure audio and video settings\n            </p>\n\n            <div className={styles.controls}>\n              {/* Auto-play Media */}\n              <div className={styles.control}>\n                <label htmlFor=\"auto-play-media\" className={styles.label}>\n                  Auto-play Media\n                  <span className={styles.helpText}>\n                    Automatically play videos and audio when loaded\n                  </span>\n                </label>\n                <input\n                  type=\"checkbox\"\n                  id=\"auto-play-media\"\n                  checked={preferences.autoPlayMedia}\n                  onChange={(e) => handleUpdate({ autoPlayMedia: e.target.checked })}\n                  disabled={isSaving}\n                  className={styles.checkbox}\n                />\n              </div>\n\n              {/* Captions Enabled */}\n              <div className={styles.control}>\n                <label htmlFor=\"captions-enabled\" className={styles.label}>\n                  Enable Captions\n                  <span className={styles.helpText}>\n                    Show captions for video content by default\n                  </span>\n                </label>\n                <input\n                  type=\"checkbox\"\n                  id=\"captions-enabled\"\n                  checked={preferences.captionsEnabled}\n                  onChange={(e) => handleUpdate({ captionsEnabled: e.target.checked })}\n                  disabled={isSaving}\n                  className={styles.checkbox}\n                />\n              </div>\n\n              {/* Audio Descriptions */}\n              <div className={styles.control}>\n                <label htmlFor=\"audio-descriptions\" className={styles.label}>\n                  Enable Audio Descriptions\n                  <span className={styles.helpText}>\n                    Enable audio descriptions for video content\n                  </span>\n                </label>\n                <input\n                  type=\"checkbox\"\n                  id=\"audio-descriptions\"\n                  checked={preferences.audioDescriptionsEnabled}\n                  onChange={(e) => handleUpdate({ audioDescriptionsEnabled: e.target.checked })}\n                  disabled={isSaving}\n                  className={styles.checkbox}\n                />\n              </div>\n            </div>\n          </section>\n\n          {/* Timing Preferences Section */}\n          <section className={styles.section} aria-labelledby=\"timing-heading\">\n            <h2 id=\"timing-heading\" className={styles.sectionTitle}>\n              Timing & Timeouts\n            </h2>\n            <p className={styles.sectionDescription}>\n              Adjust timing and auto-refresh settings\n            </p>\n\n            <div className={styles.controls}>\n              {/* Extend Timeouts */}\n              <div className={styles.control}>\n                <label htmlFor=\"extend-timeouts\" className={styles.label}>\n                  Extend Session Timeouts\n                  <span className={styles.helpText}>\n                    Extend session timeout durations\n                  </span>\n                </label>\n                <input\n                  type=\"checkbox\"\n                  id=\"extend-timeouts\"\n                  checked={preferences.extendTimeouts}\n                  onChange={(e) => handleUpdate({ extendTimeouts: e.target.checked })}\n                  disabled={isSaving}\n                  className={styles.checkbox}\n                />\n              </div>\n\n              {/* Timeout Multiplier */}\n              {preferences.extendTimeouts && (\n                <div className={styles.control}>\n                  <label htmlFor=\"timeout-multiplier\" className={styles.label}>\n                    Timeout Extension (1.0x to 5.0x)\n                    <span className={styles.helpText}>\n                      Current: {preferences.timeoutMultiplier.toFixed(1)}x\n                    </span>\n                  </label>\n                  <input\n                    type=\"range\"\n                    id=\"timeout-multiplier\"\n                    min=\"1.0\"\n                    max=\"5.0\"\n                    step=\"0.5\"\n                    value={preferences.timeoutMultiplier}\n                    onChange={(e) => handleUpdate({ timeoutMultiplier: parseFloat(e.target.value) })}\n                    disabled={isSaving}\n                    className={styles.slider}\n                    aria-valuemin={1.0}\n                    aria-valuemax={5.0}\n                    aria-valuenow={preferences.timeoutMultiplier}\n                  />\n                </div>\n              )}\n\n              {/* Disable Auto-refresh */}\n              <div className={styles.control}>\n                <label htmlFor=\"disable-auto-refresh\" className={styles.label}>\n                  Disable Auto-refresh\n                  <span className={styles.helpText}>\n                    Prevent automatic page refresh\n                  </span>\n                </label>\n                <input\n                  type=\"checkbox\"\n                  id=\"disable-auto-refresh\"\n                  checked={preferences.disableAutoRefresh}\n                  onChange={(e) => handleUpdate({ disableAutoRefresh: e.target.checked })}\n                  disabled={isSaving}\n                  className={styles.checkbox}\n                />\n              </div>\n            </div>\n          </section>\n        </div>\n\n        {/* Reset Button */}\n        <div className={styles.actions}>\n          <button\n            type=\"button\"\n            onClick={handleReset}\n            disabled={isSaving}\n            className={styles.resetButton}\n            aria-label=\"Reset all accessibility settings to defaults\"\n          >\n            Reset to Defaults\n          </button>\n        </div>\n      </div>\n\n      {/* Screen Reader Announcer */}\n      <ScreenReaderAnnouncer />\n    </>\n  );\n};\n\nexport default AccessibilitySettings;\n"],"names":["FontSizePreference","ColorSchemePreference","MotionPreference","FocusIndicatorStyle","AccessibilityService","userId","apiClient","error","preferences","response","root","fontSizeMultipliers","animationMultipliers","focusWidths","foreground","background","level","componentName","getLuminance","hex","rgb","r","g","b","val","v","lum1","lum2","lighter","darker","result","context","params","action","key","modifiers","message","politeness","delayMs","announce","liveRegion","existing","accessibilityService","AccessibilityContext","createContext","useAccessibilityContext","useContext","FontSizeSelector","value","onChange","disabled","options","jsx","styles","jsxs","option","ColorSchemeSelector","highContrastMode","onColorSchemeChange","onHighContrastChange","e","MotionPreferences","KeyboardShortcutsPanel","shortcuts","setShortcuts","useState","isLoading","setIsLoading","useEffect","loaded","formatShortcut","shortcut","parts","m","SkipLinks","skipLinks","link","FocusIndicator","ScreenReaderAnnouncer","politeRef","useRef","assertiveRef","handleAnnounce","event","target","Fragment","AccessibilitySettings","updatePreferences","resetPreferences","useAccessibility","isSaving","setIsSaving","saveMessage","setSaveMessage","handleUpdate","updates","err","handleReset","fontSize","colorScheme","focusIndicatorStyle","motionPreference"],"mappings":"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"}