{"version":3,"file":"ForgotPassword-CWXgaKpg.js","sources":["../../src/features/auth/pages/ForgotPasswordPage/ForgotPasswordPage.tsx"],"sourcesContent":["/**\n * Forgot Password Page Component\n *\n * BUSINESS CONTEXT:\n * Password reset request page for users who forgot their password.\n * Sends password reset link via email for secure account recovery.\n *\n * TECHNICAL IMPLEMENTATION:\n * Form validation with controlled input, auth service integration,\n * success confirmation, and clear user feedback.\n *\n * DESIGN PRINCIPLES:\n * - Clean, centered layout with Tami design system\n * - Email validation before submission\n * - Clear success/error messages\n * - Accessible form with proper labels and ARIA attributes\n */\n\nimport React, { useState, FormEvent } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Input } from '../../../../components/atoms/Input';\nimport { Button } from '../../../../components/atoms/Button';\nimport { Heading } from '../../../../components/atoms/Heading';\nimport { Card } from '../../../../components/atoms/Card';\nimport { authService } from '../../../../services/authService';\nimport styles from './ForgotPasswordPage.module.css';\n\ninterface ForgotPasswordFormData {\n  email: string;\n}\n\ninterface ForgotPasswordFormErrors {\n  email?: string;\n  submit?: string;\n}\n\n/**\n * Forgot Password Page Component\n *\n * WHY THIS APPROACH:\n * - Controlled form input for validation\n * - Direct authService call (no auth state needed)\n * - Success state to show confirmation message\n * - Loading states to prevent double submission\n * - Clear error messages for user feedback\n *\n * @example\n * ```tsx\n * <Route path=\"/forgot-password\" element={<ForgotPasswordPage />} />\n * ```\n */\nexport const ForgotPasswordPage: React.FC = () => {\n  const [formData, setFormData] = useState<ForgotPasswordFormData>({\n    email: '',\n  });\n\n  const [errors, setErrors] = useState<ForgotPasswordFormErrors>({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n\n  /**\n   * Validate form data\n   */\n  const validateForm = (): boolean => {\n    const newErrors: ForgotPasswordFormErrors = {};\n\n    // Email validation\n    if (!formData.email) {\n      newErrors.email = 'Email is required';\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n      newErrors.email = 'Please enter a valid email address';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  /**\n   * Handle form submission\n   */\n  const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    // Clear previous submit errors\n    setErrors((prev) => ({ ...prev, submit: undefined }));\n\n    // Validate form\n    if (!validateForm()) {\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      // Request password reset\n      await authService.requestPasswordReset({ email: formData.email });\n\n      // Show success message\n      setIsSuccess(true);\n    } catch (error) {\n      // Handle error\n      setErrors({\n        submit:\n          error instanceof Error\n            ? error.message\n            : 'Failed to send reset email. Please try again.',\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  /**\n   * Handle input change\n   */\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFormData({ email: e.target.value });\n\n    // Clear email error on change\n    if (errors.email) {\n      setErrors((prev) => ({\n        ...prev,\n        email: undefined,\n      }));\n    }\n  };\n\n  return (\n    <div className={styles['forgot-password-page']}>\n      <div className={styles['forgot-password-container']}>\n        <div className={styles['forgot-password-header']}>\n          <Heading level=\"h1\" align=\"center\" gutterBottom={false}>\n            Forgot Password?\n          </Heading>\n          <p className={styles['forgot-password-subtitle']}>\n            Enter your email address and we'll send you a link to reset your password\n          </p>\n        </div>\n\n        <Card variant=\"elevated\" padding=\"large\">\n          {isSuccess ? (\n            // Success confirmation\n            <div className={styles['forgot-password-success']}>\n              <div className={styles['success-icon']} aria-hidden=\"true\">\n                <svg width=\"64\" height=\"64\" viewBox=\"0 0 64 64\" fill=\"none\">\n                  <circle cx=\"32\" cy=\"32\" r=\"32\" fill=\"#dcfce7\" />\n                  <path\n                    d=\"M20 32L28 40L44 24\"\n                    stroke=\"#16a34a\"\n                    strokeWidth=\"4\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  />\n                </svg>\n              </div>\n\n              <Heading level=\"h2\" align=\"center\" gutterBottom={true}>\n                Check Your Email\n              </Heading>\n\n              <p className={styles['success-message']}>\n                We've sent a password reset link to <strong>{formData.email}</strong>.\n                Please check your inbox and follow the instructions to reset your password.\n              </p>\n\n              <p className={styles['success-note']}>\n                Didn't receive the email? Check your spam folder or{' '}\n                <button\n                  type=\"button\"\n                  onClick={() => setIsSuccess(false)}\n                  className={styles['retry-link']}\n                >\n                  try again\n                </button>\n                .\n              </p>\n\n              <Link to=\"/login\" className={styles['back-to-login']}>\n                <Button variant=\"secondary\" size=\"large\" fullWidth>\n                  Back to Login\n                </Button>\n              </Link>\n            </div>\n          ) : (\n            // Request form\n            <form\n              onSubmit={handleSubmit}\n              className={styles['forgot-password-form']}\n              noValidate\n            >\n              {/* Submit Error Message */}\n              {errors.submit && (\n                <div className={styles['forgot-password-error-banner']} role=\"alert\">\n                  {errors.submit}\n                </div>\n              )}\n\n              {/* Email Input */}\n              <Input\n                type=\"email\"\n                label=\"Email Address\"\n                placeholder=\"you@example.com\"\n                value={formData.email}\n                onChange={handleChange}\n                error={errors.email}\n                required\n                autoComplete=\"email\"\n                autoFocus\n                disabled={isLoading}\n              />\n\n              {/* Submit Button */}\n              <Button\n                type=\"submit\"\n                variant=\"primary\"\n                size=\"large\"\n                fullWidth\n                loading={isLoading}\n                disabled={isLoading}\n              >\n                {isLoading ? 'Sending...' : 'Send Reset Link'}\n              </Button>\n\n              {/* Back to Login Link */}\n              <div className={styles['forgot-password-footer']}>\n                <Link to=\"/login\" className={styles['forgot-password-link']}>\n                  ‚Üê Back to Login\n                </Link>\n              </div>\n            </form>\n          )}\n        </Card>\n      </div>\n    </div>\n  );\n};\n"],"names":["ForgotPasswordPage","formData","setFormData","useState","errors","setErrors","isLoading","setIsLoading","isSuccess","setIsSuccess","validateForm","newErrors","handleSubmit","e","prev","authService","error","handleChange","jsx","styles","jsxs","Heading","Card","Link","Button","Input"],"mappings":"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"}