import{u as f,j as e}from"./query-vendor-DXemzGoE.js";import{D as c}from"./DashboardLayout-BOfJo783.js";import{S as u,C as s,B as d,H as l,c as v}from"./index-tkTXbn0O.js";import{L as o}from"./react-vendor-DLPaXABT.js";import"./state-vendor-DnXO85Wm.js";const C=()=>{const{data:p,isLoading:x,error:h}=f({queryKey:["studentQuizzes"],queryFn:async()=>(await v.get("/api/v1/quizzes/my-quizzes")).data,staleTime:3e5,retry:2}),a=p?.quizzes||[],m=a.filter(r=>r.status==="pending"||r.status==="in_progress"),i=a.filter(r=>r.status==="completed"),g=(r,t,n)=>{const y={pending:{backgroundColor:"#fef3c7",color:"#92400e",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:600},in_progress:{backgroundColor:"#dbeafe",color:"#1e40af",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:600},completed:{backgroundColor:t&&n&&t>=n?"#d1fae5":"#fee2e2",color:t&&n&&t>=n?"#065f46":"#991b1b",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:600}},j={pending:"Not Started",in_progress:"In Progress",completed:t&&n&&t>=n?"Passed":"Needs Review"};return e.jsx("span",{style:y[r],children:j[r]})};return x?e.jsx(c,{children:e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:e.jsx(u,{size:"large"})})}):h?e.jsx(c,{children:e.jsx("main",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:e.jsxs(s,{variant:"outlined",padding:"large",style:{textAlign:"center"},children:[e.jsx("p",{style:{color:"#dc2626",marginBottom:"1rem"},children:"Unable to load quizzes. Please try refreshing the page."}),e.jsx(d,{variant:"primary",onClick:()=>window.location.reload(),children:"Refresh Page"})]})})}):e.jsx(c,{children:e.jsxs("main",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx(l,{level:"h1",gutterBottom:!0,children:"Quizzes & Assessments"}),e.jsx("p",{style:{color:"#666",fontSize:"0.95rem"},children:"Complete quizzes to test your knowledge and track your progress"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[e.jsx(s,{variant:"elevated",padding:"medium",children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#3b82f6"},children:m.length}),e.jsx("div",{style:{color:"#666",fontSize:"0.875rem"},children:"Pending Quizzes"})]})}),e.jsx(s,{variant:"elevated",padding:"medium",children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#10b981"},children:i.length}),e.jsx("div",{style:{color:"#666",fontSize:"0.875rem"},children:"Completed"})]})}),e.jsx(s,{variant:"elevated",padding:"medium",children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#8b5cf6"},children:[i.length>0?Math.round(i.reduce((r,t)=>r+(t.score||0),0)/i.length):0,"%"]}),e.jsx("div",{style:{color:"#666",fontSize:"0.875rem"},children:"Average Score"})]})})]}),m.length>0&&e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx(l,{level:"h2",style:{fontSize:"1.25rem",marginBottom:"1rem"},children:"ðŸ“ Ready to Take"}),e.jsx("div",{style:{display:"grid",gap:"1rem"},children:m.map(r=>e.jsx(s,{variant:"outlined",padding:"large",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"1rem"},children:[e.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[e.jsx(l,{level:"h3",style:{fontSize:"1.1rem",margin:0},children:r.title}),g(r.status)]}),e.jsx("p",{style:{color:"#666",fontSize:"0.875rem",marginBottom:"0.75rem"},children:r.description}),e.jsxs("div",{style:{display:"flex",gap:"1.5rem",fontSize:"0.875rem",color:"#666"},children:[e.jsxs("span",{children:["ðŸ“š ",r.course_title]}),e.jsxs("span",{children:["â“ ",r.num_questions," questions"]}),r.time_limit_minutes&&e.jsxs("span",{children:["â±ï¸ ",r.time_limit_minutes," min"]}),e.jsxs("span",{children:["âœ… Pass: ",r.passing_score,"%"]})]})]}),e.jsx("div",{children:e.jsx(o,{to:`/quizzes/${r.id}/course/${r.course_id}`,children:e.jsx(d,{variant:"primary",size:"medium","data-action":"take-quiz",children:r.status==="in_progress"?"Continue Quiz":"Start Quiz"})})})]})},r.id))})]}),i.length>0&&e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx(l,{level:"h2",style:{fontSize:"1.25rem",marginBottom:"1rem"},children:"âœ… Completed Quizzes"}),e.jsx("div",{style:{display:"grid",gap:"1rem"},children:i.map(r=>e.jsx(s,{variant:"outlined",padding:"large",style:{backgroundColor:"#f9fafb"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"1rem"},children:[e.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[e.jsx(l,{level:"h3",style:{fontSize:"1.1rem",margin:0},children:r.title}),g(r.status,r.score,r.passing_score)]}),e.jsxs("p",{style:{color:"#666",fontSize:"0.875rem",marginBottom:"0.75rem"},children:["ðŸ“š ",r.course_title]}),e.jsxs("div",{style:{display:"flex",gap:"1.5rem",fontSize:"0.875rem"},children:[e.jsxs("span",{style:{fontWeight:600,color:r.score&&r.score>=r.passing_score?"#10b981":"#dc2626"},children:["Score: ",r.score,"%"]}),r.completed_at&&e.jsxs("span",{style:{color:"#666"},children:["Completed: ",new Date(r.completed_at).toLocaleDateString()]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx(o,{to:`/quizzes/${r.id}/course/${r.course_id}/results`,children:e.jsx(d,{variant:"secondary",size:"medium",children:"View Results"})}),r.score&&r.score<r.passing_score&&e.jsx(o,{to:`/quizzes/${r.id}/course/${r.course_id}`,children:e.jsx(d,{variant:"primary",size:"medium",children:"Retake Quiz"})})]})]})},r.id))})]}),a.length===0&&e.jsxs(s,{variant:"outlined",padding:"large",style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"ðŸ“"}),e.jsx(l,{level:"h3",style:{marginBottom:"0.5rem"},children:"No Quizzes Available"}),e.jsx("p",{style:{color:"#666",marginBottom:"1.5rem"},children:"Quizzes will appear here once your trainer assigns them to your enrolled courses."}),e.jsx(o,{to:"/courses/my-courses",children:e.jsx(d,{variant:"primary",children:"View My Courses"})})]})]})})};export{C as QuizListPage};
//# sourceMappingURL=QuizListPage-Dna-B-Wc.js.map
