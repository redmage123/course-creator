import{j as l}from"./query-vendor-DXemzGoE.js";import{a}from"./react-vendor-DLPaXABT.js";const H="_dropdownSlideIn_5cyjv_1",t={"select-container":"_select-container_5cyjv_15","select-label":"_select-label_5cyjv_28","select-required":"_select-required_5cyjv_39","select-trigger":"_select-trigger_5cyjv_49","select-small":"_select-small_5cyjv_93","select-medium":"_select-medium_5cyjv_98","select-large":"_select-large_5cyjv_103","select-value":"_select-value_5cyjv_112","select-search":"_select-search_5cyjv_124","select-arrow":"_select-arrow_5cyjv_150","select-arrow-open":"_select-arrow-open_5cyjv_159","select-dropdown":"_select-dropdown_5cyjv_167",dropdownSlideIn:H,"select-option":"_select-option_5cyjv_213","select-option-highlighted":"_select-option-highlighted_5cyjv_237","select-option-selected":"_select-option-selected_5cyjv_241","select-option-disabled":"_select-option-disabled_5cyjv_247","select-option-empty":"_select-option-empty_5cyjv_257","select-option-label":"_select-option-label_5cyjv_274","select-checkbox":"_select-checkbox_5cyjv_286","select-checkmark":"_select-checkmark_5cyjv_316","select-message":"_select-message_5cyjv_326","select-helper-text":"_select-helper-text_5cyjv_333","select-error-text":"_select-error-text_5cyjv_337","select-error":"_select-error_5cyjv_337","select-disabled":"_select-disabled_5cyjv_362"},U=a.forwardRef(({options:_,value:p,defaultValue:A,onChange:E,placeholder:u="Select...",label:x,helperText:L,error:h,required:S=!1,disabled:f=!1,searchable:C=!1,multiple:n=!1,size:D="medium",className:R,name:I,id:B},M)=>{const[r,o]=a.useState(!1),[y,j]=a.useState(""),[d,m]=a.useState(0),[O,T]=a.useState(A??(n?[]:"")),b=a.useRef(null),q=a.useRef(null),g=a.useRef(null),c=p!==void 0?p:O,i=y?_.filter(e=>e.label.toLowerCase().includes(y.toLowerCase())):_,W=a.useCallback(()=>n&&Array.isArray(c)?c.length===0?u:c.length===1?_.find(N=>N.value===c[0])?.label||u:`${c.length} selected`:_.find(s=>s.value===c)?.label||u,[c,n,_,u]),k=e=>{let s;n&&Array.isArray(c)?c.includes(e)?s=c.filter(N=>N!==e):s=[...c,e]:(s=e,o(!1)),p===void 0&&T(s),E?.(s),j("")},K=e=>{if(!f)switch(e.key){case"ArrowDown":e.preventDefault(),r?m(s=>s<i.length-1?s+1:s):o(!0);break;case"ArrowUp":e.preventDefault(),r&&m(s=>s>0?s-1:0);break;case"Enter":if(e.preventDefault(),r&&i[d]){const s=i[d];s.disabled||k(s.value)}else o(!0);break;case"Escape":e.preventDefault(),o(!1),j("");break;case" ":if(!C){if(e.preventDefault(),!r)o(!0);else if(i[d]){const s=i[d];s.disabled||k(s.value)}}break;case"Tab":r&&o(!1);break}};a.useEffect(()=>{const e=s=>{b.current&&!b.current.contains(s.target)&&(o(!1),j(""))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),a.useEffect(()=>{if(r&&g.current){const e=g.current.children[d];e&&e.scrollIntoView({block:"nearest",behavior:"smooth"})}},[d,r]),a.useEffect(()=>{m(0)},[i]);const v=e=>n&&Array.isArray(c)?c.includes(e):c===e,w=B||`select-${Math.random().toString(36).substr(2,9)}`,$=`${w}-listbox`,F=[t["select-container"],t[`select-${D}`],h&&t["select-error"],f&&t["select-disabled"],R].filter(Boolean).join(" ");return l.jsxs("div",{ref:b,className:F,children:[x&&l.jsxs("label",{htmlFor:w,className:t["select-label"],children:[x,S&&l.jsx("span",{className:t["select-required"],children:"*"})]}),l.jsxs("div",{ref:M,className:t["select-trigger"],onClick:()=>!f&&o(!r),onKeyDown:K,role:"combobox","aria-expanded":r,"aria-haspopup":"listbox","aria-controls":$,"aria-labelledby":x?`${w}-label`:void 0,"aria-invalid":!!h,"aria-required":S,tabIndex:f?-1:0,children:[C&&r?l.jsx("input",{ref:q,type:"text",className:t["select-search"],value:y,onChange:e=>j(e.target.value),placeholder:"Type to search..."}):l.jsx("span",{className:t["select-value"],children:W()}),l.jsx("svg",{className:`${t["select-arrow"]} ${r?t["select-arrow-open"]:""}`,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:l.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),r&&l.jsx("ul",{ref:g,id:$,className:t["select-dropdown"],role:"listbox","aria-multiselectable":n,children:i.length===0?l.jsx("li",{className:t["select-option-empty"],role:"option",children:"No options found"}):i.map((e,s)=>l.jsxs("li",{className:`${t["select-option"]} ${v(e.value)?t["select-option-selected"]:""} ${s===d?t["select-option-highlighted"]:""} ${e.disabled?t["select-option-disabled"]:""}`,role:"option","aria-selected":v(e.value),"aria-disabled":e.disabled,onClick:()=>!e.disabled&&k(e.value),children:[n&&l.jsx("span",{className:t["select-checkbox"],children:v(e.value)&&l.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:l.jsx("path",{d:"M13.333 4L6 11.333L2.667 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx("span",{className:t["select-option-label"],children:e.label}),!n&&v(e.value)&&l.jsx("svg",{className:t["select-checkmark"],width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:l.jsx("path",{d:"M13.333 4L6 11.333L2.667 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]},e.value))}),(L||h)&&l.jsx("div",{className:t["select-message"],children:h?l.jsx("span",{className:t["select-error-text"],children:h}):l.jsx("span",{className:t["select-helper-text"],children:L})}),I&&l.jsx("input",{type:"hidden",name:I,value:Array.isArray(c)?c.join(","):c})]})});U.displayName="Select";export{U as S};
//# sourceMappingURL=Select-5dtzX9qU.js.map
