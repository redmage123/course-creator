import{j as e}from"./query-vendor-D-Supqfh.js";import{a as w}from"./react-vendor-DF6vRnOe.js";import{c as h}from"./index-Ct7E_yc6.js";import"./state-vendor-CcNjB5Go.js";class R{baseUrl="/integrations";async registerLTIPlatform(s,o){return await h.post(`${this.baseUrl}/lti/platforms`,{...o,organization_id:s})}async getOrganizationLTIPlatforms(s){return await h.get(`${this.baseUrl}/lti/platforms`,{params:{organization_id:s}})}async getLTIPlatformById(s){return await h.get(`${this.baseUrl}/lti/platforms/${s}`)}async verifyLTIPlatform(s){return await h.post(`${this.baseUrl}/lti/platforms/${s}/verify`)}async deactivateLTIPlatform(s){return await h.post(`${this.baseUrl}/lti/platforms/${s}/deactivate`)}async getLTIContexts(s){return await h.get(`${this.baseUrl}/lti/platforms/${s}/contexts`)}async linkLTIContextToCourse(s,o){return await h.post(`${this.baseUrl}/lti/contexts/${s}/link`,{course_id:o})}async getPendingGradeSyncs(s=100){return await h.get(`${this.baseUrl}/lti/grade-syncs/pending`,{params:{limit:s}})}async connectCalendar(s){return await h.post(`${this.baseUrl}/calendars/connect`,s)}async getUserCalendars(s){return await h.get(`${this.baseUrl}/calendars`,{params:{user_id:s}})}async updateCalendarSettings(s,o){return await h.put(`${this.baseUrl}/calendars/${s}`,o)}async disconnectCalendar(s){await h.delete(`${this.baseUrl}/calendars/${s}`)}async getCalendarEvents(s,o,i){return await h.get(`${this.baseUrl}/calendars/events`,{params:{user_id:s,start_date:o,end_date:i}})}async triggerCalendarSync(s){return await h.post(`${this.baseUrl}/calendars/${s}/sync`)}async connectSlackWorkspace(s,o){return await h.post(`${this.baseUrl}/slack/workspaces`,{...o,organization_id:s})}async getOrganizationSlackWorkspace(s){return await h.get(`${this.baseUrl}/slack/workspaces`,{params:{organization_id:s}})}async updateSlackSettings(s,o){return await h.put(`${this.baseUrl}/slack/workspaces/${s}`,o)}async disconnectSlackWorkspace(s){await h.delete(`${this.baseUrl}/slack/workspaces/${s}`)}async getEntitySlackChannels(s,o){return await h.get(`${this.baseUrl}/slack/channels`,{params:{entity_type:s,entity_id:o}})}async mapSlackChannel(s,o,i,p,c){return await h.post(`${this.baseUrl}/slack/channels`,{workspace_id:s,channel_id:o,channel_name:c,entity_type:i,entity_id:p})}async testSlackConnection(s){return await h.post(`${this.baseUrl}/slack/workspaces/${s}/test`)}async createOutboundWebhook(s,o){return await h.post(`${this.baseUrl}/webhooks/outbound`,{...o,organization_id:s})}async getOrganizationWebhooks(s){return await h.get(`${this.baseUrl}/webhooks/outbound`,{params:{organization_id:s}})}async updateOutboundWebhook(s,o){return await h.put(`${this.baseUrl}/webhooks/outbound/${s}`,o)}async deleteOutboundWebhook(s){await h.delete(`${this.baseUrl}/webhooks/outbound/${s}`)}async testOutboundWebhook(s){return await h.post(`${this.baseUrl}/webhooks/outbound/${s}/test`)}async getWebhookDeliveryLogs(s,o=50){return await h.get(`${this.baseUrl}/webhooks/outbound/${s}/logs`,{params:{limit:o}})}async getInboundWebhooks(s){return await h.get(`${this.baseUrl}/webhooks/inbound`,{params:{organization_id:s}})}async createInboundWebhook(s,o,i,p){return await h.post(`${this.baseUrl}/webhooks/inbound`,{organization_id:s,name:o,handler_type:i,description:p})}async deleteInboundWebhook(s){await h.delete(`${this.baseUrl}/webhooks/inbound/${s}`)}async storeOAuthToken(s){return await h.post(`${this.baseUrl}/oauth/tokens`,s)}async getOAuthToken(s,o,i){return await h.get(`${this.baseUrl}/oauth/tokens/${s}`,{params:{user_id:o,organization_id:i}})}async refreshOAuthToken(s){return await h.post(`${this.baseUrl}/oauth/tokens/${s}/refresh`)}async revokeOAuthToken(s){await h.delete(`${this.baseUrl}/oauth/tokens/${s}`)}async getUserOAuthConnections(s){return await h.get(`${this.baseUrl}/oauth/tokens`,{params:{user_id:s}})}async getOrganizationOAuthConnections(s){return await h.get(`${this.baseUrl}/oauth/tokens`,{params:{organization_id:s}})}initiateOAuthFlow(s,o,i){const p=new URLSearchParams({provider:s,scopes:o.join(","),redirect_uri:i});window.location.href=`${this.baseUrl}/oauth/authorize?${p.toString()}`}async handleOAuthCallback(s,o,i){return await h.post(`${this.baseUrl}/oauth/callback`,{provider:s,code:o,state:i})}}const k=new R,O=(f,s)=>{const[o,i]=w.useState({ltiPlatforms:[],ltiLoading:!1,ltiError:null,calendars:[],calendarsLoading:!1,calendarsError:null,slackWorkspace:null,slackLoading:!1,slackError:null,outboundWebhooks:[],inboundWebhooks:[],webhooksLoading:!1,webhooksError:null,oauthTokens:[],oauthLoading:!1,oauthError:null}),p=w.useCallback(async()=>{i(t=>({...t,ltiLoading:!0,ltiError:null}));try{const t=await k.getOrganizationLTIPlatforms(f);i(n=>({...n,ltiPlatforms:t,ltiLoading:!1}))}catch(t){i(n=>({...n,ltiError:t.response?.data?.message||"Failed to load LTI platforms",ltiLoading:!1}))}},[f]),c=w.useCallback(async()=>{if(s){i(t=>({...t,calendarsLoading:!0,calendarsError:null}));try{const t=await k.getUserCalendars(s);i(n=>({...n,calendars:t,calendarsLoading:!1}))}catch(t){i(n=>({...n,calendarsError:t.response?.data?.message||"Failed to load calendars",calendarsLoading:!1}))}}},[s]),b=w.useCallback(async()=>{i(t=>({...t,slackLoading:!0,slackError:null}));try{const t=await k.getOrganizationSlackWorkspace(f);i(n=>({...n,slackWorkspace:t,slackLoading:!1}))}catch(t){i(n=>({...n,slackError:t.response?.data?.message||"Failed to load Slack workspace",slackLoading:!1}))}},[f]),m=w.useCallback(async()=>{i(t=>({...t,webhooksLoading:!0,webhooksError:null}));try{const[t,n]=await Promise.all([k.getOrganizationWebhooks(f),k.getInboundWebhooks(f)]);i(j=>({...j,outboundWebhooks:t,inboundWebhooks:n,webhooksLoading:!1}))}catch(t){i(n=>({...n,webhooksError:t.response?.data?.message||"Failed to load webhooks",webhooksLoading:!1}))}},[f]),g=w.useCallback(async()=>{i(t=>({...t,oauthLoading:!0,oauthError:null}));try{let t=[];s?t=await k.getUserOAuthConnections(s):t=await k.getOrganizationOAuthConnections(f),i(n=>({...n,oauthTokens:t,oauthLoading:!1}))}catch(t){i(n=>({...n,oauthError:t.response?.data?.message||"Failed to load OAuth connections",oauthLoading:!1}))}},[s,f]),d=w.useCallback(async()=>{await Promise.all([p(),c(),b(),m(),g()])},[p,c,b,m,g]);w.useEffect(()=>{p(),b(),m(),g()},[p,b,m,g]),w.useEffect(()=>{s&&c()},[s,c]);const u=o.ltiLoading||o.calendarsLoading||o.slackLoading||o.webhooksLoading||o.oauthLoading,l=!!o.ltiError||!!o.calendarsError||!!o.slackError||!!o.webhooksError||!!o.oauthError;return{...o,isLoading:u,hasError:l,refreshAll:d,refreshLTI:p,refreshCalendars:c,refreshSlack:b,refreshWebhooks:m,refreshOAuth:g}},W="_badge_1szu9_9",F="_indicator_1szu9_40",P="_statusConnected_1szu9_58",H="_statusDisconnected_1szu9_69",M="_statusError_1szu9_80",G="_statusPending_1szu9_91",V="_statusSyncing_1szu9_102",q="_pulse_1szu9_113",K="_text_1szu9_127",J="_lastSync_1szu9_133",Z="_errorTooltip_1szu9_141",S={badge:W,"size-small":"_size-small_1szu9_21","size-medium":"_size-medium_1szu9_27","size-large":"_size-large_1szu9_33",indicator:F,statusConnected:P,statusDisconnected:H,statusError:M,statusPending:G,statusSyncing:V,pulse:q,text:K,lastSync:J,errorTooltip:Z},T=({status:f,lastSync:s,errorMessage:o,size:i="medium"})=>{const p=()=>{switch(f){case"connected":return"Connected";case"disconnected":return"Disconnected";case"error":return"Error";case"pending":return"Pending";case"syncing":return"Syncing...";default:return"Unknown"}},c=()=>{switch(f){case"connected":return S.statusConnected;case"disconnected":return S.statusDisconnected;case"error":return S.statusError;case"pending":return S.statusPending;case"syncing":return S.statusSyncing;default:return S.statusDisconnected}},b=()=>{if(!s)return null;try{const u=new Date(s),t=new Date().getTime()-u.getTime(),n=Math.floor(t/6e4),j=Math.floor(t/36e5),$=Math.floor(t/864e5);return n<1?"Just now":n<60?`${n} min${n>1?"s":""} ago`:j<24?`${j} hour${j>1?"s":""} ago`:$<7?`${$} day${$>1?"s":""} ago`:u.toLocaleDateString()}catch{return null}},m=p(),g=c(),d=b();return e.jsxs("div",{className:`${S.badge} ${g} ${S[`size-${i}`]}`,role:"status","aria-label":`Integration status: ${m}${o?` - ${o}`:""}`,children:[e.jsx("span",{className:`${S.indicator} ${f==="syncing"?S.pulse:""}`,"aria-hidden":"true"}),e.jsx("span",{className:S.text,children:m}),i!=="small"&&d&&e.jsx("span",{className:S.lastSync,title:`Last synced: ${s}`,children:d}),o&&e.jsx("span",{className:S.errorTooltip,title:o,children:"â“˜"})]})},Y="_panel_2z0ss_6",Q="_header_2z0ss_13",X="_title_2z0ss_22",ee="_description_2z0ss_29",se="_addButton_2z0ss_35",te="_successMessage_2z0ss_57",ne="_form_2z0ss_68",ae="_formTitle_2z0ss_76",oe="_formGroup_2z0ss_83",re="_label_2z0ss_87",ie="_helpText_2z0ss_95",ce="_input_2z0ss_103",le="_error_2z0ss_118",de="_submitError_2z0ss_125",ue="_formActions_2z0ss_135",he="_cancelButton_2z0ss_144",_e="_submitButton_2z0ss_160",me="_platformList_2z0ss_183",pe="_platformCard_2z0ss_189",ge="_platformHeader_2z0ss_201",be="_platformName_2z0ss_208",xe="_platformIssuer_2z0ss_215",fe="_platformDetails_2z0ss_222",ke="_detailRow_2z0ss_229",je="_detailLabel_2z0ss_241",ye="_detailValue_2z0ss_247",ve="_verified_2z0ss_256",we="_unverified_2z0ss_261",Ne="_platformActions_2z0ss_266",Se="_verifyButton_2z0ss_271",Ce="_deactivateButton_2z0ss_287",$e="_emptyState_2z0ss_304",Le="_emptyStateHint_2z0ss_313",Te="_instructions_2z0ss_320",Be="_instructionsTitle_2z0ss_328",Ae="_instructionsList_2z0ss_335",Ie="_configValues_2z0ss_346",a={panel:Y,header:Q,title:X,description:ee,addButton:se,successMessage:te,form:ne,formTitle:ae,formGroup:oe,label:re,helpText:ie,input:ce,error:le,submitError:de,formActions:ue,cancelButton:he,submitButton:_e,platformList:me,platformCard:pe,platformHeader:ge,platformName:be,platformIssuer:xe,platformDetails:fe,detailRow:ke,detailLabel:je,detailValue:ye,verified:ve,unverified:we,platformActions:Ne,verifyButton:Se,deactivateButton:Ce,emptyState:$e,emptyStateHint:Le,instructions:Te,instructionsTitle:Be,instructionsList:Ae,configValues:Ie},Ue=({organizationId:f,platforms:s,onRefresh:o})=>{const[i,p]=w.useState(!1),[c,b]=w.useState({platform_name:"",issuer:"",client_id:"",auth_login_url:"",auth_token_url:"",jwks_url:"",deployment_id:"",scopes:[]}),[m,g]=w.useState({}),[d,u]=w.useState(!1),[l,t]=w.useState(""),n=()=>{const r={};return c.platform_name.trim()||(r.platform_name="Platform name is required"),c.issuer.trim()?c.issuer.startsWith("http")||(r.issuer="Issuer must be a valid URL"):r.issuer="Issuer URL is required",c.client_id.trim()||(r.client_id="Client ID is required"),c.auth_login_url.trim()?c.auth_login_url.startsWith("http")||(r.auth_login_url="Auth login URL must be a valid URL"):r.auth_login_url="Auth login URL is required",c.auth_token_url.trim()?c.auth_token_url.startsWith("http")||(r.auth_token_url="Auth token URL must be a valid URL"):r.auth_token_url="Auth token URL is required",c.jwks_url.trim()?c.jwks_url.startsWith("http")||(r.jwks_url="JWKS URL must be a valid URL"):r.jwks_url="JWKS URL is required",g(r),Object.keys(r).length===0},j=async r=>{if(r.preventDefault(),!!n()){u(!0),t("");try{await k.registerLTIPlatform(f,c),t("LTI platform registered successfully!"),p(!1),b({platform_name:"",issuer:"",client_id:"",auth_login_url:"",auth_token_url:"",jwks_url:"",deployment_id:"",scopes:[]}),g({}),o()}catch(L){g({submit:L.response?.data?.message||"Failed to register LTI platform"})}finally{u(!1)}}},$=async r=>{if(window.confirm("Are you sure you want to deactivate this LTI platform?"))try{await k.deactivateLTIPlatform(r),t("LTI platform deactivated successfully!"),o()}catch(L){alert(L.response?.data?.message||"Failed to deactivate LTI platform")}},B=async r=>{try{await k.verifyLTIPlatform(r),t("LTI platform verified successfully!"),o()}catch(L){alert(L.response?.data?.message||"Failed to verify LTI platform")}};return e.jsxs("div",{className:a.panel,children:[e.jsxs("div",{className:a.header,children:[e.jsxs("div",{children:[e.jsx("h2",{className:a.title,children:"LTI 1.3 Integration"}),e.jsx("p",{className:a.description,children:"Connect external LMS platforms (Canvas, Moodle, Blackboard) for seamless integration"})]}),e.jsx("button",{className:a.addButton,onClick:()=>p(!i),disabled:d,children:i?"Cancel":"+ Add LTI Platform"})]}),l&&e.jsxs("div",{className:a.successMessage,children:["âœ“ ",l]}),i&&e.jsxs("form",{onSubmit:j,className:a.form,children:[e.jsx("h3",{className:a.formTitle,children:"Register LTI 1.3 Platform"}),e.jsxs("div",{className:a.formGroup,children:[e.jsx("label",{htmlFor:"platform_name",className:a.label,children:"Platform Name *"}),e.jsx("input",{type:"text",id:"platform_name",className:a.input,placeholder:"e.g., Canvas LMS",value:c.platform_name,onChange:r=>b({...c,platform_name:r.target.value})}),m.platform_name&&e.jsx("span",{className:a.error,children:m.platform_name})]}),e.jsxs("div",{className:a.formGroup,children:[e.jsxs("label",{htmlFor:"issuer",className:a.label,children:["Issuer URL *",e.jsx("span",{className:a.helpText,children:"The platform's issuer identifier (e.g., https://canvas.instructure.com)"})]}),e.jsx("input",{type:"url",id:"issuer",className:a.input,placeholder:"https://example.com",value:c.issuer,onChange:r=>b({...c,issuer:r.target.value})}),m.issuer&&e.jsx("span",{className:a.error,children:m.issuer})]}),e.jsxs("div",{className:a.formGroup,children:[e.jsxs("label",{htmlFor:"client_id",className:a.label,children:["Client ID *",e.jsx("span",{className:a.helpText,children:"The OAuth 2.0 client identifier provided by the LMS"})]}),e.jsx("input",{type:"text",id:"client_id",className:a.input,placeholder:"Client ID from LMS",value:c.client_id,onChange:r=>b({...c,client_id:r.target.value})}),m.client_id&&e.jsx("span",{className:a.error,children:m.client_id})]}),e.jsxs("div",{className:a.formGroup,children:[e.jsxs("label",{htmlFor:"auth_login_url",className:a.label,children:["Auth Login URL *",e.jsx("span",{className:a.helpText,children:"OIDC login initiation endpoint"})]}),e.jsx("input",{type:"url",id:"auth_login_url",className:a.input,placeholder:"https://example.com/api/lti/authorize_redirect",value:c.auth_login_url,onChange:r=>b({...c,auth_login_url:r.target.value})}),m.auth_login_url&&e.jsx("span",{className:a.error,children:m.auth_login_url})]}),e.jsxs("div",{className:a.formGroup,children:[e.jsxs("label",{htmlFor:"auth_token_url",className:a.label,children:["Auth Token URL *",e.jsx("span",{className:a.helpText,children:"OAuth 2.0 token endpoint"})]}),e.jsx("input",{type:"url",id:"auth_token_url",className:a.input,placeholder:"https://example.com/login/oauth2/token",value:c.auth_token_url,onChange:r=>b({...c,auth_token_url:r.target.value})}),m.auth_token_url&&e.jsx("span",{className:a.error,children:m.auth_token_url})]}),e.jsxs("div",{className:a.formGroup,children:[e.jsxs("label",{htmlFor:"jwks_url",className:a.label,children:["JWKS URL *",e.jsx("span",{className:a.helpText,children:"JSON Web Key Set endpoint for token verification"})]}),e.jsx("input",{type:"url",id:"jwks_url",className:a.input,placeholder:"https://example.com/api/lti/security/jwks",value:c.jwks_url,onChange:r=>b({...c,jwks_url:r.target.value})}),m.jwks_url&&e.jsx("span",{className:a.error,children:m.jwks_url})]}),e.jsxs("div",{className:a.formGroup,children:[e.jsxs("label",{htmlFor:"deployment_id",className:a.label,children:["Deployment ID (Optional)",e.jsx("span",{className:a.helpText,children:"Platform deployment identifier (if required by LMS)"})]}),e.jsx("input",{type:"text",id:"deployment_id",className:a.input,placeholder:"Deployment ID (optional)",value:c.deployment_id,onChange:r=>b({...c,deployment_id:r.target.value})})]}),m.submit&&e.jsx("div",{className:a.submitError,children:m.submit}),e.jsxs("div",{className:a.formActions,children:[e.jsx("button",{type:"button",className:a.cancelButton,onClick:()=>p(!1),disabled:d,children:"Cancel"}),e.jsx("button",{type:"submit",className:a.submitButton,disabled:d,children:d?"Registering...":"Register Platform"})]})]}),e.jsx("div",{className:a.platformList,children:s.length===0?e.jsxs("div",{className:a.emptyState,children:[e.jsx("p",{children:"No LTI platforms configured"}),e.jsx("p",{className:a.emptyStateHint,children:'Click "Add LTI Platform" to connect your first LMS'})]}):s.map(r=>e.jsxs("div",{className:a.platformCard,children:[e.jsxs("div",{className:a.platformHeader,children:[e.jsxs("div",{children:[e.jsx("h3",{className:a.platformName,children:r.platform_name}),e.jsx("p",{className:a.platformIssuer,children:r.issuer})]}),e.jsx(T,{status:r.is_active?"connected":"disconnected",lastSync:r.last_connection_at})]}),e.jsxs("div",{className:a.platformDetails,children:[e.jsxs("div",{className:a.detailRow,children:[e.jsx("span",{className:a.detailLabel,children:"Client ID:"}),e.jsx("code",{className:a.detailValue,children:r.client_id})]}),r.deployment_id&&e.jsxs("div",{className:a.detailRow,children:[e.jsx("span",{className:a.detailLabel,children:"Deployment ID:"}),e.jsx("code",{className:a.detailValue,children:r.deployment_id})]}),e.jsxs("div",{className:a.detailRow,children:[e.jsx("span",{className:a.detailLabel,children:"Verified:"}),e.jsx("span",{className:a.detailValue,children:r.verified_at?e.jsx("span",{className:a.verified,children:"âœ“ Verified"}):e.jsx("span",{className:a.unverified,children:"Not verified"})})]})]}),e.jsxs("div",{className:a.platformActions,children:[!r.verified_at&&e.jsx("button",{className:a.verifyButton,onClick:()=>B(r.id),children:"Verify Platform"}),r.is_active&&e.jsx("button",{className:a.deactivateButton,onClick:()=>$(r.id),children:"Deactivate"})]})]},r.id))}),e.jsxs("div",{className:a.instructions,children:[e.jsx("h3",{className:a.instructionsTitle,children:"LTI 1.3 Setup Instructions"}),e.jsxs("ol",{className:a.instructionsList,children:[e.jsx("li",{children:"In your LMS admin panel, navigate to LTI Developer Keys or External Apps"}),e.jsx("li",{children:"Create a new LTI 1.3 configuration"}),e.jsx("li",{children:"Use the following configuration values:"}),e.jsxs("ul",{className:a.configValues,children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Tool URL:"})," ",e.jsx("code",{children:"https://your-domain.com/lti/launch"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Redirect URIs:"})," ",e.jsx("code",{children:"https://your-domain.com/lti/callback"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Public JWK URL:"})," ",e.jsx("code",{children:"https://your-domain.com/lti/jwks"})]})]}),e.jsx("li",{children:"Copy the Issuer, Client ID, and platform URLs from your LMS"}),e.jsx("li",{children:'Click "Add LTI Platform" above and paste the values'}),e.jsx("li",{children:"Test the connection by launching from your LMS"})]})]})]})},ze="_panel_2nnhu_1",De="_header_2nnhu_1",Ee="_title_2nnhu_1",Re="_description_2nnhu_1",Oe="_emptyState_2nnhu_1",We="_emptyStateHint_2nnhu_1",Fe="_connectButtons_2nnhu_4",Pe="_connectButton_2nnhu_4",He="_google_2nnhu_26",Me="_outlook_2nnhu_31",Ge="_icon_2nnhu_46",Ve="_calendarList_2nnhu_50",qe="_calendarCard_2nnhu_56",Ke="_calendarHeader_2nnhu_63",Je="_calendarName_2nnhu_70",Ze="_calendarSubtitle_2nnhu_77",Ye="_settings_2nnhu_83",Qe="_settingRow_2nnhu_90",Xe="_calendarActions_2nnhu_104",es="_syncButton_2nnhu_109",ss="_disconnectButton_2nnhu_124",y={panel:ze,header:De,title:Ee,description:Re,emptyState:Oe,emptyStateHint:We,connectButtons:Fe,connectButton:Pe,google:He,outlook:Me,icon:Ge,calendarList:Ve,calendarCard:qe,calendarHeader:Ke,calendarName:Je,calendarSubtitle:Ze,settings:Ye,settingRow:Qe,calendarActions:Xe,syncButton:es,disconnectButton:ss},ts=({userId:f,calendars:s,onRefresh:o})=>{const[i,p]=w.useState(null),[c,b]=w.useState({}),[m,g]=w.useState(!1),d=t=>{const n=`${window.location.origin}/integrations/calendar/callback`,j=t==="google"?["https://www.googleapis.com/auth/calendar"]:["Calendars.ReadWrite"];k.initiateOAuthFlow(t==="google"?"google":"microsoft",j,n)},u=async t=>{if(window.confirm("Disconnect this calendar?"))try{await k.disconnectCalendar(t),o()}catch(n){alert(n.response?.data?.message||"Failed to disconnect calendar")}},l=async t=>{g(!0);try{const n=await k.triggerCalendarSync(t);alert(`Successfully synced ${n.synced_count} events`),o()}catch(n){alert(n.response?.data?.message||"Failed to sync calendar")}finally{g(!1)}};return e.jsxs("div",{className:y.panel,children:[e.jsx("div",{className:y.header,children:e.jsxs("div",{children:[e.jsx("h2",{className:y.title,children:"Calendar Sync"}),e.jsx("p",{className:y.description,children:"Automatically sync course deadlines and events to your calendar"})]})}),e.jsxs("div",{className:y.connectButtons,children:[e.jsxs("button",{className:`${y.connectButton} ${y.google}`,onClick:()=>d("google"),disabled:s.some(t=>t.provider_type==="google"),children:[e.jsx("span",{className:y.icon,children:"ðŸ“…"}),s.some(t=>t.provider_type==="google")?"Google Connected":"Connect Google Calendar"]}),e.jsxs("button",{className:`${y.connectButton} ${y.outlook}`,onClick:()=>d("outlook"),disabled:s.some(t=>t.provider_type==="outlook"),children:[e.jsx("span",{className:y.icon,children:"ðŸ“†"}),s.some(t=>t.provider_type==="outlook")?"Outlook Connected":"Connect Outlook Calendar"]})]}),s.length>0&&e.jsx("div",{className:y.calendarList,children:s.map(t=>e.jsxs("div",{className:y.calendarCard,children:[e.jsxs("div",{className:y.calendarHeader,children:[e.jsxs("div",{children:[e.jsx("h3",{className:y.calendarName,children:t.provider_type==="google"?"ðŸ“… Google Calendar":"ðŸ“† Outlook Calendar"}),t.calendar_name&&e.jsx("p",{className:y.calendarSubtitle,children:t.calendar_name})]}),e.jsx(T,{status:t.is_connected?"connected":"disconnected",lastSync:t.last_sync_at,errorMessage:t.last_sync_error||void 0})]}),e.jsxs("div",{className:y.settings,children:[e.jsxs("label",{className:y.settingRow,children:[e.jsx("input",{type:"checkbox",checked:t.sync_enabled,onChange:n=>{k.updateCalendarSettings(t.id,{sync_enabled:n.target.checked}).then(o)}}),e.jsx("span",{children:"Enable automatic sync"})]}),e.jsxs("label",{className:y.settingRow,children:[e.jsx("input",{type:"checkbox",checked:t.sync_deadline_reminders,disabled:!t.sync_enabled,onChange:n=>{k.updateCalendarSettings(t.id,{sync_deadline_reminders:n.target.checked}).then(o)}}),e.jsx("span",{children:"Sync assignment deadlines"})]}),e.jsxs("label",{className:y.settingRow,children:[e.jsx("input",{type:"checkbox",checked:t.sync_quiz_dates,disabled:!t.sync_enabled,onChange:n=>{k.updateCalendarSettings(t.id,{sync_quiz_dates:n.target.checked}).then(o)}}),e.jsx("span",{children:"Sync quiz dates"})]}),e.jsxs("label",{className:y.settingRow,children:[e.jsx("input",{type:"checkbox",checked:t.sync_class_schedules,disabled:!t.sync_enabled,onChange:n=>{k.updateCalendarSettings(t.id,{sync_class_schedules:n.target.checked}).then(o)}}),e.jsx("span",{children:"Sync class schedules"})]})]}),e.jsxs("div",{className:y.calendarActions,children:[e.jsx("button",{className:y.syncButton,onClick:()=>l(t.id),disabled:m,children:m?"Syncing...":"Sync Now"}),e.jsx("button",{className:y.disconnectButton,onClick:()=>u(t.id),children:"Disconnect"})]})]},t.id))}),s.length===0&&e.jsxs("div",{className:y.emptyState,children:[e.jsx("p",{children:"No calendars connected"}),e.jsx("p",{className:y.emptyStateHint,children:"Connect Google Calendar or Outlook to automatically sync course events"})]})]})},ns="_panel_w3n2e_1",as="_header_w3n2e_1",os="_title_w3n2e_1",rs="_description_w3n2e_1",is="_instructions_w3n2e_145",cs="_instructionsTitle_w3n2e_153",ls="_connectSection_w3n2e_4",ds="_connectButton_w3n2e_11",us="_slackIcon_w3n2e_30",hs="_connectHint_w3n2e_34",_s="_workspaceCard_w3n2e_40",ms="_workspaceHeader_w3n2e_46",ps="_workspaceName_w3n2e_53",gs="_workspaceDomain_w3n2e_59",bs="_settings_w3n2e_65",xs="_settingsTitle_w3n2e_72",fs="_settingRow_w3n2e_78",ks="_channels_w3n2e_85",js="_channelRow_w3n2e_92",ys="_channelInput_w3n2e_105",vs="_actions_w3n2e_112",ws="_testButton_w3n2e_117",Ns="_disconnectButton_w3n2e_131",x={panel:ns,header:as,title:os,description:rs,instructions:is,instructionsTitle:cs,connectSection:ls,connectButton:ds,slackIcon:us,connectHint:hs,workspaceCard:_s,workspaceHeader:ms,workspaceName:ps,workspaceDomain:gs,settings:bs,settingsTitle:xs,settingRow:fs,channels:ks,channelRow:js,channelInput:ys,actions:vs,testButton:ws,disconnectButton:Ns},Ss=({organizationId:f,workspace:s,onRefresh:o})=>{const[i,p]=w.useState(!1),c=()=>{const d=`${window.location.origin}/integrations/slack/callback`,u=["chat:write","channels:read","groups:read","users:read","incoming-webhook"];k.initiateOAuthFlow("slack",u,d)},b=async()=>{if(!(!s||!window.confirm("Disconnect Slack workspace?")))try{await k.disconnectSlackWorkspace(s.id),o()}catch(d){alert(d.response?.data?.message||"Failed to disconnect Slack")}},m=async()=>{if(s){p(!0);try{const d=await k.testSlackConnection(s.id);alert(d.message)}catch(d){alert(d.response?.data?.message||"Failed to test Slack connection")}finally{p(!1)}}},g=async d=>{if(s)try{await k.updateSlackSettings(s.id,d),o()}catch(u){alert(u.response?.data?.message||"Failed to update settings")}};return e.jsxs("div",{className:x.panel,children:[e.jsx("div",{className:x.header,children:e.jsxs("div",{children:[e.jsx("h2",{className:x.title,children:"ðŸ’¬ Slack Integration"}),e.jsx("p",{className:x.description,children:"Send automated notifications to Slack channels for course updates"})]})}),s?e.jsxs("div",{className:x.workspaceCard,children:[e.jsxs("div",{className:x.workspaceHeader,children:[e.jsxs("div",{children:[e.jsx("h3",{className:x.workspaceName,children:s.workspace_name||"Slack Workspace"}),s.workspace_domain&&e.jsxs("p",{className:x.workspaceDomain,children:[s.workspace_domain,".slack.com"]})]}),e.jsx(T,{status:s.is_active?"connected":"disconnected",lastSync:s.last_activity_at})]}),e.jsxs("div",{className:x.settings,children:[e.jsx("h4",{className:x.settingsTitle,children:"Notification Settings"}),e.jsxs("label",{className:x.settingRow,children:[e.jsx("input",{type:"checkbox",checked:s.enable_notifications,onChange:d=>g({enable_notifications:d.target.checked})}),e.jsx("span",{children:"Enable notifications"})]}),e.jsxs("label",{className:x.settingRow,children:[e.jsx("input",{type:"checkbox",checked:s.enable_commands,onChange:d=>g({enable_commands:d.target.checked})}),e.jsx("span",{children:"Enable slash commands"})]}),e.jsxs("label",{className:x.settingRow,children:[e.jsx("input",{type:"checkbox",checked:s.enable_ai_assistant,onChange:d=>g({enable_ai_assistant:d.target.checked})}),e.jsx("span",{children:"Enable AI assistant"})]})]}),e.jsxs("div",{className:x.channels,children:[e.jsx("h4",{className:x.settingsTitle,children:"Default Channels"}),e.jsxs("div",{className:x.channelRow,children:[e.jsx("label",{children:"Announcements Channel:"}),e.jsx("input",{type:"text",className:x.channelInput,placeholder:"#announcements",value:s.default_announcements_channel||"",onChange:d=>g({default_announcements_channel:d.target.value})})]}),e.jsxs("div",{className:x.channelRow,children:[e.jsx("label",{children:"Alerts Channel:"}),e.jsx("input",{type:"text",className:x.channelInput,placeholder:"#alerts",value:s.default_alerts_channel||"",onChange:d=>g({default_alerts_channel:d.target.value})})]})]}),e.jsxs("div",{className:x.actions,children:[e.jsx("button",{className:x.testButton,onClick:m,disabled:i,children:i?"Testing...":"Test Connection"}),e.jsx("button",{className:x.disconnectButton,onClick:b,children:"Disconnect"})]})]}):e.jsxs("div",{className:x.connectSection,children:[e.jsxs("button",{className:x.connectButton,onClick:c,children:[e.jsx("span",{className:x.slackIcon,children:"ðŸ’¬"}),"Add to Slack"]}),e.jsx("p",{className:x.connectHint,children:"Connect your Slack workspace to receive course notifications"})]}),e.jsxs("div",{className:x.instructions,children:[e.jsx("h4",{className:x.instructionsTitle,children:"Slack Integration Features"}),e.jsxs("ul",{children:[e.jsx("li",{children:"ðŸ“¢ Automatic notifications for course announcements"}),e.jsx("li",{children:"â° Deadline reminders sent to designated channels"}),e.jsx("li",{children:"ðŸ“Š Grade release notifications (optional)"}),e.jsx("li",{children:"ðŸ†• New content availability alerts"}),e.jsx("li",{children:"ðŸ’¬ Discussion reply notifications"}),e.jsx("li",{children:"ðŸ¤– AI assistant for course questions (beta)"})]})]})]})},Cs="_panel_o5mk4_1",$s="_header_o5mk4_1",Ls="_title_o5mk4_1",Ts="_description_o5mk4_1",Bs="_addButton_o5mk4_1",As="_form_o5mk4_1",Is="_formGroup_o5mk4_1",Us="_input_o5mk4_1",zs="_formActions_o5mk4_1",Ds="_cancelButton_o5mk4_1",Es="_submitButton_o5mk4_1",Rs="_emptyState_o5mk4_1",Os="_tabs_o5mk4_4",Ws="_tab_o5mk4_4",Fs="_active_o5mk4_27",Ps="_webhookList_o5mk4_32",Hs="_webhookCard_o5mk4_38",Ms="_webhookHeader_o5mk4_44",Gs="_webhookName_o5mk4_51",Vs="_webhookUrl_o5mk4_57",qs="_webhookToken_o5mk4_64",Ks="_webhookStats_o5mk4_76",Js="_webhookActions_o5mk4_84",Zs="_testButton_o5mk4_89",Ys="_deleteButton_o5mk4_103",Qs="_select_o5mk4_117",_={panel:Cs,header:$s,title:Ls,description:Ts,addButton:Bs,form:As,formGroup:Is,input:Us,formActions:zs,cancelButton:Ds,submitButton:Es,emptyState:Rs,tabs:Os,tab:Ws,active:Fs,webhookList:Ps,webhookCard:Hs,webhookHeader:Ms,webhookName:Gs,webhookUrl:Vs,webhookToken:qs,webhookStats:Ks,webhookActions:Js,testButton:Zs,deleteButton:Ys,select:Qs},Xs=({organizationId:f,outboundWebhooks:s,inboundWebhooks:o,onRefresh:i})=>{const[p,c]=w.useState("outbound"),[b,m]=w.useState(!1),[g,d]=w.useState({name:"",target_url:"",auth_type:"none",event_types:[]}),u=async n=>{n.preventDefault();try{await k.createOutboundWebhook(f,g),m(!1),d({name:"",target_url:"",auth_type:"none",event_types:[]}),i()}catch(j){alert(j.response?.data?.message||"Failed to create webhook")}},l=async n=>{try{const j=await k.testOutboundWebhook(n);alert(j.success?`Success! Status: ${j.status_code}`:`Failed: ${j.message}`)}catch(j){alert(j.response?.data?.message||"Failed to test webhook")}},t=async n=>{if(window.confirm("Delete this webhook?"))try{await k.deleteOutboundWebhook(n),i()}catch(j){alert(j.response?.data?.message||"Failed to delete webhook")}};return e.jsxs("div",{className:_.panel,children:[e.jsxs("div",{className:_.header,children:[e.jsxs("div",{children:[e.jsx("h2",{className:_.title,children:"ðŸ”— Webhooks"}),e.jsx("p",{className:_.description,children:"Send and receive events to/from external services"})]}),p==="outbound"&&e.jsx("button",{className:_.addButton,onClick:()=>m(!b),children:b?"Cancel":"+ Add Webhook"})]}),e.jsxs("div",{className:_.tabs,children:[e.jsxs("button",{className:`${_.tab} ${p==="outbound"?_.active:""}`,onClick:()=>c("outbound"),children:["Outbound (",s.length,")"]}),e.jsxs("button",{className:`${_.tab} ${p==="inbound"?_.active:""}`,onClick:()=>c("inbound"),children:["Inbound (",o.length,")"]})]}),b&&p==="outbound"&&e.jsxs("form",{onSubmit:u,className:_.form,children:[e.jsxs("div",{className:_.formGroup,children:[e.jsx("label",{children:"Webhook Name *"}),e.jsx("input",{type:"text",className:_.input,placeholder:"e.g., Zapier Enrollment Sync",value:g.name,onChange:n=>d({...g,name:n.target.value}),required:!0})]}),e.jsxs("div",{className:_.formGroup,children:[e.jsx("label",{children:"Target URL *"}),e.jsx("input",{type:"url",className:_.input,placeholder:"https://hooks.zapier.com/...",value:g.target_url,onChange:n=>d({...g,target_url:n.target.value}),required:!0})]}),e.jsxs("div",{className:_.formGroup,children:[e.jsx("label",{children:"Authentication Type"}),e.jsxs("select",{className:_.select,value:g.auth_type,onChange:n=>d({...g,auth_type:n.target.value}),children:[e.jsx("option",{value:"none",children:"None"}),e.jsx("option",{value:"bearer",children:"Bearer Token"}),e.jsx("option",{value:"basic",children:"Basic Auth"}),e.jsx("option",{value:"hmac",children:"HMAC Signature"}),e.jsx("option",{value:"api_key",children:"API Key"})]})]}),e.jsxs("div",{className:_.formActions,children:[e.jsx("button",{type:"button",className:_.cancelButton,onClick:()=>m(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:_.submitButton,children:"Create Webhook"})]})]}),p==="outbound"&&e.jsx("div",{className:_.webhookList,children:s.length===0?e.jsx("div",{className:_.emptyState,children:e.jsx("p",{children:"No outbound webhooks configured"})}):s.map(n=>e.jsxs("div",{className:_.webhookCard,children:[e.jsxs("div",{className:_.webhookHeader,children:[e.jsxs("div",{children:[e.jsx("h3",{className:_.webhookName,children:n.name}),e.jsx("p",{className:_.webhookUrl,children:n.target_url})]}),e.jsx(T,{status:n.is_active?"connected":"disconnected",lastSync:n.last_triggered_at})]}),e.jsxs("div",{className:_.webhookStats,children:[e.jsxs("span",{children:["Success: ",n.success_count]}),e.jsxs("span",{children:["Failed: ",n.failure_count]}),e.jsxs("span",{children:["Auth: ",n.auth_type]})]}),e.jsxs("div",{className:_.webhookActions,children:[e.jsx("button",{className:_.testButton,onClick:()=>l(n.id),children:"Test"}),e.jsx("button",{className:_.deleteButton,onClick:()=>t(n.id),children:"Delete"})]})]},n.id))}),p==="inbound"&&e.jsx("div",{className:_.webhookList,children:o.length===0?e.jsx("div",{className:_.emptyState,children:e.jsx("p",{children:"No inbound webhooks configured"})}):o.map(n=>e.jsxs("div",{className:_.webhookCard,children:[e.jsxs("div",{className:_.webhookHeader,children:[e.jsxs("div",{children:[e.jsx("h3",{className:_.webhookName,children:n.name}),e.jsxs("code",{className:_.webhookToken,children:[window.location.origin,"/webhooks/",n.webhook_token]})]}),e.jsx(T,{status:n.is_active?"connected":"disconnected",lastSync:n.last_received_at})]}),e.jsxs("div",{className:_.webhookStats,children:[e.jsxs("span",{children:["Received: ",n.total_received]}),e.jsxs("span",{children:["Processed: ",n.total_processed]}),e.jsxs("span",{children:["Failed: ",n.total_failed]})]})]},n.id))})]})},et="_panel_1omu5_1",st="_header_1omu5_1",tt="_title_1omu5_1",nt="_description_1omu5_1",at="_providerList_1omu5_4",ot="_providerCard_1omu5_11",rt="_providerHeader_1omu5_18",it="_providerInfo_1omu5_25",ct="_providerIcon_1omu5_31",lt="_providerName_1omu5_35",dt="_providerDetails_1omu5_41",ut="_tokenInfo_1omu5_47",ht="_tokenStats_1omu5_54",_t="_errorBadge_1omu5_62",mt="_tokenError_1omu5_70",pt="_providerActions_1omu5_79",gt="_connectButton_1omu5_84",bt="_refreshButton_1omu5_99",xt="_revokeButton_1omu5_114",ft="_infoBox_1omu5_129",kt="_infoTitle_1omu5_136",jt="_infoList_1omu5_149",v={panel:et,header:st,title:tt,description:nt,providerList:at,providerCard:ot,providerHeader:rt,providerInfo:it,providerIcon:ct,providerName:lt,providerDetails:dt,tokenInfo:ut,tokenStats:ht,errorBadge:_t,tokenError:mt,providerActions:pt,connectButton:gt,refreshButton:bt,revokeButton:xt,infoBox:ft,infoTitle:kt,infoList:jt},yt=[{id:"google",name:"Google",icon:"ðŸ”µ",color:"#4285F4"},{id:"microsoft",name:"Microsoft",icon:"ðŸŸ¦",color:"#00A4EF"},{id:"slack",name:"Slack",icon:"ðŸ’¬",color:"#4A154B"},{id:"github",name:"GitHub",icon:"ðŸ™",color:"#181717"},{id:"zoom",name:"Zoom",icon:"ðŸŽ¥",color:"#2D8CFF"}],vt=({userId:f,organizationId:s,tokens:o,onRefresh:i})=>{const p=u=>{const l=`${window.location.origin}/integrations/oauth/callback`,t={google:["profile","email","openid"],microsoft:["User.Read","Calendars.ReadWrite"],slack:["identity.basic"],github:["read:user"],zoom:["user:read"]};k.initiateOAuthFlow(u,t[u],l)},c=async(u,l)=>{if(window.confirm(`Revoke ${l} connection?`))try{await k.revokeOAuthToken(u),i()}catch(t){alert(t.response?.data?.message||"Failed to revoke connection")}},b=async u=>{try{await k.refreshOAuthToken(u),alert("Token refreshed successfully"),i()}catch(l){alert(l.response?.data?.message||"Failed to refresh token")}},m=u=>o.find(l=>l.provider===u),g=u=>u.expires_at?new Date(u.expires_at)<new Date:!1,d=u=>{if(!u)return"Never expires";const l=new Date(u),t=new Date,n=l.getTime()-t.getTime(),j=Math.floor(n/864e5);return n<0?"Expired":j===0?"Expires today":j===1?"Expires tomorrow":j<7?`Expires in ${j} days`:`Expires ${l.toLocaleDateString()}`};return e.jsxs("div",{className:v.panel,children:[e.jsx("div",{className:v.header,children:e.jsxs("div",{children:[e.jsx("h2",{className:v.title,children:"ðŸ” OAuth Connections"}),e.jsx("p",{className:v.description,children:"Manage connected third-party services and access tokens"})]})}),e.jsx("div",{className:v.providerList,children:yt.map(u=>{const l=m(u.id),t=l?g(l):!1;return e.jsxs("div",{className:v.providerCard,children:[e.jsxs("div",{className:v.providerHeader,children:[e.jsxs("div",{className:v.providerInfo,children:[e.jsx("span",{className:v.providerIcon,children:u.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:v.providerName,children:u.name}),l&&e.jsx("p",{className:v.providerDetails,children:d(l.expires_at)})]})]}),l?e.jsx(T,{status:l.is_valid?t?"error":"connected":"error",lastSync:l.last_used_at,errorMessage:l.last_error||void 0}):e.jsx(T,{status:"disconnected"})]}),l&&e.jsxs("div",{className:v.tokenInfo,children:[e.jsxs("div",{className:v.tokenStats,children:[e.jsxs("span",{children:["Scopes: ",l.scopes.length>0?l.scopes.join(", "):"None"]}),l.consecutive_failures>0&&e.jsxs("span",{className:v.errorBadge,children:[l.consecutive_failures," failed attempt(s)"]})]}),l.last_error&&e.jsxs("div",{className:v.tokenError,children:[e.jsx("strong",{children:"Last Error:"})," ",l.last_error]})]}),e.jsx("div",{className:v.providerActions,children:l?e.jsxs(e.Fragment,{children:[t&&e.jsx("button",{className:v.refreshButton,onClick:()=>b(l.id),children:"Refresh Token"}),e.jsx("button",{className:v.revokeButton,onClick:()=>c(l.id,u.name),children:"Revoke Access"})]}):e.jsx("button",{className:v.connectButton,onClick:()=>p(u.id),children:"Connect"})})]},u.id)})}),e.jsxs("div",{className:v.infoBox,children:[e.jsx("h4",{className:v.infoTitle,children:"About OAuth Connections"}),e.jsx("p",{children:"OAuth connections allow this platform to access external services on your behalf. Tokens are encrypted and stored securely. You can revoke access at any time."}),e.jsxs("ul",{className:v.infoList,children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Google:"})," Used for Calendar sync and Google Drive integration"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Microsoft:"})," Used for Outlook Calendar and OneDrive integration"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Slack:"})," Used for workspace notifications and commands"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"GitHub:"})," Used for code repository integration and version control"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Zoom:"})," Used for virtual classroom and meeting scheduling"]})]})]})]})},wt="_container_12md8_9",Nt="_pageHeader_12md8_16",St="_pageTitle_12md8_25",Ct="_pageDescription_12md8_32",$t="_refreshButton_12md8_38",Lt="_errorBanner_12md8_61",Tt="_tabs_12md8_81",Bt="_tab_12md8_81",At="_activeTab_12md8_111",It="_errorTab_12md8_117",Ut="_tabIcon_12md8_121",zt="_tabLabel_12md8_125",Dt="_tabBadge_12md8_129",Et="_tabErrorIndicator_12md8_147",Rt="_tabContent_12md8_161",Ot="_errorState_12md8_177",N={container:wt,pageHeader:Nt,pageTitle:St,pageDescription:Ct,refreshButton:$t,errorBanner:Lt,tabs:Tt,tab:Bt,activeTab:At,errorTab:It,tabIcon:Ut,tabLabel:zt,tabBadge:Dt,tabErrorIndicator:Et,tabContent:Rt,errorState:Ot},Mt=({organizationId:f,userId:s})=>{const[o,i]=w.useState("lti"),{ltiPlatforms:p,ltiError:c,calendars:b,calendarsError:m,slackWorkspace:g,slackError:d,outboundWebhooks:u,inboundWebhooks:l,webhooksError:t,oauthTokens:n,oauthError:j,isLoading:$,hasError:B,refreshAll:r,refreshLTI:L,refreshCalendars:A,refreshSlack:I,refreshWebhooks:U,refreshOAuth:z}=O(f,s),D=[{id:"lti",label:"LTI Platforms",icon:"ðŸ”—",count:p.length,error:c},{id:"calendar",label:"Calendar Sync",icon:"ðŸ“…",count:b.length,error:m},{id:"slack",label:"Slack",icon:"ðŸ’¬",count:g?1:0,error:d},{id:"webhooks",label:"Webhooks",icon:"ðŸ”—",count:u.length+l.length,error:t},{id:"oauth",label:"OAuth Connections",icon:"ðŸ”",count:n.length,error:j}],E=()=>{switch(o){case"lti":return e.jsx(Ue,{organizationId:f,platforms:p,onRefresh:L});case"calendar":return s?e.jsx(ts,{userId:s,calendars:b,onRefresh:A}):e.jsx("div",{className:N.errorState,children:e.jsx("p",{children:"Calendar sync requires user authentication"})});case"slack":return e.jsx(Ss,{organizationId:f,workspace:g,onRefresh:I});case"webhooks":return e.jsx(Xs,{organizationId:f,outboundWebhooks:u,inboundWebhooks:l,onRefresh:U});case"oauth":return e.jsx(vt,{userId:s,organizationId:f,tokens:n,onRefresh:z});default:return null}};return e.jsxs("div",{className:N.container,children:[e.jsxs("div",{className:N.pageHeader,children:[e.jsxs("div",{children:[e.jsx("h1",{className:N.pageTitle,children:"Integrations"}),e.jsx("p",{className:N.pageDescription,children:"Connect external services and manage integration settings"})]}),e.jsx("button",{className:N.refreshButton,onClick:r,disabled:$,title:"Refresh all integrations",children:$?"âŸ³ Refreshing...":"âŸ³ Refresh"})]}),B&&e.jsxs("div",{className:N.errorBanner,children:[e.jsx("strong",{children:"âš ï¸ Some integrations failed to load."}),e.jsx("span",{children:"Check individual tabs for details."})]}),e.jsx("div",{className:N.tabs,children:D.map(C=>e.jsxs("button",{className:`${N.tab} ${o===C.id?N.activeTab:""} ${C.error?N.errorTab:""}`,onClick:()=>i(C.id),children:[e.jsx("span",{className:N.tabIcon,children:C.icon}),e.jsx("span",{className:N.tabLabel,children:C.label}),C.count!==void 0&&C.count>0&&e.jsx("span",{className:N.tabBadge,children:C.count}),C.error&&e.jsx("span",{className:N.tabErrorIndicator,title:C.error,children:"!"})]},C.id))}),e.jsx("div",{className:N.tabContent,children:E()})]})};export{Mt as IntegrationsSettings,Mt as default};
//# sourceMappingURL=IntegrationsSettings-CdVNWDyw.js.map
