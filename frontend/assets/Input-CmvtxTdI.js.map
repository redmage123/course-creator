{"version":3,"file":"Input-CmvtxTdI.js","sources":["../../src/components/atoms/Input/Input.tsx"],"sourcesContent":["/**\n * Input Component - Tami Design System\n *\n * BUSINESS CONTEXT:\n * Primary text input component for form data collection across all user roles.\n * Provides consistent input styling with validation states for better UX.\n *\n * TECHNICAL IMPLEMENTATION:\n * React component implementing Tami input design with full accessibility support.\n * Includes validation states, helper text, labels, and various input types.\n *\n * DESIGN PRINCIPLES:\n * - Uses platform blue (#2563eb) for focus states\n * - 8px border radius (design system standard)\n * - Clear visual feedback for validation states\n * - WCAG 2.1 AA+ compliant\n * - Proper label association for screen readers\n */\n\nimport React, { InputHTMLAttributes, ReactNode, forwardRef, useState } from 'react';\nimport styles from './Input.module.css';\n\nexport type InputVariant = 'default' | 'success' | 'error' | 'warning';\nexport type InputSize = 'small' | 'medium' | 'large';\n\nexport interface InputProps extends Omit<InputHTMLAttributes<HTMLInputElement>, 'size'> {\n  /**\n   * Input validation state\n   * - default: Normal state\n   * - success: Valid input\n   * - error: Invalid input\n   * - warning: Warning state\n   */\n  variant?: InputVariant;\n\n  /**\n   * Input size\n   * - small: Compact (32px height)\n   * - medium: Default (44px height)\n   * - large: Emphasized (52px height)\n   */\n  size?: InputSize;\n\n  /**\n   * Label text displayed above input\n   */\n  label?: string;\n\n  /**\n   * Helper text displayed below input\n   * Used for instructions or error messages\n   */\n  helperText?: string;\n\n  /**\n   * Error message (convenience prop)\n   * Automatically sets variant=\"error\" and helperText={error}\n   * If provided, overrides variant and helperText props\n   */\n  error?: string;\n\n  /**\n   * Icon to display before input text\n   */\n  leftIcon?: ReactNode;\n\n  /**\n   * Icon to display after input text\n   */\n  rightIcon?: ReactNode;\n\n  /**\n   * Full width input (100% of container)\n   */\n  fullWidth?: boolean;\n\n  /**\n   * Required field indicator\n   */\n  required?: boolean;\n\n  /**\n   * Custom container className\n   */\n  containerClassName?: string;\n\n  /**\n   * Show password toggle for password fields\n   * When true and type=\"password\", shows eye icon to toggle visibility\n   */\n  showPasswordToggle?: boolean;\n\n  /**\n   * Help text displayed below input (alternative to helperText)\n   */\n  helpText?: string;\n}\n\n/**\n * Input Component\n *\n * WHY THIS APPROACH:\n * - CSS Modules prevent style conflicts\n * - TypeScript ensures type safety\n * - Extends native input props for full HTML support\n * - Forwards ref for form libraries (React Hook Form, Formik)\n * - Accessible by default (ARIA attributes, label association)\n * - Validation states provide clear visual feedback\n *\n * @example\n * ```tsx\n * // Basic input with label\n * <Input label=\"Email\" type=\"email\" placeholder=\"you@example.com\" />\n *\n * // Input with error state\n * <Input\n *   label=\"Password\"\n *   type=\"password\"\n *   variant=\"error\"\n *   helperText=\"Password must be at least 8 characters\"\n * />\n *\n * // Input with icon\n * <Input\n *   label=\"Search\"\n *   leftIcon={<SearchIcon />}\n *   placeholder=\"Search courses...\"\n * />\n *\n * // Required field\n * <Input\n *   label=\"Username\"\n *   required\n *   helperText=\"Choose a unique username\"\n * />\n * ```\n */\nexport const Input = forwardRef<HTMLInputElement, InputProps>(\n  (\n    {\n      variant = 'default',\n      size = 'medium',\n      label,\n      helperText,\n      helpText,\n      error,\n      leftIcon,\n      rightIcon,\n      fullWidth = false,\n      required = false,\n      disabled,\n      className,\n      containerClassName,\n      id,\n      type = 'text',\n      showPasswordToggle = false,\n      'aria-describedby': ariaDescribedBy,\n      ...props\n    },\n    ref\n  ) => {\n    // State for password visibility toggle\n    const [showPassword, setShowPassword] = useState(false);\n\n    // Determine if this is a password field that should show the toggle\n    const isPasswordField = type === 'password';\n    const shouldShowToggle = isPasswordField && showPasswordToggle;\n\n    // Determine effective input type (for password toggle)\n    const effectiveType = isPasswordField && showPassword ? 'text' : type;\n\n    // If error prop is provided, override variant and helperText\n    const effectiveVariant = error ? 'error' : variant;\n    const effectiveHelperText = error || helperText || helpText;\n\n    // Generate unique IDs for accessibility\n    const inputId = id || `input-${React.useId()}`;\n    const helperTextId = effectiveHelperText ? `${inputId}-helper` : undefined;\n    const describedBy = [ariaDescribedBy, helperTextId].filter(Boolean).join(' ') || undefined;\n\n    // Combine input class names\n    const inputClasses = [\n      styles.input,\n      styles[`input-${effectiveVariant}`],\n      styles[`input-${size}`],\n      leftIcon && styles['input-with-left-icon'],\n      rightIcon && styles['input-with-right-icon'],\n      disabled && styles['input-disabled'],\n      className,\n    ]\n      .filter(Boolean)\n      .join(' ');\n\n    // Combine container class names\n    const containerClasses = [\n      styles['input-container'],\n      fullWidth && styles['input-full-width'],\n      containerClassName,\n    ]\n      .filter(Boolean)\n      .join(' ');\n\n    return (\n      <div className={containerClasses}>\n        {/* Label */}\n        {label && (\n          <label htmlFor={inputId} className={styles.label}>\n            {label}\n            {required && <span className={styles.required} aria-label=\"required\">*</span>}\n          </label>\n        )}\n\n        {/* Input wrapper (for icons) */}\n        <div className={styles['input-wrapper']}>\n          {/* Left icon */}\n          {leftIcon && (\n            <span className={styles['input-icon-left']} aria-hidden=\"true\">\n              {leftIcon}\n            </span>\n          )}\n\n          {/* Input element */}\n          <input\n            ref={ref}\n            id={inputId}\n            type={effectiveType}\n            className={inputClasses}\n            disabled={disabled}\n            required={required}\n            aria-invalid={effectiveVariant === 'error'}\n            aria-describedby={describedBy}\n            {...props}\n          />\n\n          {/* Password visibility toggle */}\n          {shouldShowToggle && (\n            <button\n              type=\"button\"\n              className={styles['password-toggle']}\n              onClick={() => setShowPassword(!showPassword)}\n              aria-label={showPassword ? 'Hide password' : 'Show password'}\n              tabIndex={-1}\n            >\n              <i className={`fas ${showPassword ? 'fa-eye-slash' : 'fa-eye'}`} aria-hidden=\"true\"></i>\n            </button>\n          )}\n\n          {/* Right icon (only show if not showing password toggle) */}\n          {rightIcon && !shouldShowToggle && (\n            <span className={styles['input-icon-right']} aria-hidden=\"true\">\n              {rightIcon}\n            </span>\n          )}\n        </div>\n\n        {/* Helper text */}\n        {effectiveHelperText && (\n          <span\n            id={helperTextId}\n            className={`${styles['helper-text']} ${styles[`helper-text-${effectiveVariant}`]}`}\n            role={effectiveVariant === 'error' ? 'alert' : undefined}\n          >\n            {effectiveHelperText}\n          </span>\n        )}\n      </div>\n    );\n  }\n);\n\nInput.displayName = 'Input';\n"],"names":["Input","forwardRef","variant","size","label","helperText","helpText","error","leftIcon","rightIcon","fullWidth","required","disabled","className","containerClassName","id","type","showPasswordToggle","ariaDescribedBy","props","ref","showPassword","setShowPassword","useState","isPasswordField","shouldShowToggle","effectiveType","effectiveVariant","effectiveHelperText","inputId","React","helperTextId","describedBy","inputClasses","styles","containerClasses","jsxs","jsx"],"mappings":"+pCAyIaA,EAAQC,EAAAA,WACnB,CACE,CACE,QAAAC,EAAU,UACV,KAAAC,EAAO,SACP,MAAAC,EACA,WAAAC,EACA,SAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,UAAAC,EAAY,GACZ,SAAAC,EAAW,GACX,SAAAC,EACA,UAAAC,EACA,mBAAAC,EACA,GAAAC,EACA,KAAAC,EAAO,OACP,mBAAAC,EAAqB,GACrB,mBAAoBC,EACpB,GAAGC,CAAA,EAELC,IACG,CAEH,KAAM,CAACC,EAAcC,CAAe,EAAIC,EAAAA,SAAS,EAAK,EAGhDC,EAAkBR,IAAS,WAC3BS,EAAmBD,GAAmBP,EAGtCS,EAAgBF,GAAmBH,EAAe,OAASL,EAG3DW,EAAmBpB,EAAQ,QAAUL,EACrC0B,EAAsBrB,GAASF,GAAcC,EAG7CuB,EAAUd,GAAM,SAASe,EAAM,OAAO,GACtCC,EAAeH,EAAsB,GAAGC,CAAO,UAAY,OAC3DG,EAAc,CAACd,EAAiBa,CAAY,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG,GAAK,OAG3EE,EAAe,CACnBC,EAAO,MACPA,EAAO,SAASP,CAAgB,EAAE,EAClCO,EAAO,SAAS/B,CAAI,EAAE,EACtBK,GAAY0B,EAAO,sBAAsB,EACzCzB,GAAayB,EAAO,uBAAuB,EAC3CtB,GAAYsB,EAAO,gBAAgB,EACnCrB,CAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG,EAGLsB,EAAmB,CACvBD,EAAO,iBAAiB,EACxBxB,GAAawB,EAAO,kBAAkB,EACtCpB,CAAA,EAEC,OAAO,OAAO,EACd,KAAK,GAAG,EAEX,OACEsB,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAEb,SAAA,CAAA/B,UACE,QAAA,CAAM,QAASyB,EAAS,UAAWK,EAAO,MACxC,SAAA,CAAA9B,EACAO,SAAa,OAAA,CAAK,UAAWuB,EAAO,SAAU,aAAW,WAAW,SAAA,GAAA,CAAC,CAAA,EACxE,EAIFE,EAAAA,KAAC,MAAA,CAAI,UAAWF,EAAO,eAAe,EAEnC,SAAA,CAAA1B,GACC6B,EAAAA,IAAC,QAAK,UAAWH,EAAO,iBAAiB,EAAG,cAAY,OACrD,SAAA1B,CAAA,CACH,EAIF6B,EAAAA,IAAC,QAAA,CACC,IAAAjB,EACA,GAAIS,EACJ,KAAMH,EACN,UAAWO,EACX,SAAArB,EACA,SAAAD,EACA,eAAcgB,IAAqB,QACnC,mBAAkBK,EACjB,GAAGb,CAAA,CAAA,EAILM,GACCY,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAWH,EAAO,iBAAiB,EACnC,QAAS,IAAMZ,EAAgB,CAACD,CAAY,EAC5C,aAAYA,EAAe,gBAAkB,gBAC7C,SAAU,GAEV,SAAAgB,EAAAA,IAAC,KAAE,UAAW,OAAOhB,EAAe,eAAiB,QAAQ,GAAI,cAAY,MAAA,CAAO,CAAA,CAAA,EAKvFZ,GAAa,CAACgB,GACbY,MAAC,OAAA,CAAK,UAAWH,EAAO,kBAAkB,EAAG,cAAY,OACtD,SAAAzB,CAAA,CACH,CAAA,EAEJ,EAGCmB,GACCS,EAAAA,IAAC,OAAA,CACC,GAAIN,EACJ,UAAW,GAAGG,EAAO,aAAa,CAAC,IAAIA,EAAO,eAAeP,CAAgB,EAAE,CAAC,GAChF,KAAMA,IAAqB,QAAU,QAAU,OAE9C,SAAAC,CAAA,CAAA,CACH,EAEJ,CAEJ,CACF,EAEA5B,EAAM,YAAc"}