import{j as l}from"./query-vendor-D-Supqfh.js";import{a}from"./react-vendor-DF6vRnOe.js";const P="_dropdownSlideIn_5cyjv_1",t={"select-container":"_select-container_5cyjv_15","select-label":"_select-label_5cyjv_28","select-required":"_select-required_5cyjv_39","select-trigger":"_select-trigger_5cyjv_49","select-small":"_select-small_5cyjv_93","select-medium":"_select-medium_5cyjv_98","select-large":"_select-large_5cyjv_103","select-value":"_select-value_5cyjv_112","select-search":"_select-search_5cyjv_124","select-arrow":"_select-arrow_5cyjv_150","select-arrow-open":"_select-arrow-open_5cyjv_159","select-dropdown":"_select-dropdown_5cyjv_167",dropdownSlideIn:P,"select-option":"_select-option_5cyjv_213","select-option-highlighted":"_select-option-highlighted_5cyjv_237","select-option-selected":"_select-option-selected_5cyjv_241","select-option-disabled":"_select-option-disabled_5cyjv_247","select-option-empty":"_select-option-empty_5cyjv_257","select-option-label":"_select-option-label_5cyjv_274","select-checkbox":"_select-checkbox_5cyjv_286","select-checkmark":"_select-checkmark_5cyjv_316","select-message":"_select-message_5cyjv_326","select-helper-text":"_select-helper-text_5cyjv_333","select-error-text":"_select-error-text_5cyjv_337","select-error":"_select-error_5cyjv_337","select-disabled":"_select-disabled_5cyjv_362"},U=a.forwardRef(({options:u,value:x,defaultValue:I,onChange:$,placeholder:f="Select...",label:m,helperText:L,error:_,required:S=!1,disabled:p=!1,searchable:D=!1,multiple:o=!1,size:A="medium",className:R,name:C,id:M},B)=>{const[r,i]=a.useState(!1),[b,j]=a.useState(""),[d,h]=a.useState(0),[O,T]=a.useState(I??(o?[]:"")),y=a.useRef(null),q=a.useRef(null),g=a.useRef(null),c=x!==void 0?x:O,n=b?u.filter(e=>e.label.toLowerCase().includes(b.toLowerCase())):u,W=a.useCallback(()=>o&&Array.isArray(c)?c.length===0?f:c.length===1?u.find(N=>N.value===c[0])?.label||f:`${c.length} selected`:u.find(s=>s.value===c)?.label||f,[c,o,u,f]),k=e=>{let s;o&&Array.isArray(c)?c.includes(e)?s=c.filter(N=>N!==e):s=[...c,e]:(s=e,i(!1)),x===void 0&&T(s),$?.(s),j("")},H=e=>{if(!p)switch(e.key){case"ArrowDown":e.preventDefault(),r?h(s=>s<n.length-1?s+1:s):i(!0);break;case"ArrowUp":e.preventDefault(),r&&h(s=>s>0?s-1:0);break;case"Enter":if(e.preventDefault(),r&&n[d]){const s=n[d];s.disabled||k(s.value)}else i(!0);break;case"Escape":e.preventDefault(),i(!1),j("");break;case" ":if(!D){if(e.preventDefault(),!r)i(!0);else if(n[d]){const s=n[d];s.disabled||k(s.value)}}break;case"Tab":r&&i(!1);break;case"Home":e.preventDefault(),r&&h(0);break;case"End":e.preventDefault(),r&&h(n.length-1);break;case"PageUp":e.preventDefault(),r&&h(s=>Math.max(0,s-5));break;case"PageDown":e.preventDefault(),r&&h(s=>Math.min(n.length-1,s+5));break}};a.useEffect(()=>{const e=s=>{y.current&&!y.current.contains(s.target)&&(i(!1),j(""))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),a.useEffect(()=>{if(r&&g.current){const e=g.current.children[d];e&&e.scrollIntoView({block:"nearest",behavior:"smooth"})}},[d,r]),a.useEffect(()=>{h(0)},[n]);const v=e=>o&&Array.isArray(c)?c.includes(e):c===e,w=M||`select-${Math.random().toString(36).substr(2,9)}`,E=`${w}-listbox`,K=[t["select-container"],t[`select-${A}`],_&&t["select-error"],p&&t["select-disabled"],R].filter(Boolean).join(" ");return l.jsxs("div",{ref:y,className:K,children:[m&&l.jsxs("label",{htmlFor:w,className:t["select-label"],children:[m,S&&l.jsx("span",{className:t["select-required"],children:"*"})]}),l.jsxs("div",{ref:B,className:t["select-trigger"],onClick:()=>!p&&i(!r),onKeyDown:H,role:"combobox","aria-expanded":r,"aria-haspopup":"listbox","aria-controls":E,"aria-labelledby":m?`${w}-label`:void 0,"aria-invalid":!!_,"aria-required":S,tabIndex:p?-1:0,children:[D&&r?l.jsx("input",{ref:q,type:"text",className:t["select-search"],value:b,onChange:e=>j(e.target.value),placeholder:"Type to search..."}):l.jsx("span",{className:t["select-value"],children:W()}),l.jsx("svg",{className:`${t["select-arrow"]} ${r?t["select-arrow-open"]:""}`,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:l.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),r&&l.jsx("ul",{ref:g,id:E,className:t["select-dropdown"],role:"listbox","aria-multiselectable":o,children:n.length===0?l.jsx("li",{className:t["select-option-empty"],role:"option",children:"No options found"}):n.map((e,s)=>l.jsxs("li",{className:`${t["select-option"]} ${v(e.value)?t["select-option-selected"]:""} ${s===d?t["select-option-highlighted"]:""} ${e.disabled?t["select-option-disabled"]:""}`,role:"option","aria-selected":v(e.value),"aria-disabled":e.disabled,onClick:()=>!e.disabled&&k(e.value),children:[o&&l.jsx("span",{className:t["select-checkbox"],children:v(e.value)&&l.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:l.jsx("path",{d:"M13.333 4L6 11.333L2.667 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),l.jsx("span",{className:t["select-option-label"],children:e.label}),!o&&v(e.value)&&l.jsx("svg",{className:t["select-checkmark"],width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:l.jsx("path",{d:"M13.333 4L6 11.333L2.667 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]},e.value))}),(L||_)&&l.jsx("div",{className:t["select-message"],children:_?l.jsx("span",{className:t["select-error-text"],children:_}):l.jsx("span",{className:t["select-helper-text"],children:L})}),C&&l.jsx("input",{type:"hidden",name:C,value:Array.isArray(c)?c.join(","):c})]})});U.displayName="Select";export{U as S};
//# sourceMappingURL=Select-DYtXz80p.js.map
