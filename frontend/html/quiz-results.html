<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="../css/modern-ui/modern-ui.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Results - Course Creator</title>
    <link rel="stylesheet" href="../css/design-system.css">
    <link rel="stylesheet" href="../css/accessibility.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            font-family: var(--font-primary, 'Inter', -apple-system, sans-serif);
            background: var(--surface-base, #f5f7fa);
            margin: 0;
            padding: 0;
        }

        .site-header {
            background: white;
            border-bottom: 1px solid var(--border, #e5e7eb);
            padding: 1rem 2rem;
        }

        .results-container {
            max-width: 600px;
            margin: 50px auto;
            background: white;
            padding: 40px;
            border-radius: var(--radius-lg, 12px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
        }

        .quiz-score {
            font-size: 3rem;
            font-weight: bold;
            color: var(--primary-600, #2563eb);
            margin: 20px 0;
        }

        .score-percentage {
            font-size: 4rem;
            font-weight: bold;
            color: var(--success-600, #16a34a);
            margin: 20px 0;
        }

        .quiz-passed {
            background: var(--success-100, #dcfce7);
            color: var(--success-700, #15803d);
            padding: 15px 20px;
            border-radius: var(--radius-md, 8px);
            margin: 20px 0;
            font-size: 1.25rem;
            font-weight: 600;
        }

        .quiz-failed {
            background: var(--error-100, #fee2e2);
            color: var(--error-700, #b91c1c);
            padding: 15px 20px;
            border-radius: var(--radius-md, 8px);
            margin: 20px 0;
            font-size: 1.25rem;
            font-weight: 600;
        }

        .correct-count {
            font-size: 1.25rem;
            color: var(--text-secondary, #6b7280);
            margin: 20px 0;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: var(--radius-md, 8px);
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            display: inline-block;
            margin: 10px;
        }

        .btn-primary {
            background: var(--primary-600, #2563eb);
            color: white;
        }

        .btn-secondary {
            background: var(--surface-elevated, #f9fafb);
            color: var(--text-primary, #1a202c);
            border: 1px solid var(--border, #e5e7eb);
        }
    </style>
</head>
<body>
    <!-- Skip links for accessibility -->
    <div class="skip-links">
        <a href="#main-content" class="skip-link">Skip to main content</a>
    </div>

    <header class="site-header" role="banner">
        <nav aria-label="Results navigation">
            <a href="/dashboard" class="link-primary">
                <i class="fas fa-arrow-left"></i> Back to Dashboard
            </a>
        </nav>
    </header>

    <main id="main-content" class="results-container" role="main">
        <h1>Quiz Completed!</h1>
        
        <div class="score-percentage" id="score-percentage">0%</div>
        <div class="quiz-score" id="quiz-score">Score: 0/5</div>
        
        <div id="pass-status"></div>
        
        <div class="correct-count" id="correct-count">
            You answered 0 out of 5 questions correctly.
        </div>

        <div class="mt-8">
            <a href="/quiz" class="btn btn-secondary" id="retake-quiz-btn">
                <i class="fas fa-redo"></i> Retake Quiz
            </a>
            <a href="/course-content" class="btn btn-primary" id="continue-course-btn">
                <i class="fas fa-arrow-right"></i> Continue Course
            </a>
        </div>
    </main>

    <script>
        // Load results from sessionStorage
        const scorePercentage = parseInt(sessionStorage.getItem('quizScore')) || 0;
        const correctCount = parseInt(sessionStorage.getItem('correctCount')) || 0;
        const totalQuestions = parseInt(sessionStorage.getItem('totalQuestions')) || 5;

        // Display results
        document.getElementById('score-percentage').textContent = scorePercentage + '%';
        document.getElementById('quiz-score').textContent = `Score: ${correctCount}/${totalQuestions}`;
        document.getElementById('correct-count').textContent = 
            `You answered ${correctCount} out of ${totalQuestions} questions correctly.`;

        // Show pass/fail message
        const passStatus = document.getElementById('pass-status');
        if (scorePercentage >= 70) {
            passStatus.className = 'quiz-passed';
            passStatus.innerHTML = '<i class="fas fa-check-circle"></i> Congratulations! You passed!';
        } else {
            passStatus.className = 'quiz-failed';
            passStatus.innerHTML = '<i class="fas fa-times-circle"></i> Keep studying and try again!';
        }
    </script>
    <script src="../js/accessibility-manager.js"></script>
</body>
</html>
