<!DOCTYPE html>
<html>
<head>
    <title>Toggle Functions Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-result { margin: 10px 0; padding: 10px; border-radius: 5px; }
        .pass { background-color: #d4edda; color: #155724; }
        .fail { background-color: #f8d7da; color: #721c24; }
        .test-button { margin: 5px; padding: 5px 10px; }
    </style>
</head>
<body>
    <h1>Lab Toggle Functions Test</h1>
    <div id="test-results"></div>
    
    <!-- Test buttons similar to lab.html -->
    <div>
        <h3>Test Toggle Buttons:</h3>
        <button class="test-button" onclick="togglePanel('exercises')">Toggle Exercises</button>
        <button class="test-button" onclick="togglePanel('editor')">Toggle Editor</button>
        <button class="test-button" onclick="runCode()">Run Code</button>
        <button class="test-button" onclick="clearCode()">Clear Code</button>
    </div>
    
    <script type="module">
        // Import the configuration
        import { CONFIG } from './js/config.js';
        
        // Make CONFIG available globally
        window.CONFIG = CONFIG;
        
        // Test function to check if functions are available
        function runTests() {
            const results = document.getElementById('test-results');
            results.innerHTML = '';
            
            const requiredFunctions = [
                'togglePanel',
                'focusTerminalInput',
                'runCode',
                'clearCode',
                'sendMessage',
                'changeLanguage',
                'selectExercise',
                'toggleSolution',
                'displayExercises',
                'forceDisplayExercises'
            ];
            
            requiredFunctions.forEach(funcName => {
                const div = document.createElement('div');
                div.className = 'test-result';
                
                if (typeof window[funcName] === 'function') {
                    div.className += ' pass';
                    div.textContent = `✓ ${funcName} is available`;
                } else {
                    div.className += ' fail';
                    div.textContent = `✗ ${funcName} is NOT available`;
                }
                
                results.appendChild(div);
            });
        }
        
        // Test immediately
        console.log('Testing functions immediately...');
        runTests();
        
        // Load the lab template as a regular script
        const script = document.createElement('script');
        script.src = 'js/lab-template.js';
        script.onload = () => {
            console.log('Lab template loaded, re-testing functions...');
            setTimeout(() => {
                runTests();
            }, 100);
        };
        document.head.appendChild(script);
    </script>
</body>
</html>